(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var fm={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function g1(){if(bv)return Ll;bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Iv;function y1(){return Iv||(Iv=1,fm.exports=g1()),fm.exports}var R=y1(),dm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function _1(){if(Cv)return Ce;Cv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,$={};function q(N,Q,J){this.props=N,this.context=Q,this.refs=$,this.updater=J||L}q.prototype.isReactComponent={},q.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function K(){}K.prototype=q.prototype;function se(N,Q,J){this.props=N,this.context=Q,this.refs=$,this.updater=J||L}var ae=se.prototype=new K;ae.constructor=se,j(ae,q.prototype),ae.isPureReactComponent=!0;var Ae=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},De=Object.prototype.hasOwnProperty;function P(N,Q,J,ie,de,Ie){return J=Ie.ref,{$$typeof:i,type:N,key:Q,ref:J!==void 0?J:null,props:Ie}}function C(N,Q){return P(N.type,Q,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function O(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(J){return Q[J]})}var M=/\/+/g;function k(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):Q.toString(36)}function I(){}function fe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function xe(N,Q,J,ie,de){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var we=!1;if(N===null)we=!0;else switch(Ie){case"bigint":case"string":case"number":we=!0;break;case"object":switch(N.$$typeof){case i:case e:we=!0;break;case E:return we=N._init,xe(we(N._payload),Q,J,ie,de)}}if(we)return de=de(N),we=ie===""?"."+k(N,0):ie,Ae(de)?(J="",we!=null&&(J=we.replace(M,"$&/")+"/"),xe(de,Q,J,"",function(Xn){return Xn})):de!=null&&(b(de)&&(de=C(de,J+(de.key==null||N&&N.key===de.key?"":(""+de.key).replace(M,"$&/")+"/")+we)),Q.push(de)),1;we=0;var xt=ie===""?".":ie+":";if(Ae(N))for(var tt=0;tt<N.length;tt++)ie=N[tt],Ie=xt+k(ie,tt),we+=xe(ie,Q,J,Ie,de);else if(tt=w(N),typeof tt=="function")for(N=tt.call(N),tt=0;!(ie=N.next()).done;)ie=ie.value,Ie=xt+k(ie,tt++),we+=xe(ie,Q,J,Ie,de);else if(Ie==="object"){if(typeof N.then=="function")return xe(fe(N),Q,J,ie,de);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(N,Q,J){if(N==null)return N;var ie=[],de=0;return xe(N,ie,"","",function(Ie){return Q.call(J,Ie,de++)}),ie}function ne(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(J){(N._status===0||N._status===-1)&&(N._status=1,N._result=J)},function(J){(N._status===0||N._status===-1)&&(N._status=2,N._result=J)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var oe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function ge(){}return Ce.Children={map:X,forEach:function(N,Q,J){X(N,function(){Q.apply(this,arguments)},J)},count:function(N){var Q=0;return X(N,function(){Q++}),Q},toArray:function(N){return X(N,function(Q){return Q})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=se,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(N){return he.H.useMemoCache(N)}},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,Q,J){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=j({},N.props),de=N.key,Ie=void 0;if(Q!=null)for(we in Q.ref!==void 0&&(Ie=void 0),Q.key!==void 0&&(de=""+Q.key),Q)!De.call(Q,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&Q.ref===void 0||(ie[we]=Q[we]);var we=arguments.length-2;if(we===1)ie.children=J;else if(1<we){for(var xt=Array(we),tt=0;tt<we;tt++)xt[tt]=arguments[tt+2];ie.children=xt}return P(N.type,de,void 0,void 0,Ie,ie)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,Q,J){var ie,de={},Ie=null;if(Q!=null)for(ie in Q.key!==void 0&&(Ie=""+Q.key),Q)De.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=Q[ie]);var we=arguments.length-2;if(we===1)de.children=J;else if(1<we){for(var xt=Array(we),tt=0;tt<we;tt++)xt[tt]=arguments[tt+2];de.children=xt}if(N&&N.defaultProps)for(ie in we=N.defaultProps,we)de[ie]===void 0&&(de[ie]=we[ie]);return P(N,Ie,void 0,void 0,null,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=b,Ce.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ne}},Ce.memo=function(N,Q){return{$$typeof:g,type:N,compare:Q===void 0?null:Q}},Ce.startTransition=function(N){var Q=he.T,J={};he.T=J;try{var ie=N(),de=he.S;de!==null&&de(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ge,oe)}catch(Ie){oe(Ie)}finally{he.T=Q}},Ce.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ce.use=function(N){return he.H.use(N)},Ce.useActionState=function(N,Q,J){return he.H.useActionState(N,Q,J)},Ce.useCallback=function(N,Q){return he.H.useCallback(N,Q)},Ce.useContext=function(N){return he.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,Q){return he.H.useDeferredValue(N,Q)},Ce.useEffect=function(N,Q,J){var ie=he.H;if(typeof J=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,Q)},Ce.useId=function(){return he.H.useId()},Ce.useImperativeHandle=function(N,Q,J){return he.H.useImperativeHandle(N,Q,J)},Ce.useInsertionEffect=function(N,Q){return he.H.useInsertionEffect(N,Q)},Ce.useLayoutEffect=function(N,Q){return he.H.useLayoutEffect(N,Q)},Ce.useMemo=function(N,Q){return he.H.useMemo(N,Q)},Ce.useOptimistic=function(N,Q){return he.H.useOptimistic(N,Q)},Ce.useReducer=function(N,Q,J){return he.H.useReducer(N,Q,J)},Ce.useRef=function(N){return he.H.useRef(N)},Ce.useState=function(N){return he.H.useState(N)},Ce.useSyncExternalStore=function(N,Q,J){return he.H.useSyncExternalStore(N,Q,J)},Ce.useTransition=function(){return he.H.useTransition()},Ce.version="19.1.0",Ce}var Dv;function pp(){return Dv||(Dv=1,dm.exports=_1()),dm.exports}var x=pp(),mm={exports:{}},Ul={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function v1(){return Nv||(Nv=1,function(i){function e(X,ne){var oe=X.length;X.push(ne);e:for(;0<oe;){var ge=oe-1>>>1,N=X[ge];if(0<o(N,ne))X[ge]=ne,X[oe]=N,oe=ge;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ne=X[0],oe=X.pop();if(oe!==ne){X[0]=oe;e:for(var ge=0,N=X.length,Q=N>>>1;ge<Q;){var J=2*(ge+1)-1,ie=X[J],de=J+1,Ie=X[de];if(0>o(ie,oe))de<N&&0>o(Ie,ie)?(X[ge]=Ie,X[de]=oe,ge=de):(X[ge]=ie,X[J]=oe,ge=J);else if(de<N&&0>o(Ie,oe))X[ge]=Ie,X[de]=oe,ge=de;else break e}}return ne}function o(X,ne){var oe=X.sortIndex-ne.sortIndex;return oe!==0?oe:X.id-ne.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,w=3,L=!1,j=!1,$=!1,q=!1,K=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Ae(X){for(var ne=n(g);ne!==null;){if(ne.callback===null)s(g);else if(ne.startTime<=X)s(g),ne.sortIndex=ne.expirationTime,e(p,ne);else break;ne=n(g)}}function he(X){if($=!1,Ae(X),!j)if(n(p)!==null)j=!0,De||(De=!0,k());else{var ne=n(g);ne!==null&&xe(he,ne.startTime-X)}}var De=!1,P=-1,C=5,b=-1;function O(){return q?!0:!(i.unstable_now()-b<C)}function M(){if(q=!1,De){var X=i.unstable_now();b=X;var ne=!0;try{e:{j=!1,$&&($=!1,se(P),P=-1),L=!0;var oe=w;try{t:{for(Ae(X),A=n(p);A!==null&&!(A.expirationTime>X&&O());){var ge=A.callback;if(typeof ge=="function"){A.callback=null,w=A.priorityLevel;var N=ge(A.expirationTime<=X);if(X=i.unstable_now(),typeof N=="function"){A.callback=N,Ae(X),ne=!0;break t}A===n(p)&&s(p),Ae(X)}else s(p);A=n(p)}if(A!==null)ne=!0;else{var Q=n(g);Q!==null&&xe(he,Q.startTime-X),ne=!1}}break e}finally{A=null,w=oe,L=!1}ne=void 0}}finally{ne?k():De=!1}}}var k;if(typeof ae=="function")k=function(){ae(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,fe=I.port2;I.port1.onmessage=M,k=function(){fe.postMessage(null)}}else k=function(){K(M,0)};function xe(X,ne){P=K(function(){X(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var oe=w;w=ne;try{return X()}finally{w=oe}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(X,ne){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var oe=w;w=X;try{return ne()}finally{w=oe}},i.unstable_scheduleCallback=function(X,ne,oe){var ge=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?ge+oe:ge):oe=ge,X){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=oe+N,X={id:E++,callback:ne,priorityLevel:X,startTime:oe,expirationTime:N,sortIndex:-1},oe>ge?(X.sortIndex=oe,e(g,X),n(p)===null&&X===n(g)&&($?(se(P),P=-1):$=!0,xe(he,oe-ge))):(X.sortIndex=N,e(p,X),j||L||(j=!0,De||(De=!0,k()))),X},i.unstable_shouldYield=O,i.unstable_wrapCallback=function(X){var ne=w;return function(){var oe=w;w=ne;try{return X.apply(this,arguments)}finally{w=oe}}}}(gm)),gm}var Ov;function E1(){return Ov||(Ov=1,pm.exports=v1()),pm.exports}var ym={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function T1(){if(xv)return Qt;xv=1;var i=pp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var Mv;function S1(){if(Mv)return ym.exports;Mv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=T1(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function A1(){if(Pv)return Ul;Pv=1;var i=E1(),e=pp(),n=S1();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function fe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case q:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case De:return"SuspenseList";case b:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case Ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:fe(t.type)||"Memo";case C:r=t._payload,t=t._init;try{return fe(t(r))}catch{}}return null}var xe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},ge=[],N=-1;function Q(t){return{current:t}}function J(t){0>N||(t.current=ge[N],ge[N]=null,N--)}function ie(t,r){N++,ge[N]=t.current,t.current=r}var de=Q(null),Ie=Q(null),we=Q(null),xt=Q(null);function tt(t,r){switch(ie(we,r),ie(Ie,t),ie(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?ev(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=ev(r),t=tv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(de),ie(de,t)}function Xn(){J(de),J(Ie),J(we)}function cr(t){t.memoizedState!==null&&ie(xt,t);var r=de.current,a=tv(r,t.type);r!==a&&(ie(Ie,t),ie(de,a))}function bi(t){Ie.current===t&&(J(de),J(Ie)),xt.current===t&&(J(xt),xl._currentValue=oe)}var as=Object.prototype.hasOwnProperty,os=i.unstable_scheduleCallback,ls=i.unstable_cancelCallback,Do=i.unstable_shouldYield,Ru=i.unstable_requestPaint,Sn=i.unstable_now,ff=i.unstable_getCurrentPriorityLevel,No=i.unstable_ImmediatePriority,oa=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,df=i.unstable_LowPriority,la=i.unstable_IdlePriority,Oo=i.log,bu=i.unstable_setDisableYieldValue,ct=null,Ye=null;function hn(t){if(typeof Oo=="function"&&bu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ct,t)}catch{}}var $t=Math.clz32?Math.clz32:cs,Iu=Math.log,mf=Math.LN2;function cs(t){return t>>>=0,t===0?32:31-(Iu(t)/mf|0)|0}var hs=256,fs=4194304;function Un(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ua(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Un(l):(v&=T,v!==0?h=Un(v):a||(a=T&~t,a!==0&&(h=Un(a))))):(T=l&~d,T!==0?h=Un(T):v!==0?h=Un(v):a||(a=l&~t,a!==0&&(h=Un(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ds(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function xo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var t=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),t}function Po(){var t=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),t}function Ii(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ci(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var W=31-$t(a),ee=1<<W;T[W]=0,D[W]=-1;var F=H[W];if(F!==null)for(H[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Wn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-$t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ko(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fr(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Ev(t.type))}function Cu(t,r){var a=ne.p;try{return ne.p=t,r()}finally{ne.p=a}}var rt=Math.random().toString(36).slice(2),wt="__reactFiber$"+rt,_t="__reactProps$"+rt,An="__reactContainer$"+rt,Lo="__reactEvents$"+rt,pf="__reactListeners$"+rt,dr="__reactHandles$"+rt,Du="__reactResources$"+rt,ms="__reactMarker$"+rt;function mr(t){delete t[wt],delete t[_t],delete t[Lo],delete t[pf],delete t[dr]}function Di(t){var r=t[wt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[An]||a[wt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=sv(t);t!==null;){if(a=t[wt])return a;t=sv(t)}return r}t=a,a=t.parentNode}return null}function Jn(t){if(t=t[wt]||t[An]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Zn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function en(t){var r=t[Du];return r||(r=t[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function dt(t){t[ms]=!0}var Uo=new Set,ha={};function jn(t,r){Ni(t,r),Ni(t+"Capture",r)}function Ni(t,r){for(ha[t]=r,t=0;t<r.length;t++)Uo.add(r[t])}var Nu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},ps={};function xu(t){return as.call(ps,t)?!0:as.call(Ou,t)?!1:Nu.test(t)?ps[t]=!0:(Ou[t]=!0,!1)}function pr(t,r,a){if(xu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ei(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function jt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var gs,Mu;function Oi(t){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+t+Mu}var fa=!1;function da(t,r){if(!t||fa)return"";fa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var F=G}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(G){F=G}t.call(ee.prototype)}}else{try{throw Error()}catch(G){F=G}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),H=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{fa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oi(a):""}function jo(t){switch(t.tag){case 26:case 27:case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return da(t.type,!1);case 11:return da(t.type.render,!1);case 1:return da(t.type,!0);case 31:return Oi("Activity");default:return""}}function ma(t){try{var r="";do r+=jo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gf(t){var r=Bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function pa(t){t._valueTracker||(t._valueTracker=gf(t))}function zo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ys(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yf=/[\n"\\]/g;function vt(t){return t.replace(yf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?gr(t,v,tn(r)):a!=null?gr(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function _s(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function gr(t,r,a){r==="number"&&ys(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+tn(a):""}function vs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(xe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Ho(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Pu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Pu(t,d,r[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return vf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mi=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Vi=null;function Fo(t){var r=Jn(t);if(r&&(t=r.stateNode)){var a=t[_t]||null;e:switch(t=r.stateNode,r.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&zo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&xi(t,!!a.multiple,r,!1)}}}var ti=!1;function Vu(t,r,a){if(ti)return t(r,a);ti=!0;try{var l=t(r);return l}finally{if(ti=!1,(Pi!==null||Vi!==null)&&(Cc(),Pi&&(r=Pi,t=Vi,Vi=Pi=null,Fo(r),t)))for(r=0;r<t.length;r++)Fo(t[r])}}function Ts(t,r){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Bn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){bn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{bn=!1}var ni=null,yr=null,ki=null;function Go(){if(ki)return ki;var t,r=yr,a=r.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return ki=h.slice(t,1<l?1-l:void 0)}function ii(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Yo(){return!1}function Mt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Yo,this.isPropagationStopped=Yo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Mt(Fe),As=E({},Fe,{view:0,detail:0}),ku=Mt(As),_a,va,si,ws=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(_a=t.screenX-si.screenX,va=t.screenY-si.screenY):va=_a=0,si=t),_a)},movementY:function(t){return"movementY"in t?t.movementY:va}}),In=Mt(ws),Lu=E({},ws,{dataTransfer:0}),Ef=Mt(Lu),Rs=E({},As,{relatedTarget:0}),Ea=Mt(Rs),$o=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ta=Mt($o),Uu=E({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=Mt(Uu),Tf=E({},Fe,{data:0}),Ko=Mt(Tf),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Bu[t])?!!r[t]:!1}function Is(){return Qo}var zu=E({},As,{key:function(t){if(t.key){var r=bs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Mt(zu),Hu=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Mt(Hu),Li=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),qu=Mt(Li),Fu=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Mt(Fu),Yu=E({},ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Mt(Yu),nn=E({},Fe,{newState:0,oldState:0}),$u=Mt(nn),Ku=[9,13,27,32],ai=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var y=Bn&&"TextEvent"in window&&!c,_=Bn&&(!ai||c&&8<c&&11>=c),S=" ",B=!1;function Y(t,r){switch(t){case"keyup":return Ku.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Rt(t,r){switch(t){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return t=r.data,t===S&&B?null:t;default:return null}}function je(t,r){if(Ue)return t==="compositionend"||!ai&&Y(t,r)?(t=Go(),ki=yr=ni=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Pt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Pt[t.type]:r==="textarea"}function Ui(t,r,a,l){Pi?Vi?Vi.push(l):Vi=[l]:Pi=l,r=Pc(r,"onChange"),0<r.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Bt=null,oi=null;function Wo(t){Q_(t,0)}function Qu(t){var r=Zn(t);if(zo(r))return t}function gg(t,r){if(t==="change")return r}var yg=!1;if(Bn){var Sf;if(Bn){var Af="oninput"in document;if(!Af){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Af=typeof _g.oninput=="function"}Sf=Af}else Sf=!1;yg=Sf&&(!document.documentMode||9<document.documentMode)}function vg(){Bt&&(Bt.detachEvent("onpropertychange",Eg),oi=Bt=null)}function Eg(t){if(t.propertyName==="value"&&Qu(oi)){var r=[];Ui(r,oi,t,Rn(t)),Vu(Wo,r)}}function YA(t,r,a){t==="focusin"?(vg(),Bt=r,oi=a,Bt.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function $A(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(oi)}function KA(t,r){if(t==="click")return Qu(r)}function QA(t,r){if(t==="input"||t==="change")return Qu(r)}function XA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:XA;function Jo(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!as.call(r,h)||!dn(t[h],r[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,r){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Ag(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Ag(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ys(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ys(t.document)}return r}function wf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var WA=Bn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Rf=null,Zo=null,bf=!1;function Rg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||Ra==null||Ra!==ys(l)||(l=Ra,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zo&&Jo(Zo,l)||(Zo=l,l=Pc(Rf,"onSelect"),0<l.length&&(r=new ya("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ra)))}function Cs(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ba={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},If={},bg={};Bn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Ds(t){if(If[t])return If[t];if(!ba[t])return t;var r=ba[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in bg)return If[t]=r[a];return t}var Ig=Ds("animationend"),Cg=Ds("animationiteration"),Dg=Ds("animationstart"),JA=Ds("transitionrun"),ZA=Ds("transitionstart"),ew=Ds("transitioncancel"),Ng=Ds("transitionend"),Og=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function zn(t,r){Og.set(t,r),jn(r,[t])}var xg=new WeakMap;function Cn(t,r){if(typeof t=="object"&&t!==null){var a=xg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:ma(r)},xg.set(t,r),r)}return{value:t,source:r,stack:ma(r)}}var Dn=[],Ia=0,Df=0;function Xu(){for(var t=Ia,r=Df=Ia=0;r<t;){var a=Dn[r];Dn[r++]=null;var l=Dn[r];Dn[r++]=null;var h=Dn[r];Dn[r++]=null;var d=Dn[r];if(Dn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Mg(a,h,d)}}function Wu(t,r,a,l){Dn[Ia++]=t,Dn[Ia++]=r,Dn[Ia++]=a,Dn[Ia++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,r,a,l){return Wu(t,r,a,l),Ju(t)}function Ca(t,r){return Wu(t,null,null,r),Ju(t)}function Mg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-$t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ju(t){if(50<wl)throw wl=0,kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Da={};function tw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,a,l){return new tw(t,r,a,l)}function Of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,r){var a=t.alternate;return a===null?(a=mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Pg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Zu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Of(t)&&(v=1);else if(typeof t=="string")v=i1(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case b:return t=mn(31,a,r,h),t.elementType=b,t.lanes=d,t;case j:return Ns(a.children,h,d,r);case $:v=8,h|=24;break;case q:return t=mn(12,a,r,h|2),t.elementType=q,t.lanes=d,t;case he:return t=mn(13,a,r,h),t.elementType=he,t.lanes=d,t;case De:return t=mn(19,a,r,h),t.elementType=De,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case ae:v=10;break e;case se:v=9;break e;case Ae:v=11;break e;case P:v=14;break e;case C:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=mn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ns(t,r,a,l){return t=mn(7,t,l,r),t.lanes=a,t}function xf(t,r,a){return t=mn(6,t,null,r),t.lanes=a,t}function Mf(t,r,a){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Na=[],Oa=0,ec=null,tc=0,Nn=[],On=0,Os=null,Bi=1,zi="";function xs(t,r){Na[Oa++]=tc,Na[Oa++]=ec,ec=t,tc=r}function Vg(t,r,a){Nn[On++]=Bi,Nn[On++]=zi,Nn[On++]=Os,Os=t;var l=Bi;t=zi;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var d=32-$t(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Bi=1<<32-$t(r)+h|a<<h|l,zi=d+t}else Bi=1<<d|a<<h|l,zi=t}function Pf(t){t.return!==null&&(xs(t,1),Vg(t,1,0))}function Vf(t){for(;t===ec;)ec=Na[--Oa],Na[Oa]=null,tc=Na[--Oa],Na[Oa]=null;for(;t===Os;)Os=Nn[--On],Nn[On]=null,zi=Nn[--On],Nn[On]=null,Bi=Nn[--On],Nn[On]=null}var rn=null,ht=null,qe=!1,Ms=null,li=!1,kf=Error(s(519));function Ps(t){var r=Error(s(418,""));throw nl(Cn(r,t)),kf}function kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[wt]=t,r[_t]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<bl.length;a++)Pe(bl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),pa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),vs(r,l.value,l.defaultValue,l.children),pa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Z_(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Vc),r=!0):r=!1,r||Ps(t)}function Lg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function el(t){if(t!==rn)return!1;if(!qe)return Lg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&ht&&Ps(t),Lg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ht=qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ht=null}}else r===27?(r=ht,Mr(t.type)?(t=nm,nm=null,ht=t):ht=r):ht=rn?qn(t.stateNode.nextSibling):null;return!0}function tl(){ht=rn=null,qe=!1}function Ug(){var t=Ms;return t!==null&&(on===null?on=t:on.push.apply(on,t),Ms=null),t}function nl(t){Ms===null?Ms=[t]:Ms.push(t)}var Lf=Q(null),Vs=null,Hi=null;function _r(t,r,a){ie(Lf,r._currentValue),r._currentValue=a}function qi(t){t._currentValue=Lf.current,J(Lf)}function Uf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function jf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Uf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Uf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function il(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===xt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(xl):t=[xl])}h=h.return}t!==null&&jf(r,t,a,l),r.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Vs=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return jg(Vs,t)}function ic(t,r){return Vs===null&&ks(t),jg(t,r)}function jg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(s(308));Hi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Hi=Hi.next=r;return a}var nw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},iw=i.unstable_scheduleCallback,rw=i.unstable_NormalPriority,It={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new nw,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&iw(rw,function(){t.controller.abort()})}var sl=null,zf=0,xa=0,Ma=null;function sw(t,r){if(sl===null){var a=sl=[];zf=0,xa=qd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,r.then(Bg,Bg),r}function Bg(){if(--zf===0&&sl!==null){Ma!==null&&(Ma.status="fulfilled");var t=sl;sl=null,xa=0,Ma=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function aw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var zg=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&sw(t,r),zg!==null&&zg(t,r)};var Ls=Q(null);function Hf(){var t=Ls.current;return t!==null?t:nt.pooledCache}function rc(t,r){r===null?ie(Ls,Ls.current):ie(Ls,r.pool)}function Hg(){var t=Hf();return t===null?null:{parent:It._currentValue,pool:t}}var al=Error(s(460)),qg=Error(s(474)),sc=Error(s(542)),qf={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ac(){}function Gg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(ac,ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,$g(t),t;default:if(typeof r.status=="string")r.then(ac,ac);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,$g(t),t}throw ol=r,al}}var ol=null;function Yg(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function $g(t){if(t===al||t===sc)throw Error(s(483))}var vr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Er(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Tr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ju(t),Mg(t,null,a),r}return Wu(t,l,r,a),Ju(t)}function ll(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ko(t,a)}}function Yf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var $f=!1;function ul(){if($f){var t=Ma;if(t!==null)throw t}}function cl(t,r,a,l){$f=!1;var h=t.updateQueue;vr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,H=D.next;D.next=null,v===null?d=H:v.next=H,v=D;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=H:T.next=H,W.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;v=0,W=H=D=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Be&F)===F:(l&F)===F){F!==0&&F===xa&&($f=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,_e=T;F=r;var Je=a;switch(_e.tag){case 1:if(Se=_e.payload,typeof Se=="function"){ee=Se.call(Je,ee,F);break e}ee=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=_e.payload,F=typeof Se=="function"?Se.call(Je,ee,F):Se,F==null)break e;ee=E({},ee,F);break e;case 2:vr=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(H=W=G,D=ee):W=W.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);W===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Dr|=v,t.lanes=v,t.memoizedState=ee}}function Kg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Qg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Kg(a[t],r)}var Pa=Q(null),oc=Q(0);function Xg(t,r){t=Xi,ie(oc,t),ie(Pa,r),Xi=t|r.baseLanes}function Kf(){ie(oc,Xi),ie(Pa,Pa.current)}function Qf(){Xi=oc.current,J(Pa),J(oc)}var Sr=0,Ne=null,Xe=null,Et=null,lc=!1,Va=!1,Us=!1,uc=0,hl=0,ka=null,ow=0;function mt(){throw Error(s(321))}function Xf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!dn(t[a],r[a]))return!1;return!0}function Wf(t,r,a,l,h,d){return Sr=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?My:Py,Us=!1,d=a(l,h),Us=!1,Va&&(d=Jg(r,a,l,h)),Wg(t),d}function Wg(t){X.H=pc;var r=Xe!==null&&Xe.next!==null;if(Sr=0,Et=Xe=Ne=null,lc=!1,hl=0,ka=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&nc(t)&&(Vt=!0))}function Jg(t,r,a,l){Ne=t;var h=0;do{if(Va&&(ka=null),hl=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=mw,d=r(a,l)}while(Va);return d}function lw(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?fl(r):r,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ne.flags|=1024),r}function Jf(){var t=uc!==0;return uc=0,t}function Zf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function ed(t){if(lc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}lc=!1}Sr=0,Et=Xe=Ne=null,Va=!1,hl=uc=0,ka=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ne.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Xe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var r=Et===null?Ne.memoizedState:Et.next;if(r!==null)Et=r,Xe=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?Ne.memoizedState=Et=t:Et=Et.next=t}return Et}function td(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var r=hl;return hl+=1,ka===null&&(ka=[]),t=Gg(ka,t,r),r=Ne,(Et===null?r.memoizedState:Et.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?My:Py),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===ae)return Kt(t)}throw Error(s(438,String(t)))}function nd(t){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=td(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=O;return r.index++,a}function Fi(t,r){return typeof r=="function"?r(t):r}function hc(t){var r=Tt();return id(r,Xe,t)}function id(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,D=null,H=r,W=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(Be&ee)===ee:(Sr&ee)===ee){var F=H.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===xa&&(W=!0);else if((Sr&F)===F){H=H.next,F===xa&&(W=!0);continue}else ee={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=ee,v=d):D=D.next=ee,Ne.lanes|=F,Dr|=F;ee=H.action,Us&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=F,v=d):D=D.next=F,Ne.lanes|=ee,Dr|=ee;H=H.next}while(H!==null&&H!==r);if(D===null?v=d:D.next=T,!dn(d,t.memoizedState)&&(Vt=!0,W&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var r=Tt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Zg(t,r,a){var l=Ne,h=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!dn((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=ny.bind(null,l,h,t);if(dl(2048,8,T,[t]),h.getSnapshot!==r||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,La(9,fc(),ty.bind(null,l,h,a,r),null),nt===null)throw Error(s(349));d||(Sr&124)!==0||ey(l,r,a)}return a}function ey(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=td(),Ne.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ty(t,r,a,l){r.value=a,r.getSnapshot=l,iy(r)&&ry(t)}function ny(t,r,a){return a(function(){iy(r)&&ry(t)})}function iy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!dn(t,a)}catch{return!0}}function ry(t){var r=Ca(t,2);r!==null&&vn(r,t,2)}function sd(t){var r=sn();if(typeof t=="function"){var a=t;if(t=a(),Us){hn(!0);try{a()}finally{hn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},r}function sy(t,r,a,l){return t.baseState=a,id(t,Xe,typeof l=="function"?l:Fi)}function uw(t,r,a,l,h){if(mc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ay(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ay(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=X.T,v={};X.T=v;try{var T=a(h,l),D=X.S;D!==null&&D(v,T),oy(t,r,T)}catch(H){ad(t,r,H)}finally{X.T=d}}else try{d=a(h,l),oy(t,r,d)}catch(H){ad(t,r,H)}}function oy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ly(t,r,l)},function(l){return ad(t,r,l)}):ly(t,r,a)}function ly(t,r,a){r.status="fulfilled",r.value=a,uy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ay(t,a)))}function ad(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,uy(r),r=r.next;while(r!==l)}t.action=null}function uy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function cy(t,r){return r}function hy(t,r){if(qe){var a=nt.formState;if(a!==null){e:{var l=Ne;if(qe){if(ht){t:{for(var h=ht,d=li;h.nodeType!==8;){if(!d){h=null;break t}if(h=qn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=qn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=sn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cy,lastRenderedState:r},a.queue=l,a=Ny.bind(null,Ne,l),l.dispatch=a,l=sd(!1),d=hd.bind(null,Ne,!1,l.queue),l=sn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=uw.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function fy(t){var r=Tt();return dy(r,Xe,t)}function dy(t,r,a){if(r=id(t,r,cy)[0],t=hc(Fi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(v){throw v===al?sc:v}else l=r;r=Tt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,La(9,fc(),cw.bind(null,h,a),null)),[l,d,t]}function cw(t,r){t.action=r}function my(t){var r=Tt(),a=Xe;if(a!==null)return dy(r,a,t);Tt(),r=r.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function La(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=td(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function fc(){return{destroy:void 0,resource:void 0}}function py(){return Tt().memoizedState}function dc(t,r,a,l){var h=sn();l=l===void 0?null:l,Ne.flags|=t,h.memoizedState=La(1|r,fc(),a,l)}function dl(t,r,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Xf(l,Xe.memoizedState.deps)?h.memoizedState=La(r,d,a,l):(Ne.flags|=t,h.memoizedState=La(1|r,d,a,l))}function gy(t,r){dc(8390656,8,t,r)}function yy(t,r){dl(2048,8,t,r)}function _y(t,r){return dl(4,2,t,r)}function vy(t,r){return dl(4,4,t,r)}function Ey(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ty(t,r,a){a=a!=null?a.concat([t]):null,dl(4,4,Ey.bind(null,r,t),a)}function od(){}function Sy(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Xf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ay(t,r){var a=Tt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Xf(r,l[1]))return l[0];if(l=t(),Us){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l}function ld(t,r,a){return a===void 0||(Sr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=b_(),Ne.lanes|=t,Dr|=t,a)}function wy(t,r,a,l){return dn(a,r)?a:Pa.current!==null?(t=ld(t,a,l),dn(t,r)||(Vt=!0),t):(Sr&42)===0?(Vt=!0,t.memoizedState=a):(t=b_(),Ne.lanes|=t,Dr|=t,r)}function Ry(t,r,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var v=X.T,T={};X.T=T,hd(t,!1,r,a);try{var D=h(),H=X.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=aw(D,l);ml(t,r,W,_n(t))}else ml(t,r,l,_n(t))}catch(ee){ml(t,r,{then:function(){},status:"rejected",reason:ee},_n())}finally{ne.p=d,X.T=v}}function hw(){}function ud(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=by(t).queue;Ry(t,h,r,oe,a===null?hw:function(){return Iy(t),a(l)})}function by(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:oe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Iy(t){var r=by(t).next.queue;ml(t,r,{},_n())}function cd(){return Kt(xl)}function Cy(){return Tt().memoizedState}function Dy(){return Tt().memoizedState}function fw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=Er(a);var l=Tr(r,t,a);l!==null&&(vn(l,r,a),ll(l,r,a)),r={cache:Bf()},t.payload=r;return}r=r.return}}function dw(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?Oy(r,a):(a=Nf(t,r,a,l),a!==null&&(vn(a,t,l),xy(a,r,l)))}function Ny(t,r,a){var l=_n();ml(t,r,a,l)}function ml(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Oy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,dn(T,v))return Wu(t,r,h,0),nt===null&&Xu(),!1}catch{}finally{}if(a=Nf(t,r,h,l),a!==null)return vn(a,t,l),xy(a,r,l),!0}return!1}function hd(t,r,a,l){if(l={lane:2,revertLane:qd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(r)throw Error(s(479))}else r=Nf(t,a,l,2),r!==null&&vn(r,t,2)}function mc(t){var r=t.alternate;return t===Ne||r!==null&&r===Ne}function Oy(t,r){Va=lc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function xy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ko(t,a)}}var pc={readContext:Kt,use:cc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},My={readContext:Kt,use:cc,useCallback:function(t,r){return sn().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:gy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,dc(4194308,4,Ey.bind(null,r,t),a)},useLayoutEffect:function(t,r){return dc(4194308,4,t,r)},useInsertionEffect:function(t,r){dc(4,2,t,r)},useMemo:function(t,r){var a=sn();r=r===void 0?null:r;var l=t();if(Us){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=sn();if(a!==void 0){var h=a(r);if(Us){hn(!0);try{a(r)}finally{hn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dw.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var r=sn();return t={current:t},r.memoizedState=t},useState:function(t){t=sd(t);var r=t.queue,a=Ny.bind(null,Ne,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,r){var a=sn();return ld(a,t,r)},useTransition:function(){var t=sd(!1);return t=Ry.bind(null,Ne,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ne,h=sn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(Be&124)!==0||ey(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,gy(ny.bind(null,l,d,t),[t]),l.flags|=2048,La(9,fc(),ty.bind(null,l,d,a,r),null),a},useId:function(){var t=sn(),r=nt.identifierPrefix;if(qe){var a=zi,l=Bi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r=""+r+"R"+a,a=uc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=ow++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:cd,useFormState:hy,useActionState:hy,useOptimistic:function(t){var r=sn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=hd.bind(null,Ne,!0,a),a.dispatch=r,[t,r]},useMemoCache:nd,useCacheRefresh:function(){return sn().memoizedState=fw.bind(null,Ne)}},Py={readContext:Kt,use:cc,useCallback:Sy,useContext:Kt,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Ay,useReducer:hc,useRef:py,useState:function(){return hc(Fi)},useDebugValue:od,useDeferredValue:function(t,r){var a=Tt();return wy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=hc(Fi)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:Zg,useId:Cy,useHostTransitionStatus:cd,useFormState:fy,useActionState:fy,useOptimistic:function(t,r){var a=Tt();return sy(a,Xe,t,r)},useMemoCache:nd,useCacheRefresh:Dy},mw={readContext:Kt,use:cc,useCallback:Sy,useContext:Kt,useEffect:yy,useImperativeHandle:Ty,useInsertionEffect:_y,useLayoutEffect:vy,useMemo:Ay,useReducer:rd,useRef:py,useState:function(){return rd(Fi)},useDebugValue:od,useDeferredValue:function(t,r){var a=Tt();return Xe===null?ld(a,t,r):wy(a,Xe.memoizedState,t,r)},useTransition:function(){var t=rd(Fi)[0],r=Tt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:Zg,useId:Cy,useHostTransitionStatus:cd,useFormState:my,useActionState:my,useOptimistic:function(t,r){var a=Tt();return Xe!==null?sy(a,Xe,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Dy},Ua=null,pl=0;function gc(t){var r=pl;return pl+=1,Ua===null&&(Ua=[]),Gg(Ua,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function yc(t,r){throw r.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Vy(t){var r=t._init;return r(t._payload)}function ky(t){function r(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)r(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=ji(U,V),U.index=0,U.sibling=null,U}function d(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,z,Z){return V===null||V.tag!==6?(V=xf(z,U.mode,Z),V.return=U,V):(V=h(V,z),V.return=U,V)}function D(U,V,z,Z){var ce=z.type;return ce===j?W(U,V,z.props.children,Z,z.key):V!==null&&(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===C&&Vy(ce)===V.type)?(V=h(V,z.props),gl(V,z),V.return=U,V):(V=Zu(z.type,z.key,z.props,null,U.mode,Z),gl(V,z),V.return=U,V)}function H(U,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Mf(z,U.mode,Z),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function W(U,V,z,Z,ce){return V===null||V.tag!==7?(V=Ns(z,U.mode,Z,ce),V.return=U,V):(V=h(V,z),V.return=U,V)}function ee(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=xf(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return z=Zu(V.type,V.key,V.props,null,U.mode,z),gl(z,V),z.return=U,z;case L:return V=Mf(V,U.mode,z),V.return=U,V;case C:var Z=V._init;return V=Z(V._payload),ee(U,V,z)}if(xe(V)||k(V))return V=Ns(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return ee(U,gc(V),z);if(V.$$typeof===ae)return ee(U,ic(U,V),z);yc(U,V)}return null}function F(U,V,z,Z){var ce=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:T(U,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===ce?D(U,V,z,Z):null;case L:return z.key===ce?H(U,V,z,Z):null;case C:return ce=z._init,z=ce(z._payload),F(U,V,z,Z)}if(xe(z)||k(z))return ce!==null?null:W(U,V,z,Z,null);if(typeof z.then=="function")return F(U,V,gc(z),Z);if(z.$$typeof===ae)return F(U,V,ic(U,z),Z);yc(U,z)}return null}function G(U,V,z,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,T(V,U,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return U=U.get(Z.key===null?z:Z.key)||null,D(V,U,Z,ce);case L:return U=U.get(Z.key===null?z:Z.key)||null,H(V,U,Z,ce);case C:var Oe=Z._init;return Z=Oe(Z._payload),G(U,V,z,Z,ce)}if(xe(Z)||k(Z))return U=U.get(z)||null,W(V,U,Z,ce,null);if(typeof Z.then=="function")return G(U,V,z,gc(Z),ce);if(Z.$$typeof===ae)return G(U,V,z,ic(V,Z),ce);yc(V,Z)}return null}function Se(U,V,z,Z){for(var ce=null,Oe=null,pe=V,ve=V=0,Lt=null;pe!==null&&ve<z.length;ve++){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var He=F(U,pe,z[ve],Z);if(He===null){pe===null&&(pe=Lt);break}t&&pe&&He.alternate===null&&r(U,pe),V=d(He,V,ve),Oe===null?ce=He:Oe.sibling=He,Oe=He,pe=Lt}if(ve===z.length)return a(U,pe),qe&&xs(U,ve),ce;if(pe===null){for(;ve<z.length;ve++)pe=ee(U,z[ve],Z),pe!==null&&(V=d(pe,V,ve),Oe===null?ce=pe:Oe.sibling=pe,Oe=pe);return qe&&xs(U,ve),ce}for(pe=l(pe);ve<z.length;ve++)Lt=G(pe,U,ve,z[ve],Z),Lt!==null&&(t&&Lt.alternate!==null&&pe.delete(Lt.key===null?ve:Lt.key),V=d(Lt,V,ve),Oe===null?ce=Lt:Oe.sibling=Lt,Oe=Lt);return t&&pe.forEach(function(Ur){return r(U,Ur)}),qe&&xs(U,ve),ce}function _e(U,V,z,Z){if(z==null)throw Error(s(151));for(var ce=null,Oe=null,pe=V,ve=V=0,Lt=null,He=z.next();pe!==null&&!He.done;ve++,He=z.next()){pe.index>ve?(Lt=pe,pe=null):Lt=pe.sibling;var Ur=F(U,pe,He.value,Z);if(Ur===null){pe===null&&(pe=Lt);break}t&&pe&&Ur.alternate===null&&r(U,pe),V=d(Ur,V,ve),Oe===null?ce=Ur:Oe.sibling=Ur,Oe=Ur,pe=Lt}if(He.done)return a(U,pe),qe&&xs(U,ve),ce;if(pe===null){for(;!He.done;ve++,He=z.next())He=ee(U,He.value,Z),He!==null&&(V=d(He,V,ve),Oe===null?ce=He:Oe.sibling=He,Oe=He);return qe&&xs(U,ve),ce}for(pe=l(pe);!He.done;ve++,He=z.next())He=G(pe,U,ve,He.value,Z),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?ve:He.key),V=d(He,V,ve),Oe===null?ce=He:Oe.sibling=He,Oe=He);return t&&pe.forEach(function(p1){return r(U,p1)}),qe&&xs(U,ve),ce}function Je(U,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:e:{for(var ce=z.key;V!==null;){if(V.key===ce){if(ce=z.type,ce===j){if(V.tag===7){a(U,V.sibling),Z=h(V,z.props.children),Z.return=U,U=Z;break e}}else if(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===C&&Vy(ce)===V.type){a(U,V.sibling),Z=h(V,z.props),gl(Z,z),Z.return=U,U=Z;break e}a(U,V);break}else r(U,V);V=V.sibling}z.type===j?(Z=Ns(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Zu(z.type,z.key,z.props,null,U.mode,Z),gl(Z,z),Z.return=U,U=Z)}return v(U);case L:e:{for(ce=z.key;V!==null;){if(V.key===ce)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),Z=h(V,z.children||[]),Z.return=U,U=Z;break e}else{a(U,V);break}else r(U,V);V=V.sibling}Z=Mf(z,U.mode,Z),Z.return=U,U=Z}return v(U);case C:return ce=z._init,z=ce(z._payload),Je(U,V,z,Z)}if(xe(z))return Se(U,V,z,Z);if(k(z)){if(ce=k(z),typeof ce!="function")throw Error(s(150));return z=ce.call(z),_e(U,V,z,Z)}if(typeof z.then=="function")return Je(U,V,gc(z),Z);if(z.$$typeof===ae)return Je(U,V,ic(U,z),Z);yc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),Z=h(V,z),Z.return=U,U=Z):(a(U,V),Z=xf(z,U.mode,Z),Z.return=U,U=Z),v(U)):a(U,V)}return function(U,V,z,Z){try{pl=0;var ce=Je(U,V,z,Z);return Ua=null,ce}catch(pe){if(pe===al||pe===sc)throw pe;var Oe=mn(29,pe,null,U.mode);return Oe.lanes=Z,Oe.return=U,Oe}finally{}}}var ja=ky(!0),Ly=ky(!1),xn=Q(null),ui=null;function Ar(t){var r=t.alternate;ie(Ct,Ct.current&1),ie(xn,t),ui===null&&(r===null||Pa.current!==null||r.memoizedState!==null)&&(ui=t)}function Uy(t){if(t.tag===22){if(ie(Ct,Ct.current),ie(xn,t),ui===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ui=t)}}else wr()}function wr(){ie(Ct,Ct.current),ie(xn,xn.current)}function Gi(t){J(xn),ui===t&&(ui=null),J(Ct)}var Ct=Q(0);function _c(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||tm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function fd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=Er(l);h.payload=r,a!=null&&(h.callback=a),r=Tr(t,h,l),r!==null&&(vn(r,t,l),ll(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=Er(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Tr(t,h,l),r!==null&&(vn(r,t,l),ll(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=Er(a);l.tag=2,r!=null&&(l.callback=r),r=Tr(t,l,a),r!==null&&(vn(r,t,a),ll(r,t,a))}};function jy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Jo(a,l)||!Jo(h,d):!0}function By(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&dd.enqueueReplaceState(r,r.state,null)}function js(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function zy(t){vc(t)}function Hy(t){console.error(t)}function qy(t){vc(t)}function Ec(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,r,a){return a=Er(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(t,r)},a}function Gy(t){return t=Er(t),t.tag=3,t}function Yy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Fy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Fy(r,a,l),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function pw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 13:return ui===null?Ud():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===qf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Bd(t,l,h)),!1;case 22:return a.flags|=65536,l===qf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Bd(t,l,h)),!1}throw Error(s(435,a.tag))}return Bd(t,l,h),Ud(),!1}if(qe)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==kf&&(t=Error(s(422),{cause:l}),nl(Cn(t,a)))):(l!==kf&&(r=Error(s(423),{cause:l}),nl(Cn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Cn(l,a),h=md(t.stateNode,l,h),Yf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Cn(d,a),Al===null?Al=[d]:Al.push(d),ft!==4&&(ft=2),r===null)return!0;l=Cn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,l,t),Yf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Nr===null||!Nr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gy(h),Yy(h,t,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var $y=Error(s(461)),Vt=!1;function zt(t,r,a,l){r.child=t===null?Ly(r,null,a,l):ja(r,t.child,a,l)}function Ky(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return ks(r),l=Wf(t,r,a,v,d,h),T=Jf(),t!==null&&!Vt?(Zf(t,r,h),Yi(t,r,h)):(qe&&T&&Pf(r),r.flags|=1,zt(t,r,l,h),r.child)}function Qy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Of(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Xy(t,r,d,l,h)):(t=Zu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Sd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Jo,a(v,l)&&t.ref===r.ref)return Yi(t,r,h)}return r.flags|=1,t=ji(d,l),t.ref=r.ref,t.return=r,r.child=t}function Xy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Jo(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Sd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Yi(t,r,h)}return pd(t,r,a,l,h)}function Wy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Jy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(r,d!==null?d.cachePool:null),d!==null?Xg(r,d):Kf(),Uy(r);else return r.lanes=r.childLanes=536870912,Jy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(r,d.cachePool),Xg(r,d),wr(),r.memoizedState=null):(t!==null&&rc(r,null),Kf(),wr());return zt(t,r,h,a),r.child}function Jy(t,r,a,l){var h=Hf();return h=h===null?null:{parent:It._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&rc(r,null),Kf(),Uy(r),t!==null&&il(t,r,l,!0),null}function Tc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function pd(t,r,a,l,h){return ks(r),a=Wf(t,r,a,l,void 0,h),l=Jf(),t!==null&&!Vt?(Zf(t,r,h),Yi(t,r,h)):(qe&&l&&Pf(r),r.flags|=1,zt(t,r,a,h),r.child)}function Zy(t,r,a,l,h,d){return ks(r),r.updateQueue=null,a=Jg(r,l,a,h),Wg(t),l=Jf(),t!==null&&!Vt?(Zf(t,r,d),Yi(t,r,d)):(qe&&l&&Pf(r),r.flags|=1,zt(t,r,a,d),r.child)}function e_(t,r,a,l,h){if(ks(r),r.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Ff(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Da,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&dd.enqueueReplaceState(d,d.state,null),cl(r,l,d,h),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=js(a,T);d.props=D;var H=d.context,W=a.contextType;v=Da,typeof W=="object"&&W!==null&&(v=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&By(r,d,l,v),vr=!1;var F=r.memoizedState;d.state=F,cl(r,l,d,h),ul(),H=r.memoizedState,T||F!==H||vr?(typeof ee=="function"&&(fd(r,a,ee,l),H=r.memoizedState),(D=vr||jy(r,a,D,l,F,H,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Gf(t,r),v=r.memoizedProps,W=js(a,v),d.props=W,ee=r.pendingProps,F=d.context,H=a.contextType,D=Da,typeof H=="object"&&H!==null&&(D=Kt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||F!==D)&&By(r,d,l,D),vr=!1,F=r.memoizedState,d.state=F,cl(r,l,d,h),ul();var G=r.memoizedState;v!==ee||F!==G||vr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof T=="function"&&(fd(r,a,T,l),G=r.memoizedState),(W=vr||jy(r,a,W,l,F,G,D)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Tc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ja(r,t.child,null,h),r.child=ja(r,null,a,h)):zt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Yi(t,r,h),t}function t_(t,r,a,l){return tl(),r.flags|=256,zt(t,r,a,l),r.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Hg()}}function _d(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function n_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?Ar(r):wr(),qe){var T=ht,D;if(D=T){e:{for(D=T,T=li;D.nodeType!==8;){if(!T){T=null;break e}if(D=qn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Bi,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},D=mn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,rn=r,ht=null,D=!0):D=!1}D||Ps(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return tm(T)?r.lanes=32:r.lanes=536870912,null;Gi(r)}return T=l.children,l=l.fallback,h?(wr(),h=r.mode,T=Sc({mode:"hidden",children:T},h),l=Ns(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=yd(a),h.childLanes=_d(t,v,a),r.memoizedState=gd,l):(Ar(r),vd(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(Ar(r),r.flags&=-257,r=Ed(t,r,a)):r.memoizedState!==null?(wr(),r.child=t.child,r.flags|=128,r=null):(wr(),h=l.fallback,T=r.mode,l=Sc({mode:"visible",children:l.children},T),h=Ns(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,ja(r,t.child,null,a),l=r.child,l.memoizedState=yd(a),l.childLanes=_d(t,v,a),r.memoizedState=gd,r=h);else if(Ar(r),tm(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),r=Ed(t,r,a)}else if(Vt||il(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=nt,v!==null&&(l=a&-a,l=(l&42)!==0?1:hr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ca(t,l),vn(v,t,l),$y;T.data==="$?"||Ud(),r=Ed(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,ht=qn(T.nextSibling),rn=r,qe=!0,Ms=null,li=!1,t!==null&&(Nn[On++]=Bi,Nn[On++]=zi,Nn[On++]=Os,Bi=t.id,zi=t.overflow,Os=r),r=vd(r,l.children),r.flags|=4096);return r}return h?(wr(),h=l.fallback,T=r.mode,D=t.child,H=D.sibling,l=ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?h=ji(H,h):(h=Ns(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=yd(a):(D=T.cachePool,D!==null?(H=It._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=Hg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=_d(t,v,a),r.memoizedState=gd,l):(Ar(r),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function vd(t,r){return r=Sc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Sc(t,r){return t=mn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ed(t,r,a){return ja(r,t.child,null,a),t=vd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function i_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Uf(t.return,r,a)}function Td(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function r_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(zt(t,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,a,r);else if(t.tag===19)i_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Ct,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&_c(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Td(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&_c(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(r,!0,a,null,d);break;case"together":Td(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Dr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(il(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ji(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Sd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function gw(t,r,a){switch(r.tag){case 3:tt(r,r.stateNode.containerInfo),_r(r,It,t.memoizedState.cache),tl();break;case 27:case 5:cr(r);break;case 4:tt(r,r.stateNode.containerInfo);break;case 10:_r(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(r),r.flags|=128,null):(a&r.child.childLanes)!==0?n_(t,r,a):(Ar(r),t=Yi(t,r,a),t!==null?t.sibling:null);Ar(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return r_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,Wy(t,r,a);case 24:_r(r,It,t.memoizedState.cache)}return Yi(t,r,a)}function s_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Sd(t,a)&&(r.flags&128)===0)return Vt=!1,gw(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,qe&&(r.flags&1048576)!==0&&Vg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Of(l)?(t=js(l,t),r.tag=1,r=e_(null,r,l,t,a)):(r.tag=0,r=pd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===Ae){r.tag=11,r=Ky(null,r,l,t,a);break e}else if(h===P){r.tag=14,r=Qy(null,r,l,t,a);break e}}throw r=fe(l)||l,Error(s(306,r,""))}}return r;case 0:return pd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=js(l,r.pendingProps),e_(t,r,l,h,a);case 3:e:{if(tt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Gf(t,r),cl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,_r(r,It,l),l!==d.cache&&jf(r,[It],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=t_(t,r,l,a);break e}else if(l!==h){h=Cn(Error(s(424)),r),nl(h),r=t_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=qn(t.firstChild),rn=r,qe=!0,Ms=null,li=!0,a=Ly(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===h){r=Yi(t,r,a);break e}zt(t,r,l,a)}r=r.child}return r;case 26:return Tc(t,r),t===null?(a=uv(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=kc(we.current).createElement(a),l[wt]=r,l[_t]=t,qt(l,a,t),dt(l),r.stateNode=l):r.memoizedState=uv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return cr(r),t===null&&qe&&(l=r.stateNode=av(r.type,r.pendingProps,we.current),rn=r,li=!0,h=ht,Mr(r.type)?(nm=h,ht=qn(l.firstChild)):ht=h),zt(t,r,r.pendingProps.children,a),Tc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ht)&&(l=Fw(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,rn=r,ht=qn(l.firstChild),li=!1,h=!0):h=!1),h||Ps(r)),cr(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Jd(h,d)?l=null:v!==null&&Jd(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Wf(t,r,lw,null,null,a),xl._currentValue=h),Tc(t,r),zt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ht)&&(a=Gw(a,r.pendingProps,li),a!==null?(r.stateNode=a,rn=r,ht=null,t=!0):t=!1),t||Ps(r)),null;case 13:return n_(t,r,a);case 4:return tt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ja(r,null,l,a):zt(t,r,l,a),r.child;case 11:return Ky(t,r,r.type,r.pendingProps,a);case 7:return zt(t,r,r.pendingProps,a),r.child;case 8:return zt(t,r,r.pendingProps.children,a),r.child;case 12:return zt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,_r(r,r.type,l.value),zt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ks(r),h=Kt(h),l=l(h),r.flags|=1,zt(t,r,l,a),r.child;case 14:return Qy(t,r,r.type,r.pendingProps,a);case 15:return Xy(t,r,r.type,r.pendingProps,a);case 19:return r_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Sc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ji(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Wy(t,r,a);case 24:return ks(r),l=Kt(It),t===null?(h=Hf(),h===null&&(h=nt,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Ff(r),_r(r,It,h)):((t.lanes&a)!==0&&(Gf(t,r),cl(r,null,null,a),ul()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),_r(r,It,l)):(l=d.cache,_r(r,It,l),l!==h.cache&&jf(r,[It],a,!0))),zt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function $i(t){t.flags|=4}function a_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mv(r)){if(r=xn.current,r!==null&&((Be&4194048)===Be?ui!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==ui))throw ol=qf,qg;t.flags|=8192}}function Ac(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Po():536870912,t.lanes|=r,qa|=r)}function yl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function yw(t,r,a){var l=r.pendingProps;switch(Vf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),qi(It),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(r)?$i(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ug())),at(r),null;case 26:return a=r.memoizedState,t===null?($i(r),a!==null?(at(r),a_(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?($i(r),at(r),a_(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&$i(r),at(r),r.flags&=-16777217),null;case 27:bi(r),a=we.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$i(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=de.current,el(r)?kg(r):(t=av(h,l,a),r.stateNode=t,$i(r))}return at(r),null;case 5:if(bi(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&$i(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=de.current,el(r))kg(r);else{switch(h=kc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[wt]=r,t[_t]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&$i(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=we.current,el(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Z_(t.nodeValue,a)),t||Ps(r)}else t=kc(t).createTextNode(l),t[wt]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=Ug(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Gi(r),r):(Gi(r),null)}if(Gi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),at(r),null;case 4:return Xn(),t===null&&$d(r.stateNode.containerInfo),at(r),null;case 10:return qi(r.type),at(r),null;case 19:if(J(Ct),h=r.memoizedState,h===null)return at(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=_c(t),d!==null){for(r.flags|=128,yl(h,!1),t=d.updateQueue,r.updateQueue=t,Ac(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Pg(a,t),a=a.sibling;return ie(Ct,Ct.current&1|2),r.child}t=t.sibling}h.tail!==null&&Sn()>bc&&(r.flags|=128,l=!0,yl(h,!1),r.lanes=4194304)}else{if(!l)if(t=_c(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Ac(r,t),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(r),null}else 2*Sn()-h.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,yl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Sn(),r.sibling=null,t=Ct.current,ie(Ct,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return Gi(r),Qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&J(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),qi(It),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function _w(t,r){switch(Vf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return qi(It),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return bi(r),null;case 13:if(Gi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return J(Ct),null;case 4:return Xn(),null;case 10:return qi(r.type),null;case 22:case 23:return Gi(r),Qf(),t!==null&&J(Ls),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return qi(It),null;case 25:return null;default:return null}}function o_(t,r){switch(Vf(r),r.tag){case 3:qi(It),Xn();break;case 26:case 27:case 5:bi(r);break;case 4:Xn();break;case 13:Gi(r);break;case 19:J(Ct);break;case 10:qi(r.type);break;case 22:case 23:Gi(r),Qf(),t!==null&&J(Ls);break;case 24:qi(It)}}function _l(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(r,r.return,T)}}function Rr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var D=a,H=T;try{H()}catch(W){Ze(h,D,W)}}}l=l.next}while(l!==d)}}catch(W){Ze(r,r.return,W)}}function l_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Qg(r,a)}catch(l){Ze(t,t.return,l)}}}function u_(t,r,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,r,l)}}function vl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,r,h)}}function ci(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,r,h)}else a.current=null}function c_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Ad(t,r,a){try{var l=t.stateNode;jw(l,t.type,a,r),l[_t]=r}catch(h){Ze(t,t.return,h)}}function h_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Mr(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Mr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Vc));else if(l!==4&&(l===27&&Mr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Rd(t,r,a),t=t.sibling;t!==null;)Rd(t,r,a),t=t.sibling}function wc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Mr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,r,a),t=t.sibling;t!==null;)wc(t,r,a),t=t.sibling}function f_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);qt(r,l,a),r[wt]=t,r[_t]=a}catch(d){Ze(t,t.return,d)}}var Ki=!1,pt=!1,bd=!1,d_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function vw(t,r){if(t=t.containerInfo,Xd=Hc,t=wg(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,D=-1,H=0,W=0,ee=t,F=null;t:for(;;){for(var G;ee!==a||h!==0&&ee.nodeType!==3||(T=v+h),ee!==d||l!==0&&ee.nodeType!==3||(D=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(G=ee.firstChild)!==null;)F=ee,ee=G;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(T=v),F===d&&++W===l&&(D=v),(G=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:t,selectionRange:a},Hc=!1,kt=r;kt!==null;)if(r=kt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,kt=t;else for(;kt!==null;){switch(r=kt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Se=js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ze(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,kt=t;break}kt=r.return}}function m_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:br(t,a),l&4&&_l(5,a);break;case 1:if(br(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=js(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&l_(a),l&512&&vl(a,a.return);break;case 3:if(br(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qg(t,r)}catch(v){Ze(a,a.return,v)}}break;case 27:r===null&&l&4&&f_(a);case 26:case 5:br(t,a),r===null&&l&4&&c_(a),l&512&&vl(a,a.return);break;case 12:br(t,a);break;case 13:br(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Cw.bind(null,a),Yw(t,a))));break;case 22:if(l=a.memoizedState!==null||Ki,!l){r=r!==null&&r.memoizedState!==null||pt,h=Ki;var d=pt;Ki=l,(pt=r)&&!d?Ir(t,a,(a.subtreeFlags&8772)!==0):br(t,a),Ki=h,pt=d}break;case 30:break;default:br(t,a)}}function p_(t){var r=t.alternate;r!==null&&(t.alternate=null,p_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&mr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,an=!1;function Qi(t,r,a){for(a=a.child;a!==null;)g_(t,r,a),a=a.sibling}function g_(t,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||ci(a,r),Qi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||ci(a,r);var l=st,h=an;Mr(a.type)&&(st=a.stateNode,an=!1),Qi(t,r,a),Cl(a.stateNode),st=l,an=h;break;case 5:pt||ci(a,r);case 6:if(l=st,h=an,st=null,Qi(t,r,a),st=l,an=h,st!==null)if(an)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Ze(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){Ze(a,r,d)}break;case 18:st!==null&&(an?(t=st,rv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),kl(t)):rv(st,a.stateNode));break;case 4:l=st,h=an,st=a.stateNode.containerInfo,an=!0,Qi(t,r,a),st=l,an=h;break;case 0:case 11:case 14:case 15:pt||Rr(2,a,r),pt||Rr(4,a,r),Qi(t,r,a);break;case 1:pt||(ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&u_(a,r,l)),Qi(t,r,a);break;case 21:Qi(t,r,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Qi(t,r,a),pt=l;break;default:Qi(t,r,a)}}function y_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){Ze(r,r.return,a)}}function Ew(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new d_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new d_),r;default:throw Error(s(435,t.tag))}}function Id(t,r){var a=Ew(t);r.forEach(function(l){var h=Dw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Mr(T.type)){st=T.stateNode,an=!1;break e}break;case 5:st=T.stateNode,an=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,an=!0;break e}T=T.return}if(st===null)throw Error(s(160));g_(d,v,h),st=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)__(r,t),r=r.sibling}var Hn=null;function __(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Rr(3,t,t.return),_l(3,t),Rr(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(pt||a===null||ci(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(pn(r,t),gn(t),l&512&&(pt||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ms]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[wt]=t,dt(d),l=d;break e;case"link":var v=fv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=fv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,dt(d),l=d}t.stateNode=l}else dv(h,t.type,t.stateNode);else t.stateNode=hv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?dv(h,t.type,t.stateNode):hv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(pt||a===null||ci(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(pt||a===null||ci(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(G){Ze(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(bd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Ze(t,t.return,G)}}break;case 3:if(jc=null,h=Hn,Hn=Lc(r.containerInfo),pn(r,t),Hn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(G){Ze(t,t.return,G)}bd&&(bd=!1,v_(t));break;case 4:l=Hn,Hn=Lc(t.stateNode.containerInfo),pn(r,t),gn(t),Hn=l;break;case 12:pn(r,t),gn(t);break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Md=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Id(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=Ki,W=pt;if(Ki=H||h,pt=W||D,pn(r,t),pt=W,Ki=H,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Ki||pt||Bs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var ee=D.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){Ze(D,D.return,G)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(G){Ze(D,D.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Id(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Id(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(h_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);wc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var T=wd(t);wc(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,H=wd(t);Rd(t,H,D);break;default:throw Error(s(161))}}catch(W){Ze(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;v_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function br(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)m_(t,r.alternate,r),r=r.sibling}function Bs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Rr(4,r,r.return),Bs(r);break;case 1:ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&u_(r,r.return,a),Bs(r);break;case 27:Cl(r.stateNode);case 26:case 5:ci(r,r.return),Bs(r);break;case 22:r.memoizedState===null&&Bs(r);break;case 30:Bs(r);break;default:Bs(r)}t=t.sibling}}function Ir(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ir(h,d,a),_l(4,d);break;case 1:if(Ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Kg(D[h],T)}catch(H){Ze(l,l.return,H)}}a&&v&64&&l_(d),vl(d,d.return);break;case 27:f_(d);case 26:case 5:Ir(h,d,a),a&&l===null&&v&4&&c_(d),vl(d,d.return);break;case 12:Ir(h,d,a);break;case 13:Ir(h,d,a),a&&v&4&&y_(h,d);break;case 22:d.memoizedState===null&&Ir(h,d,a),vl(d,d.return);break;case 30:break;default:Ir(h,d,a)}r=r.sibling}}function Cd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Dd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function hi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E_(t,r,a,l),r=r.sibling}function E_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,l),h&2048&&_l(9,r);break;case 1:hi(t,r,a,l);break;case 3:hi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){hi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(r,r.return,D)}}else hi(t,r,a,l);break;case 13:hi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?hi(t,r,a,l):El(t,r):d._visibility&2?hi(t,r,a,l):(d._visibility|=2,Ba(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Cd(v,r);break;case 24:hi(t,r,a,l),h&2048&&Dd(r.alternate,r);break;default:hi(t,r,a,l)}}function Ba(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,D=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(d,v,T,D,h),_l(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?Ba(d,v,T,D,h):El(d,v):(W._visibility|=2,Ba(d,v,T,D,h)),h&&H&2048&&Cd(v.alternate,v);break;case 24:Ba(d,v,T,D,h),h&&H&2048&&Dd(v.alternate,v);break;default:Ba(d,v,T,D,h)}r=r.sibling}}function El(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Cd(l.alternate,l);break;case 24:El(a,l),h&2048&&Dd(l.alternate,l);break;default:El(a,l)}r=r.sibling}}var Tl=8192;function za(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)T_(t),t=t.sibling}function T_(t){switch(t.tag){case 26:za(t),t.flags&Tl&&t.memoizedState!==null&&s1(Hn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var r=Hn;Hn=Lc(t.stateNode.containerInfo),za(t),Hn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,za(t),Tl=r):za(t));break;default:za(t)}}function S_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Sl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,w_(l,t)}S_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A_(t),t=t.sibling}function A_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Rr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Rc(t)):Sl(t);break;default:Sl(t)}}function Rc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];kt=l,w_(l,t)}S_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Rr(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(r));break;default:Rc(r)}t=t.sibling}}function w_(t,r){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Rr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(p_(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}var Tw={getCacheForType:function(t){var r=Kt(It),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Sw=typeof WeakMap=="function"?WeakMap:Map,$e=0,nt=null,Me=null,Be=0,Ke=0,yn=null,Cr=!1,Ha=!1,Nd=!1,Xi=0,ft=0,Dr=0,zs=0,Od=0,Mn=0,qa=0,Al=null,on=null,xd=!1,Md=0,bc=1/0,Ic=null,Nr=null,Ht=0,Or=null,Fa=null,Ga=0,Pd=0,Vd=null,R_=null,wl=0,kd=null;function _n(){if(($e&2)!==0&&Be!==0)return Be&-Be;if(X.T!==null){var t=xa;return t!==0?t:qd()}return fr()}function b_(){Mn===0&&(Mn=(Be&536870912)===0||qe?Mo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),Mn}function vn(t,r,a){(t===nt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),xr(t,Be,Mn,!1)),Ci(t,a),(($e&2)===0||t!==nt)&&(t===nt&&(($e&2)===0&&(zs|=a),ft===4&&xr(t,Be,Mn,!1)),fi(t))}function I_(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ds(t,r),h=l?Rw(t,r):jd(t,r,!0),d=l;do{if(h===0){Ha&&!l&&xr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Aw(a)){h=jd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=Al;var D=T.current.memoizedState.isDehydrated;if(D&&(Ya(T,v).flags|=256),v=jd(T,v,!1),v!==2){if(Nd&&!D){T.errorRecoveryDisabledLanes|=d,zs|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),xr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xr(l,r,Mn,!Cr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Md+300-Sn(),10<h)){if(xr(l,r,Mn,!Cr),ua(l,0,!0)!==0)break e;l.timeoutHandle=nv(C_.bind(null,l,a,on,Ic,xd,r,Mn,zs,qa,Cr,d,2,-0,0),h);break e}C_(l,a,on,Ic,xd,r,Mn,zs,qa,Cr,d,0,-0,0)}}break}while(!0);fi(t)}function C_(t,r,a,l,h,d,v,T,D,H,W,ee,F,G){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:r1},T_(r),ee=a1(),ee!==null)){t.cancelPendingCommit=ee(V_.bind(null,t,r,d,a,l,h,v,T,D,W,1,F,G)),xr(t,d,v,!H);return}V_(t,r,d,a,l,h,v,T,D)}function Aw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xr(t,r,a,l){r&=~Od,r&=~zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-$t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(t,a,r)}function Cc(){return($e&6)===0?(Rl(0),!1):!0}function Ld(){if(Me!==null){if(Ke===0)var t=Me.return;else t=Me,Hi=Vs=null,ed(t),Ua=null,pl=0,t=Me;for(;t!==null;)o_(t.alternate,t),t=t.return;Me=null}}function Ya(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,zw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ld(),nt=t,Me=a=ji(t.current,null),Be=r,Ke=0,yn=null,Cr=!1,Ha=ds(t,r),Nd=!1,qa=Mn=Od=zs=Dr=ft=0,on=Al=null,xd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-$t(l),d=1<<h;r|=t[h],l&=~d}return Xi=r,Xu(),a}function D_(t,r){Ne=null,X.H=pc,r===al||r===sc?(r=Yg(),Ke=3):r===qg?(r=Yg(),Ke=4):Ke=r===$y?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,Me===null&&(ft=1,Ec(t,Cn(r,t.current)))}function N_(){var t=X.H;return X.H=pc,t===null?pc:t}function O_(){var t=X.A;return X.A=Tw,t}function Ud(){ft=4,Cr||(Be&4194048)!==Be&&xn.current!==null||(Ha=!0),(Dr&134217727)===0&&(zs&134217727)===0||nt===null||xr(nt,Be,Mn,!1)}function jd(t,r,a){var l=$e;$e|=2;var h=N_(),d=O_();(nt!==t||Be!==r)&&(Ic=null,Ya(t,r)),r=!1;var v=ft;e:do try{if(Ke!==0&&Me!==null){var T=Me,D=yn;switch(Ke){case 8:Ld(),v=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var H=Ke;if(Ke=0,yn=null,$a(t,T,D,H),a&&Ha){v=0;break e}break;default:H=Ke,Ke=0,yn=null,$a(t,T,D,H)}}ww(),v=ft;break}catch(W){D_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Hi=Vs=null,$e=l,X.H=h,X.A=d,Me===null&&(nt=null,Be=0,Xu()),v}function ww(){for(;Me!==null;)x_(Me)}function Rw(t,r){var a=$e;$e|=2;var l=N_(),h=O_();nt!==t||Be!==r?(Ic=null,bc=Sn()+500,Ya(t,r)):Ha=ds(t,r);e:do try{if(Ke!==0&&Me!==null){r=Me;var d=yn;t:switch(Ke){case 1:Ke=0,yn=null,$a(t,r,d,1);break;case 2:case 9:if(Fg(d)){Ke=0,yn=null,M_(r);break}r=function(){Ke!==2&&Ke!==9||nt!==t||(Ke=7),fi(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Fg(d)?(Ke=0,yn=null,M_(r)):(Ke=0,yn=null,$a(t,r,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var T=Me;if(!v||mv(v)){Ke=0,yn=null;var D=T.sibling;if(D!==null)Me=D;else{var H=T.return;H!==null?(Me=H,Dc(H)):Me=null}break t}}Ke=0,yn=null,$a(t,r,d,5);break;case 6:Ke=0,yn=null,$a(t,r,d,6);break;case 8:Ld(),ft=6;break e;default:throw Error(s(462))}}bw();break}catch(W){D_(t,W)}while(!0);return Hi=Vs=null,X.H=l,X.A=h,$e=a,Me!==null?0:(nt=null,Be=0,Xu(),ft)}function bw(){for(;Me!==null&&!Do();)x_(Me)}function x_(t){var r=s_(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,r===null?Dc(t):Me=r}function M_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Zy(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=Zy(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:ed(r);default:o_(a,r),r=Me=Pg(r,Xi),r=s_(a,r,Xi)}t.memoizedProps=t.pendingProps,r===null?Dc(t):Me=r}function $a(t,r,a,l){Hi=Vs=null,ed(r),Ua=null,pl=0;var h=r.return;try{if(pw(t,h,r,a,Be)){ft=1,Ec(t,Cn(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;ft=1,Ec(t,Cn(a,t.current)),Me=null;return}r.flags&32768?(qe||l===1?t=!0:Ha||(Be&536870912)!==0?t=!1:(Cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),P_(r,t)):Dc(r)}function Dc(t){var r=t;do{if((r.flags&32768)!==0){P_(r,Cr);return}t=r.return;var a=yw(r.alternate,r,Xi);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);ft===0&&(ft=5)}function P_(t,r){do{var a=_w(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ft=6,Me=null}function V_(t,r,a,l,h,d,v,T,D){t.cancelPendingCommit=null;do Nc();while(Ht!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Df,Vo(t,a,d,v,T,D),t===nt&&(Me=nt=null,Be=0),Fa=r,Or=t,Ga=a,Pd=d,Vd=h,R_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Nw(us,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ne.p,ne.p=2,v=$e,$e|=4;try{vw(t,r,a)}finally{$e=v,ne.p=h,X.T=l}}Ht=1,k_(),L_(),U_()}}function k_(){if(Ht===1){Ht=0;var t=Or,r=Fa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{__(r,t);var d=Wd,v=wg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Ag(T.ownerDocument.documentElement,T)){if(D!==null&&wf(T)){var H=D.start,W=D.end;if(W===void 0&&(W=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var G=F.getSelection(),Se=T.textContent.length,_e=Math.min(D.start,Se),Je=D.end===void 0?_e:Math.min(D.end,Se);!G.extend&&_e>Je&&(v=Je,Je=_e,_e=v);var U=Sg(T,_e),V=Sg(T,Je);if(U&&V&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var z=ee.createRange();z.setStart(U.node,U.offset),G.removeAllRanges(),_e>Je?(G.addRange(z),G.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),G.addRange(z))}}}}for(ee=[],G=T;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Hc=!!Xd,Wd=Xd=null}finally{$e=h,ne.p=l,X.T=a}}t.current=r,Ht=2}}function L_(){if(Ht===2){Ht=0;var t=Or,r=Fa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ne.p;ne.p=2;var h=$e;$e|=4;try{m_(t,r.alternate,r)}finally{$e=h,ne.p=l,X.T=a}}Ht=3}}function U_(){if(Ht===4||Ht===3){Ht=0,Ru();var t=Or,r=Fa,a=Ga,l=R_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Fa=Or=null,j_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Nr=null),ca(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ct,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=ne.p,ne.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{X.T=r,ne.p=h}}(Ga&3)!==0&&Nc(),fi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===kd?wl++:(wl=0,kd=t):wl=0,Rl(0)}}function j_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function Nc(t){return k_(),L_(),U_(),B_()}function B_(){if(Ht!==5)return!1;var t=Or,r=Pd;Pd=0;var a=ca(Ga),l=X.T,h=ne.p;try{ne.p=32>a?32:a,X.T=null,a=Vd,Vd=null;var d=Or,v=Ga;if(Ht=0,Fa=Or=null,Ga=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,A_(d.current),E_(d,d.current,v,a),$e=T,Rl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{ne.p=h,X.T=l,j_(t,r)}}function z_(t,r,a){r=Cn(a,r),r=md(t.stateNode,r,2),t=Tr(t,r,2),t!==null&&(Ci(t,2),fi(t))}function Ze(t,r,a){if(t.tag===3)z_(t,t,a);else for(;r!==null;){if(r.tag===3){z_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Nr===null||!Nr.has(l))){t=Cn(a,t),a=Gy(2),l=Tr(r,a,2),l!==null&&(Yy(a,l,r,t),Ci(l,2),fi(l));break}}r=r.return}}function Bd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Sw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Nd=!0,h.add(a),t=Iw.bind(null,t,r,a),r.then(t,t))}function Iw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Be&a)===a&&(ft===4||ft===3&&(Be&62914560)===Be&&300>Sn()-Md?($e&2)===0&&Ya(t,0):Od|=a,qa===Be&&(qa=0)),fi(t)}function H_(t,r){r===0&&(r=Po()),t=Ca(t,r),t!==null&&(Ci(t,r),fi(t))}function Cw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),H_(t,a)}function Dw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),H_(t,a)}function Nw(t,r){return os(t,r)}var Oc=null,Ka=null,zd=!1,xc=!1,Hd=!1,Hs=0;function fi(t){t!==Ka&&t.next===null&&(Ka===null?Oc=Ka=t:Ka=Ka.next=t),xc=!0,zd||(zd=!0,xw())}function Rl(t,r){if(!Hd&&xc){Hd=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$t(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=Be,d=ua(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Hd=!1}}function Ow(){q_()}function q_(){xc=zd=!1;var t=0;Hs!==0&&(Bw()&&(t=Hs),Hs=0);for(var r=Sn(),a=null,l=Oc;l!==null;){var h=l.next,d=F_(l,r);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(xc=!0)),l=h}Rl(t)}function F_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-$t(d),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=xo(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=nt,a=Be,a=ua(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ds(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ls(l),ca(a)){case 2:case 8:a=oa;break;case 32:a=us;break;case 268435456:a=la;break;default:a=us}return l=G_.bind(null,t),a=os(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ls(l),t.callbackPriority=2,t.callbackNode=null,2}function G_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=Be;return l=ua(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(I_(t,l,r),F_(t,Sn()),t.callbackNode!=null&&t.callbackNode===a?G_.bind(null,t):null)}function Y_(t,r){if(Nc())return null;I_(t,r,!0)}function xw(){Hw(function(){($e&6)!==0?os(No,Ow):q_()})}function qd(){return Hs===0&&(Hs=Mo()),Hs}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function K_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Mw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=$_((h[_t]||null).action),v=l.submitter;v&&(r=(r=v[_t]||null)?$_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new ya("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hs!==0){var D=v?K_(h,v):new FormData(h);ud(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?K_(h,v):new FormData(h),ud(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Fd=0;Fd<Cf.length;Fd++){var Gd=Cf[Fd],Pw=Gd.toLowerCase(),Vw=Gd[0].toUpperCase()+Gd.slice(1);zn(Pw,"on"+Vw)}zn(Ig,"onAnimationEnd"),zn(Cg,"onAnimationIteration"),zn(Dg,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(JA,"onTransitionRun"),zn(ZA,"onTransitionStart"),zn(ew,"onTransitionCancel"),zn(Ng,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Q_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){vc(W)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,H=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(W){vc(W)}h.currentTarget=null,d=D}}}}function Pe(t,r){var a=r[Lo];a===void 0&&(a=r[Lo]=new Set);var l=t+"__bubble";a.has(l)||(X_(r,t,2,!1),a.add(l))}function Yd(t,r,a){var l=0;r&&(l|=4),X_(a,t,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Mc]){t[Mc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(kw.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,Yd("selectionchange",!1,r))}}function X_(t,r,a,l){switch(Ev(r)){case 2:var h=u1;break;case 8:h=c1;break;default:h=om}a=h.bind(null,r,a,t),h=void 0,!bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Kd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Di(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Vu(function(){var H=d,W=Rn(a),ee=[];e:{var F=Og.get(t);if(F!==void 0){var G=ya,Se=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":G=Aa;break;case"focusin":Se="focus",G=Ea;break;case"focusout":Se="blur",G=Ea;break;case"beforeblur":case"afterblur":G=Ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ef;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=qu;break;case Ig:case Cg:case Dg:G=Ta;break;case Ng:G=Gu;break;case"scroll":case"scrollend":G=ku;break;case"wheel":G=wa;break;case"copy":case"cut":case"paste":G=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Xo;break;case"toggle":case"beforetoggle":G=$u}var _e=(r&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),U=_e?F!==null?F+"Capture":null:F;_e=[];for(var V=H,z;V!==null;){var Z=V;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=Ts(V,U),Z!=null&&_e.push(Il(V,Z,z))),Je)break;V=V.return}0<_e.length&&(F=new G(F,Se,null,a,W),ee.push({event:F,listeners:_e}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==Mi&&(Se=a.relatedTarget||a.fromElement)&&(Di(Se)||Se[An]))break e;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Se=a.relatedTarget||a.toElement,G=H,Se=Se?Di(Se):null,Se!==null&&(Je=u(Se),_e=Se.tag,Se!==Je||_e!==5&&_e!==27&&_e!==6)&&(Se=null)):(G=null,Se=H),G!==Se)){if(_e=In,Z="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Xo,Z="onPointerLeave",U="onPointerEnter",V="pointer"),Je=G==null?F:Zn(G),z=Se==null?F:Zn(Se),F=new _e(Z,V+"leave",G,a,W),F.target=Je,F.relatedTarget=z,Z=null,Di(W)===H&&(_e=new _e(U,V+"enter",Se,a,W),_e.target=z,_e.relatedTarget=Je,Z=_e),Je=Z,G&&Se)t:{for(_e=G,U=Se,V=0,z=_e;z;z=Qa(z))V++;for(z=0,Z=U;Z;Z=Qa(Z))z++;for(;0<V-z;)_e=Qa(_e),V--;for(;0<z-V;)U=Qa(U),z--;for(;V--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=Qa(_e),U=Qa(U)}_e=null}else _e=null;G!==null&&W_(ee,F,G,_e,!1),Se!==null&&Je!==null&&W_(ee,Je,Se,_e,!0)}}e:{if(F=H?Zn(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ce=gg;else if(bt(F))if(yg)ce=QA;else{ce=$A;var Oe=YA}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&qo(H.elementType)&&(ce=gg):ce=KA;if(ce&&(ce=ce(t,H))){Ui(ee,ce,a,W);break e}Oe&&Oe(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&gr(F,"number",F.value)}switch(Oe=H?Zn(H):window,t){case"focusin":(bt(Oe)||Oe.contentEditable==="true")&&(Ra=Oe,Rf=H,Zo=null);break;case"focusout":Zo=Rf=Ra=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Rg(ee,a,W);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":Rg(ee,a,W)}var pe;if(ai)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ue?Y(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(Ue||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ue&&(pe=Go()):(ni=W,yr="value"in ni?ni.value:ni.textContent,Ue=!0)),Oe=Pc(H,ve),0<Oe.length&&(ve=new Ko(ve,t,null,a,W),ee.push({event:ve,listeners:Oe}),pe?ve.data=pe:(pe=le(a),pe!==null&&(ve.data=pe)))),(pe=y?Rt(t,a):je(t,a))&&(ve=Pc(H,"onBeforeInput"),0<ve.length&&(Oe=new Ko("onBeforeInput","beforeinput",null,a,W),ee.push({event:Oe,listeners:ve}),Oe.data=pe)),Mw(ee,t,H,a,W)}Q_(ee,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Pc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ts(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Ts(t,r),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,h?(H=Ts(a,d),H!=null&&v.unshift(Il(a,H,D))):h||(H=Ts(a,d),H!=null&&v.push(Il(a,H,D)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Lw=/\r\n?/g,Uw=/\u0000|\uFFFD/g;function J_(t){return(typeof t=="string"?t:""+t).replace(Lw,`
`).replace(Uw,"")}function Z_(t,r){return r=J_(r),J_(t)===r}function Vc(){}function We(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":ei(t,"class",l);break;case"tabIndex":ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(r!=="object"){ei(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),pr(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_f.get(a)||a,pr(t,a,l))}}function Qd(t,r,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ha.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):pr(t,a,l)}}}function qt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,v,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=v=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":v=W;break;case"checked":D=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:We(t,r,l,W,a,null)}}_s(t,d,T,D,H,v,h,!1),pa(t);return;case"select":Pe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:We(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?xi(t,!!l,r,!1):a!=null&&xi(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:We(t,r,v,T,a,null)}vs(t,l,h,d),pa(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,D,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)Pe(bl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,H,l,a,null)}return;default:if(qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Qd(t,r,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,r,T,l,a,null))}function jw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,H=null,W=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(G)||We(t,r,G,null,l,ee)}}for(var F in l){var G=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(G!=null||ee!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ee&&We(t,r,F,G,l,ee)}}fn(t,v,T,D,H,W,d,h);return;case"select":G=v=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||We(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&We(t,r,h,d,l,D)}r=T,a=v,l=G,F!=null?xi(t,!!a,F,!1):!!l!=!!a&&(r!=null?xi(t,!!a,r,!0):xi(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,v,h,l,d)}Qe(t,F,G);return;case"option":for(var Se in a)if(F=a[Se],a.hasOwnProperty(Se)&&F!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:We(t,r,Se,null,l,F)}for(D in l)if(F=l[D],G=a[D],l.hasOwnProperty(D)&&F!==G&&(F!=null||G!=null))switch(D){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,r,D,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)F=a[_e],a.hasOwnProperty(_e)&&F!=null&&!l.hasOwnProperty(_e)&&We(t,r,_e,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:We(t,r,H,F,l,G)}return;default:if(qo(r)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&Qd(t,r,Je,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Qd(t,r,W,F,l,G);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,r,U,null,l,F);for(ee in l)F=l[ee],G=a[ee],!l.hasOwnProperty(ee)||F===G||F==null&&G==null||We(t,r,ee,F,l,G)}var Xd=null,Wd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function ev(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Jd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Zd=null;function Bw(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,zw=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(t){return iv.resolve(null).then(t).catch(qw)}:nv;function qw(t){setTimeout(function(){throw t})}function Mr(t){return t==="head"}function rv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Cl(v.documentElement),a&2&&Cl(v.body),a&4)for(a=v.head,Cl(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[ms]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),kl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(r)}function em(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Fw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ms])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function Gw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Yw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var nm=null;function sv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function av(t,r,a){switch(r=kc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Cl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);mr(t)}var Pn=new Map,ov=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=ne.d;ne.d={f:$w,r:Kw,D:Qw,C:Xw,L:Ww,m:Jw,X:e1,S:Zw,M:t1};function $w(){var t=Wi.f(),r=Cc();return t||r}function Kw(t){var r=Jn(t);r!==null&&r.tag===5&&r.type==="form"?Iy(r):Wi.r(t)}var Xa=typeof document>"u"?null:document;function lv(t,r,a){var l=Xa;if(l&&typeof r=="string"&&r){var h=vt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ov.has(h)||(ov.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),qt(r,"link",t),dt(r),l.head.appendChild(r)))}}function Qw(t){Wi.D(t),lv("dns-prefetch",t,null)}function Xw(t,r){Wi.C(t,r),lv("preconnect",t,r)}function Ww(t,r,a){Wi.L(t,r,a);var l=Xa;if(l&&t&&r){var h='link[rel="preload"][as="'+vt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var d=h;switch(r){case"style":d=Wa(t);break;case"script":d=Ja(t)}Pn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Pn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Dl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),qt(r,"link",t),dt(r),l.head.appendChild(r)))}}function Jw(t,r){Wi.m(t,r);var a=Xa;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ja(t)}if(!Pn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Pn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),qt(l,"link",t),dt(l),a.head.appendChild(l)}}}function Zw(t,r,a){Wi.S(t,r,a);var l=Xa;if(l&&t){var h=en(l).hoistableStyles,d=Wa(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Dl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Pn.get(d))&&im(t,a);var D=v=l.createElement("link");dt(D),qt(D,"link",t),D._p=new Promise(function(H,W){D.onload=H,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function e1(t,r){Wi.X(t,r);var a=Xa;if(a&&t){var l=en(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0},r),(r=Pn.get(h))&&rm(t,r),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function t1(t,r){Wi.M(t,r);var a=Xa;if(a&&t){var l=en(a).hoistableScripts,h=Ja(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Pn.get(h))&&rm(t,r),d=a.createElement("script"),dt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function uv(t,r,a,l){var h=(h=we.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Wa(a.href),a=en(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||n1(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ja(a),a=en(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+vt(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function cv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function n1(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),qt(r,"link",a),dt(r),t.head.appendChild(r))}function Ja(t){return'[src="'+vt(t)+'"]'}function Nl(t){return"script[async]"+t}function hv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return r.instance=l,dt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),qt(l,"style",h),Uc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Dl(h));if(d)return r.state.loading|=4,r.instance=d,dt(d),d;l=cv(a),(h=Pn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),qt(d,"link",l),r.state.loading|=4,Uc(d,a.precedence,t),r.instance=d;case"script":return d=Ja(a.src),(h=t.querySelector(Nl(d)))?(r.instance=h,dt(h),h):(l=a,(h=Pn.get(d))&&(l=E({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),qt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Uc(l,a.precedence,t));return r.instance}function Uc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function im(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function rm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var jc=null;function fv(t,r,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ms]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function dv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function i1(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function r1(){}function s1(t,r,a){if(Ol===null)throw Error(s(475));var l=Ol;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Wa(a.href),d=t.querySelector(Dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Bc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,dt(d);return}d=t.ownerDocument||t,a=cv(a),(h=Pn.get(h))&&im(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Bc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function a1(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&sm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&sm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)sm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function sm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,r.forEach(o1,t),zc=null,Bc.call(t))}function o1(t,r){if(!(r.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var xl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function l1(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function pv(t,r,a,l,h,d,v,T,D,H,W,ee){return t=new l1(t,r,a,v,T,D,H,ee),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),t.current=d,d.stateNode=t,r=Bf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Ff(d),t}function gv(t){return t?(t=Da,t):Da}function yv(t,r,a,l,h,d){h=gv(h),l.context===null?l.context=h:l.pendingContext=h,l=Er(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Tr(t,l,r),a!==null&&(vn(a,t,r),ll(a,t,r))}function _v(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function am(t,r){_v(t,r),(t=t.alternate)&&_v(t,r)}function vv(t){if(t.tag===13){var r=Ca(t,67108864);r!==null&&vn(r,t,67108864),am(t,67108864)}}var Hc=!0;function u1(t,r,a,l){var h=X.T;X.T=null;var d=ne.p;try{ne.p=2,om(t,r,a,l)}finally{ne.p=d,X.T=h}}function c1(t,r,a,l){var h=X.T;X.T=null;var d=ne.p;try{ne.p=8,om(t,r,a,l)}finally{ne.p=d,X.T=h}}function om(t,r,a,l){if(Hc){var h=lm(l);if(h===null)Kd(t,r,l,qc,a),Tv(t,l);else if(f1(h,t,r,a,l))l.stopPropagation();else if(Tv(t,l),r&4&&-1<h1.indexOf(t)){for(;h!==null;){var d=Jn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Un(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-$t(v);T.entanglements[1]|=D,v&=~D}fi(d),($e&6)===0&&(bc=Sn()+500,Rl(0))}}break;case 13:T=Ca(d,2),T!==null&&vn(T,d,2),Cc(),am(d,2)}if(d=lm(l),d===null&&Kd(t,r,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,r,l,null,a)}}function lm(t){return t=Rn(t),um(t)}var qc=null;function um(t){if(qc=null,t=Di(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return qc=t,null}function Ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ff()){case No:return 2;case oa:return 8;case us:case df:return 32;case la:return 268435456;default:return 32}default:return 32}}var cm=!1,Pr=null,Vr=null,kr=null,Ml=new Map,Pl=new Map,Lr=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(t,r){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Vl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Jn(r),r!==null&&vv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function f1(t,r,a,l,h){switch(r){case"focusin":return Pr=Vl(Pr,t,r,a,l,h),!0;case"dragenter":return Vr=Vl(Vr,t,r,a,l,h),!0;case"mouseover":return kr=Vl(kr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Vl(Ml.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,Vl(Pl.get(d)||null,t,r,a,l,h)),!0}return!1}function Sv(t){var r=Di(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Cu(t.priority,function(){if(a.tag===13){var l=_n();l=hr(l);var h=Ca(a,l);h!==null&&vn(h,a,l),am(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return r=Jn(a),r!==null&&vv(r),t.blockedOn=a,!1;r.shift()}return!0}function Av(t,r,a){Fc(t)&&a.delete(r)}function d1(){cm=!1,Pr!==null&&Fc(Pr)&&(Pr=null),Vr!==null&&Fc(Vr)&&(Vr=null),kr!==null&&Fc(kr)&&(kr=null),Ml.forEach(Av),Pl.forEach(Av)}function Gc(t,r){t.blockedOn===r&&(t.blockedOn=null,cm||(cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,d1)))}var Yc=null;function wv(t){Yc!==t&&(Yc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=Jn(a);d!==null&&(t.splice(r,3),r-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(t){function r(D){return Gc(D,t)}Pr!==null&&Gc(Pr,t),Vr!==null&&Gc(Vr,t),kr!==null&&Gc(kr,t),Ml.forEach(r),Pl.forEach(r);for(var a=0;a<Lr.length;a++){var l=Lr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Lr.length&&(a=Lr[0],a.blockedOn===null);)Sv(a),a.blockedOn===null&&Lr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_t]||null;if(typeof d=="function")v||wv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_t]||null)T=v.formAction;else if(um(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),wv(a)}}}function hm(t){this._internalRoot=t}$c.prototype.render=hm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();yv(a,l,t,r,null,null)},$c.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;yv(t.current,2,null,t,null,null),Cc(),r[An]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var r=fr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Lr.length&&r!==0&&r<Lr[a].priority;a++);Lr.splice(a,0,t),a===0&&Sv(t)}};var Rv=e.version;if(Rv!=="19.1.0")throw Error(s(527,Rv,"19.1.0"));ne.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var m1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{ct=Kc.inject(m1),Ye=Kc}catch{}}return Ul.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=Hy,v=qy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=pv(t,1,!1,null,null,a,l,h,d,v,T,null),t[An]=r.current,$d(t),new hm(r)},Ul.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,v=Hy,T=qy,D=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=pv(t,1,!0,r,a??null,l,h,d,v,T,D,H),r.context=gv(null),a=r.current,l=_n(),l=hr(l),h=Er(l),h.callback=null,Tr(a,h,l),a=l,r.current.lanes=a,Ci(r,a),fi(r),t[An]=r.current,$d(t),new $c(r)},Ul.version="19.1.0",Ul}var Vv;function w1(){if(Vv)return mm.exports;Vv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),mm.exports=A1(),mm.exports}var R1=w1();const b1=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},I1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(w=64)),s.push(n[E],n[A],n[w],n[L])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(IT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):I1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const A=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new C1;const w=u<<2|m>>4;if(s.push(w),g!==64){const L=m<<4&240|g>>2;if(s.push(L),A!==64){const j=g<<6&192|A;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class C1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D1=function(i){const e=IT(i);return CT.encodeByteArray(e,!0)},ph=function(i){return D1(i).replace(/\./g,"")},DT=function(i){try{return CT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=()=>N1().__FIREBASE_DEFAULTS__,x1=()=>{if(typeof process>"u"||typeof kv>"u")return;const i=kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&DT(i[1]);return e&&JSON.parse(e)},jh=()=>{try{return b1()||O1()||x1()||M1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},NT=i=>jh()?.emulatorHosts?.[i],P1=i=>{const e=NT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OT=()=>jh()?.config,xT=i=>jh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}const $l={};function L1(){const i={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?i.emulator.push(e):i.prod.push(e);return i}function U1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Lv=!1;function PT(i,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||$l[i]===e||$l[i]||Lv)return;$l[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=L1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,L){w.setAttribute("width","24"),w.setAttribute("id",L),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Lv=!0,f()},w}function E(w,L){w.setAttribute("id",L),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=U1(s),L=n("text"),j=document.getElementById(L)||document.createElement("span"),$=n("learnmore"),q=document.getElementById($)||document.createElement("a"),K=n("preprendIcon"),se=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ae=w.element;m(ae),E(q,$);const Ae=g();p(se,K),ae.append(se,j,q,Ae),document.body.appendChild(ae)}u?(j.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function B1(){const i=jh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VT(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function H1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q1(){const i=Zt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function F1(){return!B1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kT(){try{return typeof indexedDB=="object"}catch{return!1}}function LT(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}function G1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="FirebaseError";class Qn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Y1,Object.setPrototypeOf(this,Qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?$1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Qn(o,m,s)}}function $1(i,e){return i.replace(K1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const K1=/\{\$([^}]+)}/g;function Q1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Qr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Uv(u)&&Uv(f)){if(!Qr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Uv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function X1(i,e){const n=new W1(i,e);return n.subscribe.bind(n)}class W1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");J1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function J1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=1e3,eR=2,tR=14400*1e3,nR=.5;function jv(i,e=Z1,n=eR){const s=e*Math.pow(n,i),o=Math.round(nR*s*(Math.random()-.5)*2);return Math.min(tR,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(i){return i&&i._delegate?i._delegate:i}class Gn{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new V1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(i){return i===qs?void 0:i}function sR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const oR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},lR=Ve.INFO,uR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},cR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=uR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bh{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const hR=(i,e)=>e.some(n=>i instanceof n);let Bv,zv;function fR(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return zv||(zv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UT=new WeakMap,Lm=new WeakMap,jT=new WeakMap,vm=new WeakMap,gp=new WeakMap;function mR(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Gr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&UT.set(n,i)}).catch(()=>{}),gp.set(e,i),e}function pR(i){if(Lm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Lm.set(i,e)}let Um={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Lm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||jT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function gR(i){Um=i(Um)}function yR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Em(this),e,...n);return jT.set(s,e.sort?e.sort():[e]),Gr(s)}:dR().includes(i)?function(...e){return i.apply(Em(this),e),Gr(UT.get(this))}:function(...e){return Gr(i.apply(Em(this),e))}}function _R(i){return typeof i=="function"?yR(i):(i instanceof IDBTransaction&&pR(i),hR(i,fR())?new Proxy(i,Um):i)}function Gr(i){if(i instanceof IDBRequest)return mR(i);if(vm.has(i))return vm.get(i);const e=_R(i);return e!==i&&(vm.set(i,e),gp.set(e,i)),e}const Em=i=>gp.get(i);function BT(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Gr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Gr(f.result),p.oldVersion,p.newVersion,Gr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],Tm=new Map;function Hv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ER.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}gR(i=>({...i,get:(e,n,s)=>Hv(e,n)||i.get(e,n,s),has:(e,n)=>!!Hv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SR(i){return i.getComponent()?.type==="VERSION"}const jm="@firebase/app",qv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Bh("@firebase/app"),AR="@firebase/app-compat",wR="@firebase/analytics-compat",RR="@firebase/analytics",bR="@firebase/app-check-compat",IR="@firebase/app-check",CR="@firebase/auth",DR="@firebase/auth-compat",NR="@firebase/database",OR="@firebase/data-connect",xR="@firebase/database-compat",MR="@firebase/functions",PR="@firebase/functions-compat",VR="@firebase/installations",kR="@firebase/installations-compat",LR="@firebase/messaging",UR="@firebase/messaging-compat",jR="@firebase/performance",BR="@firebase/performance-compat",zR="@firebase/remote-config",HR="@firebase/remote-config-compat",qR="@firebase/storage",FR="@firebase/storage-compat",GR="@firebase/firestore",YR="@firebase/ai",$R="@firebase/firestore-compat",KR="firebase",QR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",XR={[jm]:"fire-core",[AR]:"fire-core-compat",[RR]:"fire-analytics",[wR]:"fire-analytics-compat",[IR]:"fire-app-check",[bR]:"fire-app-check-compat",[CR]:"fire-auth",[DR]:"fire-auth-compat",[NR]:"fire-rtdb",[OR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[MR]:"fire-fn",[PR]:"fire-fn-compat",[VR]:"fire-iid",[kR]:"fire-iid-compat",[LR]:"fire-fcm",[UR]:"fire-fcm-compat",[jR]:"fire-perf",[BR]:"fire-perf-compat",[zR]:"fire-rc",[HR]:"fire-rc-compat",[qR]:"fire-gcs",[FR]:"fire-gcs-compat",[GR]:"fire-fst",[$R]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[KR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,WR=new Map,zm=new Map;function Fv(i,e){try{i.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ti(i){const e=i.name;if(zm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,i);for(const n of gh.values())Fv(n,i);for(const n of WR.values())Fv(n,i);return!0}function na(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Vn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new ta("app","Firebase",JR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=QR;function zT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:Bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Yr.create("bad-app-name",{appName:String(o)});if(n||(n=OT()),!n)throw Yr.create("no-options");const u=gh.get(o);if(u){if(Qr(n,u.options)&&Qr(s,u.config))return u;throw Yr.create("duplicate-app",{appName:o})}const f=new aR(o);for(const p of zm.values())f.addComponent(p);const m=new ZR(n,s,f);return gh.set(o,m),m}function yp(i=Bm){const e=gh.get(i);if(!e&&i===Bm&&OT())return zT();if(!e)throw Yr.create("no-app",{appName:i});return e}function Ln(i,e,n){let s=XR[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(f.join(" "));return}Ti(new Gn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="firebase-heartbeat-database",tb=1,tu="firebase-heartbeat-store";let Sm=null;function HT(){return Sm||(Sm=BT(eb,tb,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Yr.create("idb-open",{originalErrorMessage:i.message})})),Sm}async function nb(i){try{const n=(await HT()).transaction(tu),s=await n.objectStore(tu).get(qT(i));return await n.done,s}catch(e){if(e instanceof Qn)nr.warn(e.message);else{const n=Yr.create("idb-get",{originalErrorMessage:e?.message});nr.warn(n.message)}}}async function Gv(i,e){try{const s=(await HT()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,qT(i)),await s.done}catch(n){if(n instanceof Qn)nr.warn(n.message);else{const s=Yr.create("idb-set",{originalErrorMessage:n?.message});nr.warn(s.message)}}}function qT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1024,rb=30;class sb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ob(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Yv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rb){const o=lb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){nr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Yv(),{heartbeatsToSend:n,unsentEntries:s}=ab(this._heartbeatsCache.heartbeats),o=ph(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return nr.warn(e),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function ab(i,e=ib){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),$v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ob{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kT()?LT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nb(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Gv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $v(i){return ph(JSON.stringify({version:2,heartbeats:i})).length}function lb(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(i){Ti(new Gn("platform-logger",e=>new TR(e),"PRIVATE")),Ti(new Gn("heartbeat",e=>new sb(e),"PRIVATE")),Ln(jm,qv,i),Ln(jm,qv,"esm2020"),Ln("fire-js","")}ub("");var cb="firebase",hb="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(cb,hb,"app");const FT="@firebase/installations",_p="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=1e4,YT=`w:${_p}`,$T="FIS_v2",fb="https://firebaseinstallations.googleapis.com/v1",db=3600*1e3,mb="installations",pb="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},$s=new ta(mb,pb,gb);function KT(i){return i instanceof Qn&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT({projectId:i}){return`${fb}/projects/${i}/installations`}function XT(i){return{token:i.token,requestStatus:2,expiresIn:_b(i.expiresIn),creationTime:Date.now()}}async function WT(i,e){const s=(await e.json()).error;return $s.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function JT({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function yb(i,{refreshToken:e}){const n=JT(i);return n.append("Authorization",vb(e)),n}async function ZT(i){const e=await i();return e.status>=500&&e.status<600?i():e}function _b(i){return Number(i.replace("s","000"))}function vb(i){return`${$T} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=QT(i),o=JT(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={fid:n,authVersion:$T,appId:i.appId,sdkVersion:YT},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await ZT(()=>fetch(s,m));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:XT(g.authToken)}}else throw await WT("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=/^[cdef][\w-]{21}$/,Hm="";function Ab(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=wb(i);return Sb.test(n)?n:Hm}catch{return Hm}}function wb(i){return Tb(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0=new Map;function n0(i,e){const n=zh(i);i0(n,e),Rb(n,e)}function i0(i,e){const n=t0.get(i);if(n)for(const s of n)s(e)}function Rb(i,e){const n=bb();n&&n.postMessage({key:i,fid:e}),Ib()}let Fs=null;function bb(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=i=>{i0(i.data.key,i.data.fid)}),Fs}function Ib(){t0.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebase-installations-database",Db=1,Ks="firebase-installations-store";let Am=null;function vp(){return Am||(Am=BT(Cb,Db,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(Ks)}}})),Am}async function yh(i,e){const n=zh(i),o=(await vp()).transaction(Ks,"readwrite"),u=o.objectStore(Ks),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&n0(i,e.fid),e}async function r0(i){const e=zh(i),s=(await vp()).transaction(Ks,"readwrite");await s.objectStore(Ks).delete(e),await s.done}async function Hh(i,e){const n=zh(i),o=(await vp()).transaction(Ks,"readwrite"),u=o.objectStore(Ks),f=await u.get(n),m=e(f);return m===void 0?await u.delete(n):await u.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&n0(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(i){let e;const n=await Hh(i.appConfig,s=>{const o=Nb(s),u=Ob(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Hm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Nb(i){const e=i||{fid:Ab(),registrationStatus:0};return s0(e)}function Ob(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject($s.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=xb(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Mb(i)}:{installationEntry:e}}async function xb(i,e){try{const n=await Eb(i,e);return yh(i.appConfig,n)}catch(n){throw KT(n)&&n.customData.serverCode===409?await r0(i.appConfig):await yh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Mb(i){let e=await Kv(i.appConfig);for(;e.registrationStatus===1;)await e0(100),e=await Kv(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Ep(i);return s||n}return e}function Kv(i){return Hh(i,e=>{if(!e)throw $s.create("installation-not-found");return s0(e)})}function s0(i){return Pb(i)?{fid:i.fid,registrationStatus:0}:i}function Pb(i){return i.registrationStatus===1&&i.registrationTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb({appConfig:i,heartbeatServiceProvider:e},n){const s=kb(i,n),o=yb(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const f={installation:{sdkVersion:YT,appId:i.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await ZT(()=>fetch(s,m));if(p.ok){const g=await p.json();return XT(g)}else throw await WT("Generate Auth Token",p)}function kb(i,{fid:e}){return`${QT(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(i,e=!1){let n;const s=await Hh(i.appConfig,u=>{if(!a0(u))throw $s.create("not-registered");const f=u.authToken;if(!e&&jb(f))return u;if(f.requestStatus===1)return n=Lb(i,e),u;{if(!navigator.onLine)throw $s.create("app-offline");const m=zb(u);return n=Ub(i,m),m}});return n?await n:s.authToken}async function Lb(i,e){let n=await Qv(i.appConfig);for(;n.authToken.requestStatus===1;)await e0(100),n=await Qv(i.appConfig);const s=n.authToken;return s.requestStatus===0?Tp(i,e):s}function Qv(i){return Hh(i,e=>{if(!a0(e))throw $s.create("not-registered");const n=e.authToken;return Hb(n)?{...e,authToken:{requestStatus:0}}:e})}async function Ub(i,e){try{const n=await Vb(i,e),s={...e,authToken:n};return await yh(i.appConfig,s),n}catch(n){if(KT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await r0(i.appConfig);else{const s={...e,authToken:{requestStatus:0}};await yh(i.appConfig,s)}throw n}}function a0(i){return i!==void 0&&i.registrationStatus===2}function jb(i){return i.requestStatus===2&&!Bb(i)}function Bb(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+db}function zb(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function Hb(i){return i.requestStatus===1&&i.requestTime+GT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qb(i){const e=i,{installationEntry:n,registrationPromise:s}=await Ep(e);return s?s.catch(console.error):Tp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fb(i,e=!1){const n=i;return await Gb(n),(await Tp(n,e)).token}async function Gb(i){const{registrationPromise:e}=await Ep(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i){if(!i||!i.options)throw wm("App Configuration");if(!i.name)throw wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw wm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function wm(i){return $s.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="installations",$b="installations-internal",Kb=i=>{const e=i.getProvider("app").getImmediate(),n=Yb(e),s=na(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},Qb=i=>{const e=i.getProvider("app").getImmediate(),n=na(e,o0).getImmediate();return{getId:()=>qb(n),getToken:o=>Fb(n,o)}};function Xb(){Ti(new Gn(o0,Kb,"PUBLIC")),Ti(new Gn($b,Qb,"PRIVATE"))}Xb();Ln(FT,_p);Ln(FT,_p,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="analytics",Wb="firebase_id",Jb="origin",Zb=60*1e3,eI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn=new Bh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new ta("analytics","Analytics",tI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(i){if(!i.startsWith(Sp)){const e=Tn.create("invalid-gtag-resource",{gtagURL:i});return cn.warn(e.message),""}return i}function l0(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function iI(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function rI(i,e){const n=iI("firebase-js-sdk-policy",{createScriptURL:nI}),s=document.createElement("script"),o=`${Sp}?l=${i}&id=${e}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function sI(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function aI(i,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await l0(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(m){cn.error(m)}i("config",o,u)}async function oI(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await l0(n);for(const p of f){const g=m.find(A=>A.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){cn.error(u)}}function lI(i,e,n,s){async function o(u,...f){try{if(u==="event"){const[m,p]=f;await oI(i,e,n,m,p)}else if(u==="config"){const[m,p]=f;await aI(i,e,n,s,m,p)}else if(u==="consent"){const[m,p]=f;i("consent",m,p)}else if(u==="get"){const[m,p,g]=f;i("get",m,p,g)}else if(u==="set"){const[m]=f;i("set",m)}else i(u,...f)}catch(m){cn.error(m)}}return o}function uI(i,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=lI(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function cI(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Sp)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=30,fI=1e3;class dI{constructor(e={},n=fI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const u0=new dI;function mI(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function pI(i){const{appId:e,apiKey:n}=i,s={method:"GET",headers:mI(n)},o=eI.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();m.error?.message&&(f=m.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function gI(i,e=u0,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Tn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Tn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new vI;return setTimeout(async()=>{m.abort()},Zb),c0({appId:s,apiKey:o,measurementId:u},f,m,e)}async function c0(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=u0){const{appId:u,measurementId:f}=i;try{await yI(s,e)}catch(m){if(f)return cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:f};throw m}try{const m=await pI(i);return o.deleteThrottleMetadata(u),m}catch(m){const p=m;if(!_I(p)){if(o.deleteThrottleMetadata(u),f)return cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:f};throw m}const g=Number(p?.customData?.httpStatus)===503?jv(n,o.intervalMillis,hI):jv(n,o.intervalMillis),E={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,E),cn.debug(`Calling attemptFetch again in ${g} millis`),c0(i,E,s,o)}}function yI(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function _I(i){if(!(i instanceof Qn)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class vI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function EI(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,f={...s,send_to:u};i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(){if(kT())try{await LT()}catch(i){return cn.warn(Tn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return cn.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SI(i,e,n,s,o,u,f){const m=gI(i);m.then(w=>{n[w.measurementId]=w.appId,i.options.measurementId&&w.measurementId!==i.options.measurementId&&cn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${w.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(w=>cn.error(w)),e.push(m);const p=TI().then(w=>{if(w)return s.getId()}),[g,E]=await Promise.all([m,p]);cI(u)||rI(u,g.measurementId),o("js",new Date);const A=f?.config??{};return A[Jb]="firebase",A.update=!0,E!=null&&(A[Wb]=E),o("config",g.measurementId,A),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.app=e}_delete(){return delete Kl[this.app.options.appId],Promise.resolve()}}let Kl={},Xv=[];const Wv={};let Rm="dataLayer",wI="gtag",Jv,h0,Zv=!1;function RI(){const i=[];if(VT()&&i.push("This is a browser extension environment."),G1()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});cn.warn(n.message)}}function bI(i,e,n){RI();const s=i.options.appId;if(!s)throw Tn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Kl[s]!=null)throw Tn.create("already-exists",{id:s});if(!Zv){sI(Rm);const{wrappedGtag:u,gtagCore:f}=uI(Kl,Xv,Wv,Rm,wI);h0=u,Jv=f,Zv=!0}return Kl[s]=SI(i,Xv,Wv,e,Jv,Rm,n),new AI(i)}function II(i=yp()){i=yt(i);const e=na(i,_h);return e.isInitialized()?e.getImmediate():CI(i)}function CI(i,e={}){const n=na(i,_h);if(n.isInitialized()){const o=n.getImmediate();if(Qr(e,n.getOptions()))return o;throw Tn.create("already-initialized")}return n.initialize({options:e})}function DI(i,e,n,s){i=yt(i),EI(h0,Kl[i.app.options.appId],e,n,s).catch(o=>cn.error(o))}const eE="@firebase/analytics",tE="0.10.18";function NI(){Ti(new Gn(_h,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return bI(s,o,n)},"PUBLIC")),Ti(new Gn("analytics-internal",i,"PRIVATE")),Ln(eE,tE),Ln(eE,tE,"esm2020");function i(e){try{const n=e.getProvider(_h).getImmediate();return{logEvent:(s,o,u)=>DI(n,s,o,u)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}NI();function f0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OI=f0,d0=new ta("auth","Firebase",f0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Bh("@firebase/auth");function xI(i,...e){vh.logLevel<=Ve.WARN&&vh.warn(`Auth (${To}): ${i}`,...e)}function nh(i,...e){vh.logLevel<=Ve.ERROR&&vh.error(`Auth (${To}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(i,...e){throw Ap(i,...e)}function mi(i,...e){return Ap(i,...e)}function m0(i,e,n){const s={...OI(),[e]:n};return new ta("auth","Firebase",s).create(e,{appName:i.name})}function er(i){return m0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ap(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return d0.create(i,...e)}function Ee(i,e,...n){if(!i)throw Ap(e,...n)}function Ji(i){const e="INTERNAL ASSERTION FAILED: "+i;throw nh(e),new Error(e)}function ir(i,e){i||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return typeof self<"u"&&self.location?.href||""}function MI(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MI()||VT()||"connection"in navigator)?navigator.onLine:!0}function VI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=j1()||H1()}get(){return PI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(i,e){ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UI=new du(3e4,6e4);function or(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function lr(i,e,n,s,o={}){return g0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:i.config.apiKey,...f}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return z1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(g.credentials="include"),p0.fetch()(await y0(i,i.config.apiHost,n,m),g)})}async function g0(i,e,n){i._canInitEmulator=!1;const s={...kI,...e};try{const o=new BI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Qc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Qc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw m0(i,E,g);Yn(i,E)}}catch(o){if(o instanceof Qn)throw o;Yn(i,"network-request-failed",{message:String(o)})}}async function mu(i,e,n,s,o={}){const u=await lr(i,e,n,s,o);return"mfaPendingCredential"in u&&Yn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function y0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?wp(i.config,o):`${i.config.apiScheme}://${o}`;return LI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function jI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),UI.get())})}}function Qc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(i,e,s);return o.customData._tokenResponse=n,o}function iE(i){return i!==void 0&&i.enterprise!==void 0}class zI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HI(i,e){return lr(i,"GET","/v2/recaptchaConfig",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(i,e){return lr(i,"POST","/v1/accounts:delete",e)}async function Eh(i,e){return lr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FI(i,e=!1){const n=yt(i),s=await n.getIdToken(e),o=Rp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ql(bm(o.auth_time)),issuedAtTime:Ql(bm(o.iat)),expirationTime:Ql(bm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function bm(i){return Number(i)*1e3}function Rp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return nh("JWT malformed, contained fewer than 3 sections"),null;try{const o=DT(n);return o?JSON.parse(o):(nh("Failed to decode base64 JWT payload"),null)}catch(o){return nh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rE(i){const e=Rp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Qn&&GI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function GI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(i){const e=i.auth,n=await i.getIdToken(),s=await nu(i,Eh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?_0(o.providerUserInfo):[],f=KI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)}async function $I(i){const e=yt(i);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function KI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,e){const n=await g0(i,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await y0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Eo(i.emulatorConfig.host)&&(p.credentials="include"),p0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XI(i,e){return lr(i,"POST","/v2/accounts:revokeToken",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await QI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Fn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new YI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await nu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FI(this,e)}reload(){return $I(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await nu(this,qI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:L,providerData:j,stsTokenManager:$}=n;Ee(A&&$,e,"internal-error");const q=lo.fromJSON(this.name,$);Ee(typeof A=="string",e,"internal-error"),jr(s,e.name),jr(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof L=="boolean",e,"internal-error"),jr(u,e.name),jr(f,e.name),jr(m,e.name),jr(p,e.name),jr(g,e.name),jr(E,e.name);const K=new Fn({uid:A,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return j&&Array.isArray(j)&&(K.providerData=j.map(se=>({...se}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new Fn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new Fn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function Zi(i){ir(i instanceof Function,"Expected a class definition");let e=sE.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,sE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v0.type="NONE";const aE=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(i,e,n){return`firebase:${i}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ih(this.userKey,o.apiKey,u),this.fullPersistenceKey=ih("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?Fn._fromGetAccountInfoResponse(this.auth,n,e):null}return Fn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(Zi(aE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Zi(aE);const f=ih(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const w=await Eh(e,{idToken:E}).catch(()=>{});if(!w)break;A=await Fn._fromGetAccountInfoResponse(e,w,E)}else A=Fn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(A0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(b0(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||S0(e))&&!e.includes("edge/"))return"Chrome";if(w0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function E0(i=Zt()){return/firefox\//i.test(i)}function T0(i=Zt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S0(i=Zt()){return/crios\//i.test(i)}function A0(i=Zt()){return/iemobile/i.test(i)}function w0(i=Zt()){return/android/i.test(i)}function R0(i=Zt()){return/blackberry/i.test(i)}function b0(i=Zt()){return/webos/i.test(i)}function bp(i=Zt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function WI(i=Zt()){return bp(i)&&!!window.navigator?.standalone}function JI(){return q1()&&document.documentMode===10}function I0(i=Zt()){return bp(i)||w0(i)||b0(i)||R0(i)||/windows phone/i.test(i)||A0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(i,e=[]){let n;switch(i){case"Browser":n=oE(Zt());break;case"Worker":n=`${oE(Zt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(i,e={}){return lr(i,"GET","/v2/passwordPolicy",or(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=6;class nC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new ZI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),s=await Fn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(er(this));const n=e?yt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eC(this),n=new nC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ns(i){return yt(i)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=X1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rC(i){qh=i}function D0(i){return qh.loadJS(i)}function sC(){return qh.recaptchaEnterpriseScript}function aC(){return qh.gapiScript}function oC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class lC{constructor(){this.enterprise=new uC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cC="recaptcha-enterprise",N0="NO_RECAPTCHA";class hC{constructor(e){this.type=cC,this.auth=ns(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{HI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new zI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(N0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&iE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sC();p.length!==0&&(p+=m),D0(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function uE(i,e,n,s=!1,o=!1){const u=new hC(i);let f;if(o)f=N0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Sh(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uE(i,e,n,n==="getOobCode");return s(i,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i,e){const n=na(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qr(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function dC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Zi);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function mC(i,e,n){const s=ns(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=O0(e),{host:f,port:m}=pC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Qr(g,s.config.emulator)&&Qr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(MT(`${u}//${f}${p}`),PT("Auth",!0)):gC()}function O0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pC(i){const e=O0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:cE(f)}}}function cE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function yC(i,e){return lr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(i,e){return mu(i,"POST","/v1/accounts:signInWithPassword",or(i,e))}async function x0(i,e){return lr(i,"POST","/v1/accounts:sendOobCode",or(i,e))}async function vC(i,e){return x0(i,e)}async function EC(i,e){return x0(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",or(i,e))}async function SC(i,e){return mu(i,"POST","/v1/accounts:signInWithEmailLink",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Ip{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new iu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,n,"signInWithPassword",_C);case"emailLink":return TC(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sh(e,s,"signUpPassword",yC);case"emailLink":return SC(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,e){return mu(i,"POST","/v1/accounts:signInWithIdp",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="http://localhost";class Qs extends Ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:AC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RC(i){const e=zl(Hl(i)).link,n=e?zl(Hl(e)).deep_link_id:null,s=zl(Hl(i)).deep_link_id;return(s?zl(Hl(s)).link:null)||s||n||e||i}class Cp{constructor(e){const n=zl(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=wC(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=RC(e);try{return new Cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Cp.parseLink(n);return Ee(s,"argument-error"),iu._fromEmailAndCode(e,s.code,s.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends pu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.FACEBOOK_SIGN_IN_METHOD="facebook.com";Br.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return zr.credential(n,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends pu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends pu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(i,e){return mu(i,"POST","/v1/accounts:signUp",or(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Fn._fromIdTokenResponse(e,s,o),f=hE(s);return new Xs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new Xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends Qn{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ah(e,n,s,o)}}function P0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(i,u,e,s):u})}async function IC(i,e,n=!1){const s=await nu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Xs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V0(i,e,n=!1){const{auth:s}=i;if(Vn(s.app))return Promise.reject(er(s));const o="reauthenticate";try{const u=await nu(i,P0(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const f=Rp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(i.uid===m,s,"user-mismatch"),Xs._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(i,e,n=!1){if(Vn(i.app))return Promise.reject(er(i));const s="signIn",o=await P0(i,s,e),u=await Xs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function CC(i,e){return k0(ns(i),e)}async function DC(i,e){return V0(yt(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L0(i){const e=ns(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NC(i,e,n){const s=ns(i);await Sh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",EC)}async function OC(i,e,n){if(Vn(i.app))return Promise.reject(er(i));const s=ns(i),f=await Sh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&L0(i),p}),m=await Xs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function xC(i,e,n){return Vn(i.app)?Promise.reject(er(i)):CC(yt(i),ia.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&L0(i),s})}async function fE(i,e){const n=yt(i),o={requestType:"VERIFY_EMAIL",idToken:await i.getIdToken()},{email:u}=await vC(n.auth,o);u!==i.email&&await i.reload()}function MC(i,e,n,s){return yt(i).onIdTokenChanged(e,n,s)}function PC(i,e,n){return yt(i).beforeAuthStateChanged(e,n)}function VC(i,e,n,s){return yt(i).onAuthStateChanged(e,n,s)}function Gm(i){return yt(i).signOut()}async function kC(i){return yt(i).delete()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=1e3,UC=10;class j0 extends U0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);JI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j0.type="LOCAL";const jC=j0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends U0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B0.type="SESSION";const z0=B0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Fh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await BC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Dp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function HC(i){pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function qC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FC(){return navigator?.serviceWorker?.controller||null}function GC(){return H0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",YC=1,Rh="firebaseLocalStorage",F0="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Gh(i,e){return i.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function $C(){const i=indexedDB.deleteDatabase(q0);return new gu(i).toPromise()}function Ym(){const i=indexedDB.open(q0,YC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Rh,{keyPath:F0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await $C(),e(await Ym()))})})}async function dE(i,e,n){const s=Gh(i,!0).put({[F0]:e,value:n});return new gu(s).toPromise()}async function KC(i,e){const n=Gh(i,!1).get(e),s=await new gu(n).toPromise();return s===void 0?null:s.value}function mE(i,e){const n=Gh(i,!0).delete(e);return new gu(n).toPromise()}const QC=800,XC=3;class G0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>XC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(GC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await dE(e,wh,"1"),await mE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>dE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>KC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Gh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G0.type="LOCAL";const WC=G0;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i,e){return e?Zi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends Ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZC(i){return k0(i.auth,new Np(i),i.bypassAuthState)}function e2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),V0(n,new Np(i),i.bypassAuthState)}async function t2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),IC(n,new Np(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZC;case"linkViaPopup":case"linkViaRedirect":return t2;case"reauthViaPopup":case"reauthViaRedirect":return e2;default:Yn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new du(2e3,1e4);class so extends Y0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n2.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="pendingRedirect",rh=new Map;class r2 extends Y0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=rh.get(this.auth._key());if(!e){try{const s=await s2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}rh.set(this.auth._key(),e)}return this.bypassAuthState||rh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s2(i,e){const n=l2(e),s=o2(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function a2(i,e){rh.set(i._key(),e)}function o2(i){return Zi(i._redirectPersistence)}function l2(i){return ih(i2,i.config.apiKey,i.name)}async function u2(i,e,n=!1){if(Vn(i.app))return Promise.reject(er(i));const s=ns(i),o=JC(s,e),f=await new r2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2=600*1e3;class h2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c2&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function $0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function f2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(i,e={}){return lr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p2=/^https?/;async function g2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await d2(i);for(const n of e)try{if(y2(n))return}catch{}Yn(i,"unauthorized-domain")}function y2(i){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!p2.test(n))return!1;if(m2.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new du(3e4,6e4);function gE(){const i=pi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function v2(i){return new Promise((e,n)=>{function s(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(mi(i,"network-request-failed"))},timeout:_2.get()})}if(pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pi().gapi?.load)s();else{const o=oC("iframefcb");return pi()[o]=()=>{gapi.load?s():n(mi(i,"network-request-failed"))},D0(`${aC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw sh=null,e})}let sh=null;function E2(i){return sh=sh||v2(i),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=new du(5e3,15e3),S2="__/auth/iframe",A2="emulator/auth/iframe",w2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b2(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?wp(e,A2):`https://${i.config.authDomain}/${S2}`,s={apiKey:e.apiKey,appName:i.name,v:To},o=R2.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function I2(i){const e=await E2(i),n=pi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:b2(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mi(i,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},T2.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2=500,N2=600,O2="_blank",x2="http://localhost";class yE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M2(i,e,n,s=D2,o=N2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...C2,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=S0(g)?O2:n),E0(g)&&(e=e||x2,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[L,j])=>`${w}${L}=${j},`,"");if(WI(g)&&m!=="_self")return P2(e||"",m),new yE(null);const A=window.open(e||"",m,E);Ee(A,i,"popup-blocked");try{A.focus()}catch{}return new yE(A)}function P2(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="__/auth/handler",k2="emulator/auth/handler",L2=encodeURIComponent("fac");async function _E(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:To,eventId:o};if(e instanceof M0){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",Q1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof pu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${L2}=${encodeURIComponent(p)}`:"";return`${U2(i)}?${fu(m).slice(1)}${g}`}function U2({config:i}){return i.emulator?wp(i,k2):`https://${i.authDomain}/${V2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class j2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=u2,this._overrideRedirectResult=a2}async _openPopup(e,n,s,o){ir(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await _E(e,n,s,qm(),o);return M2(e,u,Dp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await _E(e,n,s,qm(),o);return HC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await I2(e),s=new h2(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{const u=o?.[0]?.[Im];u!==void 0&&n(!!u),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I0()||T0()||bp()}}const B2=j2;var vE="@firebase/auth",EE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q2(i){Ti(new Gn("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C0(i)},g=new iC(s,o,u,p);return dC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ti(new Gn("auth-internal",e=>{const n=ns(e.getProvider("auth").getImmediate());return(s=>new z2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(vE,EE,H2(i)),Ln(vE,EE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=300,G2=xT("authIdTokenMaxAge")||F2;let TE=null;const Y2=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>G2)return;const o=n?.token;TE!==o&&(TE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $2(i=yp()){const e=na(i,"auth");if(e.isInitialized())return e.getImmediate();const n=fC(i,{popupRedirectResolver:B2,persistence:[WC,jC,z0]}),s=xT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Y2(u.toString());PC(n,f,()=>f(n.currentUser)),MC(n,m=>f(m))}}const o=NT("auth");return o&&mC(n,`http://${o}`),n}function K2(){return document.getElementsByTagName("head")?.[0]??document}rC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",K2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q2("Browser");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,K0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function b(){}b.prototype=C.prototype,P.D=C.prototype,P.prototype=new b,P.prototype.constructor=P,P.C=function(O,M,k){for(var I=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)I[fe-2]=arguments[fe];return C.prototype[M].apply(O,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,b){b||(b=0);var O=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)O[M]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(M=0;16>M;++M)O[M]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=P.g[0],b=P.g[1],M=P.g[2];var k=P.g[3],I=C+(k^b&(M^k))+O[0]+3614090360&4294967295;C=b+(I<<7&4294967295|I>>>25),I=k+(M^C&(b^M))+O[1]+3905402710&4294967295,k=C+(I<<12&4294967295|I>>>20),I=M+(b^k&(C^b))+O[2]+606105819&4294967295,M=k+(I<<17&4294967295|I>>>15),I=b+(C^M&(k^C))+O[3]+3250441966&4294967295,b=M+(I<<22&4294967295|I>>>10),I=C+(k^b&(M^k))+O[4]+4118548399&4294967295,C=b+(I<<7&4294967295|I>>>25),I=k+(M^C&(b^M))+O[5]+1200080426&4294967295,k=C+(I<<12&4294967295|I>>>20),I=M+(b^k&(C^b))+O[6]+2821735955&4294967295,M=k+(I<<17&4294967295|I>>>15),I=b+(C^M&(k^C))+O[7]+4249261313&4294967295,b=M+(I<<22&4294967295|I>>>10),I=C+(k^b&(M^k))+O[8]+1770035416&4294967295,C=b+(I<<7&4294967295|I>>>25),I=k+(M^C&(b^M))+O[9]+2336552879&4294967295,k=C+(I<<12&4294967295|I>>>20),I=M+(b^k&(C^b))+O[10]+4294925233&4294967295,M=k+(I<<17&4294967295|I>>>15),I=b+(C^M&(k^C))+O[11]+2304563134&4294967295,b=M+(I<<22&4294967295|I>>>10),I=C+(k^b&(M^k))+O[12]+1804603682&4294967295,C=b+(I<<7&4294967295|I>>>25),I=k+(M^C&(b^M))+O[13]+4254626195&4294967295,k=C+(I<<12&4294967295|I>>>20),I=M+(b^k&(C^b))+O[14]+2792965006&4294967295,M=k+(I<<17&4294967295|I>>>15),I=b+(C^M&(k^C))+O[15]+1236535329&4294967295,b=M+(I<<22&4294967295|I>>>10),I=C+(M^k&(b^M))+O[1]+4129170786&4294967295,C=b+(I<<5&4294967295|I>>>27),I=k+(b^M&(C^b))+O[6]+3225465664&4294967295,k=C+(I<<9&4294967295|I>>>23),I=M+(C^b&(k^C))+O[11]+643717713&4294967295,M=k+(I<<14&4294967295|I>>>18),I=b+(k^C&(M^k))+O[0]+3921069994&4294967295,b=M+(I<<20&4294967295|I>>>12),I=C+(M^k&(b^M))+O[5]+3593408605&4294967295,C=b+(I<<5&4294967295|I>>>27),I=k+(b^M&(C^b))+O[10]+38016083&4294967295,k=C+(I<<9&4294967295|I>>>23),I=M+(C^b&(k^C))+O[15]+3634488961&4294967295,M=k+(I<<14&4294967295|I>>>18),I=b+(k^C&(M^k))+O[4]+3889429448&4294967295,b=M+(I<<20&4294967295|I>>>12),I=C+(M^k&(b^M))+O[9]+568446438&4294967295,C=b+(I<<5&4294967295|I>>>27),I=k+(b^M&(C^b))+O[14]+3275163606&4294967295,k=C+(I<<9&4294967295|I>>>23),I=M+(C^b&(k^C))+O[3]+4107603335&4294967295,M=k+(I<<14&4294967295|I>>>18),I=b+(k^C&(M^k))+O[8]+1163531501&4294967295,b=M+(I<<20&4294967295|I>>>12),I=C+(M^k&(b^M))+O[13]+2850285829&4294967295,C=b+(I<<5&4294967295|I>>>27),I=k+(b^M&(C^b))+O[2]+4243563512&4294967295,k=C+(I<<9&4294967295|I>>>23),I=M+(C^b&(k^C))+O[7]+1735328473&4294967295,M=k+(I<<14&4294967295|I>>>18),I=b+(k^C&(M^k))+O[12]+2368359562&4294967295,b=M+(I<<20&4294967295|I>>>12),I=C+(b^M^k)+O[5]+4294588738&4294967295,C=b+(I<<4&4294967295|I>>>28),I=k+(C^b^M)+O[8]+2272392833&4294967295,k=C+(I<<11&4294967295|I>>>21),I=M+(k^C^b)+O[11]+1839030562&4294967295,M=k+(I<<16&4294967295|I>>>16),I=b+(M^k^C)+O[14]+4259657740&4294967295,b=M+(I<<23&4294967295|I>>>9),I=C+(b^M^k)+O[1]+2763975236&4294967295,C=b+(I<<4&4294967295|I>>>28),I=k+(C^b^M)+O[4]+1272893353&4294967295,k=C+(I<<11&4294967295|I>>>21),I=M+(k^C^b)+O[7]+4139469664&4294967295,M=k+(I<<16&4294967295|I>>>16),I=b+(M^k^C)+O[10]+3200236656&4294967295,b=M+(I<<23&4294967295|I>>>9),I=C+(b^M^k)+O[13]+681279174&4294967295,C=b+(I<<4&4294967295|I>>>28),I=k+(C^b^M)+O[0]+3936430074&4294967295,k=C+(I<<11&4294967295|I>>>21),I=M+(k^C^b)+O[3]+3572445317&4294967295,M=k+(I<<16&4294967295|I>>>16),I=b+(M^k^C)+O[6]+76029189&4294967295,b=M+(I<<23&4294967295|I>>>9),I=C+(b^M^k)+O[9]+3654602809&4294967295,C=b+(I<<4&4294967295|I>>>28),I=k+(C^b^M)+O[12]+3873151461&4294967295,k=C+(I<<11&4294967295|I>>>21),I=M+(k^C^b)+O[15]+530742520&4294967295,M=k+(I<<16&4294967295|I>>>16),I=b+(M^k^C)+O[2]+3299628645&4294967295,b=M+(I<<23&4294967295|I>>>9),I=C+(M^(b|~k))+O[0]+4096336452&4294967295,C=b+(I<<6&4294967295|I>>>26),I=k+(b^(C|~M))+O[7]+1126891415&4294967295,k=C+(I<<10&4294967295|I>>>22),I=M+(C^(k|~b))+O[14]+2878612391&4294967295,M=k+(I<<15&4294967295|I>>>17),I=b+(k^(M|~C))+O[5]+4237533241&4294967295,b=M+(I<<21&4294967295|I>>>11),I=C+(M^(b|~k))+O[12]+1700485571&4294967295,C=b+(I<<6&4294967295|I>>>26),I=k+(b^(C|~M))+O[3]+2399980690&4294967295,k=C+(I<<10&4294967295|I>>>22),I=M+(C^(k|~b))+O[10]+4293915773&4294967295,M=k+(I<<15&4294967295|I>>>17),I=b+(k^(M|~C))+O[1]+2240044497&4294967295,b=M+(I<<21&4294967295|I>>>11),I=C+(M^(b|~k))+O[8]+1873313359&4294967295,C=b+(I<<6&4294967295|I>>>26),I=k+(b^(C|~M))+O[15]+4264355552&4294967295,k=C+(I<<10&4294967295|I>>>22),I=M+(C^(k|~b))+O[6]+2734768916&4294967295,M=k+(I<<15&4294967295|I>>>17),I=b+(k^(M|~C))+O[13]+1309151649&4294967295,b=M+(I<<21&4294967295|I>>>11),I=C+(M^(b|~k))+O[4]+4149444226&4294967295,C=b+(I<<6&4294967295|I>>>26),I=k+(b^(C|~M))+O[11]+3174756917&4294967295,k=C+(I<<10&4294967295|I>>>22),I=M+(C^(k|~b))+O[2]+718787259&4294967295,M=k+(I<<15&4294967295|I>>>17),I=b+(k^(M|~C))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+k&4294967295}s.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var b=C-this.blockSize,O=this.B,M=this.h,k=0;k<C;){if(M==0)for(;k<=b;)o(this,P,k),k+=this.blockSize;if(typeof P=="string"){for(;k<C;)if(O[M++]=P.charCodeAt(k++),M==this.blockSize){o(this,O),M=0;break}}else for(;k<C;)if(O[M++]=P[k++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=C},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var b=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=b&255,b/=256;for(this.u(P),P=Array(16),C=b=0;4>C;++C)for(var O=0;32>O;O+=8)P[b++]=this.g[C]>>>O&255;return P};function u(P,C){var b=m;return Object.prototype.hasOwnProperty.call(b,P)?b[P]:b[P]=C(P)}function f(P,C){this.h=C;for(var b=[],O=!0,M=P.length-1;0<=M;M--){var k=P[M]|0;O&&k==C||(b[M]=k,O=!1)}this.g=b}var m={};function p(P){return-128<=P&&128>P?u(P,function(C){return new f([C|0],0>C?-1:0)}):new f([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return A;if(0>P)return q(g(-P));for(var C=[],b=1,O=0;P>=b;O++)C[O]=P/b|0,b*=4294967296;return new f(C,0)}function E(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return q(E(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(C,8)),O=A,M=0;M<P.length;M+=8){var k=Math.min(8,P.length-M),I=parseInt(P.substring(M,M+k),C);8>k?(k=g(Math.pow(C,k)),O=O.j(k).add(g(I))):(O=O.j(b),O=O.add(g(I)))}return O}var A=p(0),w=p(1),L=p(16777216);i=f.prototype,i.m=function(){if($(this))return-q(this).m();for(var P=0,C=1,b=0;b<this.g.length;b++){var O=this.i(b);P+=(0<=O?O:4294967296+O)*C,C*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(j(this))return"0";if($(this))return"-"+q(this).toString(P);for(var C=g(Math.pow(P,6)),b=this,O="";;){var M=Ae(b,C).g;b=K(b,M.j(C));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(P);if(b=M,j(b))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function j(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function $(P){return P.h==-1}i.l=function(P){return P=K(this,P),$(P)?-1:j(P)?0:1};function q(P){for(var C=P.g.length,b=[],O=0;O<C;O++)b[O]=~P.g[O];return new f(b,~P.h).add(w)}i.abs=function(){return $(this)?q(this):this},i.add=function(P){for(var C=Math.max(this.g.length,P.g.length),b=[],O=0,M=0;M<=C;M++){var k=O+(this.i(M)&65535)+(P.i(M)&65535),I=(k>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);O=I>>>16,k&=65535,I&=65535,b[M]=I<<16|k}return new f(b,b[b.length-1]&-2147483648?-1:0)};function K(P,C){return P.add(q(C))}i.j=function(P){if(j(this)||j(P))return A;if($(this))return $(P)?q(this).j(q(P)):q(q(this).j(P));if($(P))return q(this.j(q(P)));if(0>this.l(L)&&0>P.l(L))return g(this.m()*P.m());for(var C=this.g.length+P.g.length,b=[],O=0;O<2*C;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<P.g.length;M++){var k=this.i(O)>>>16,I=this.i(O)&65535,fe=P.i(M)>>>16,xe=P.i(M)&65535;b[2*O+2*M]+=I*xe,se(b,2*O+2*M),b[2*O+2*M+1]+=k*xe,se(b,2*O+2*M+1),b[2*O+2*M+1]+=I*fe,se(b,2*O+2*M+1),b[2*O+2*M+2]+=k*fe,se(b,2*O+2*M+2)}for(O=0;O<C;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=C;O<2*C;O++)b[O]=0;return new f(b,0)};function se(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function ae(P,C){this.g=P,this.h=C}function Ae(P,C){if(j(C))throw Error("division by zero");if(j(P))return new ae(A,A);if($(P))return C=Ae(q(P),C),new ae(q(C.g),q(C.h));if($(C))return C=Ae(P,q(C)),new ae(q(C.g),C.h);if(30<P.g.length){if($(P)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var b=w,O=C;0>=O.l(P);)b=he(b),O=he(O);var M=De(b,1),k=De(O,1);for(O=De(O,2),b=De(b,2);!j(O);){var I=k.add(O);0>=I.l(P)&&(M=M.add(b),k=I),O=De(O,1),b=De(b,1)}return C=K(P,M.j(C)),new ae(M,C)}for(M=A;0<=P.l(C);){for(b=Math.max(1,Math.floor(P.m()/C.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=g(b),I=k.j(C);$(I)||0<I.l(P);)b-=O,k=g(b),I=k.j(C);j(k)&&(k=w),M=M.add(k),P=K(P,I)}return new ae(M,P)}i.A=function(P){return Ae(this,P).h},i.and=function(P){for(var C=Math.max(this.g.length,P.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)&P.i(O);return new f(b,this.h&P.h)},i.or=function(P){for(var C=Math.max(this.g.length,P.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)|P.i(O);return new f(b,this.h|P.h)},i.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),b=[],O=0;O<C;O++)b[O]=this.i(O)^P.i(O);return new f(b,this.h^P.h)};function he(P){for(var C=P.g.length+1,b=[],O=0;O<C;O++)b[O]=P.i(O)<<1|P.i(O-1)>>>31;return new f(b,P.h)}function De(P,C){var b=C>>5;C%=32;for(var O=P.g.length-b,M=[],k=0;k<O;k++)M[k]=0<C?P.i(k+b)>>>C|P.i(k+b+1)<<32-C:P.i(k+b);return new f(M,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,K0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,$r=f}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q0,ql,X0,ah,$m,W0,J0,Z0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in _))break e;_=_[B]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,B={next:function(){if(!S&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,w.apply(null,arguments)}function L(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function j(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,B,Y){for(var le=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)le[Ue-2]=arguments[Ue];return y.prototype[B].apply(S,le)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const B=c.length||0,Y=S.length||0;c.length=B+Y;for(let le=0;le<Y;le++)c[B+le]=S[le]}else c.push(S)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var he=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function De(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function P(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)c[_]=S[_];for(let Y=0;Y<b.length;Y++)_=b[Y],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function I(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const S=xe.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var xe=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,oe=!1,ge=new fe,N=()=>{const c=m.Promise.resolve(void 0);ne=()=>{c.then(Q)}};var Q=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){k(_)}var y=xe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}oe=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Ie(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{Ae(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,ie);var we={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Xn(c,y,_,S,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=B,this.key=++tt,this.da=this.fa=!1}function cr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,y,_,S,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var le=os(c,y,S,B);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new Xn(y,this.src,Y,!!S,B),y.fa=_,c.push(y)),y};function as(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],B=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(S,B,1),Y&&(cr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function os(c,y,_,S){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==S)return B}return-1}var ls="closure_lm_"+(1e6*Math.random()|0),Do={};function Ru(c,y,_,S,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ru(c,y[Y],_,S,B);return null}return _=bu(_),c&&c[xt]?c.K(y,_,g(S)?!!S.capture:!1,B):Sn(c,y,_,!1,S,B)}function Sn(c,y,_,S,B,Y){if(!y)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,Ue=la(c);if(Ue||(c[ls]=Ue=new bi(c)),_=Ue.add(y,_,S,le,Y),_.proxy)return _;if(S=ff(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)de||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),S,B);else if(c.attachEvent)c.attachEvent(us(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ff(){function c(_){return y.call(c.src,c.listener,_)}const y=df;return c}function No(c,y,_,S,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)No(c,y[Y],_,S,B);else S=g(S)?!!S.capture:!!S,_=bu(_),c&&c[xt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=os(Y,_,S,B),-1<_&&(cr(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=la(c))&&(y=c.g[y.toString()],c=-1,y&&(c=os(y,_,S,B)),(_=-1<c?y[c]:null)&&oa(_))}function oa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[xt])as(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(us(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=la(y))?(as(_,c),_.h==0&&(_.src=null,y[ls]=null)):cr(c)}}}function us(c){return c in Do?Do[c]:Do[c]="on"+c}function df(c,y){if(c.da)c=!0;else{y=new Ie(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&oa(c),c=_.call(S,y)}return c}function la(c){return c=c[ls],c instanceof bi?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function ct(){J.call(this),this.i=new bi(this),this.M=this,this.F=null}j(ct,J),ct.prototype[xt]=!0,ct.prototype.removeEventListener=function(c,y,_,S){No(this,c,y,_,S)};function Ye(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var B=y;y=new ie(S,c),O(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var le=y.g=_[Y];B=hn(le,S,!0,y)&&B}if(le=y.g=c,B=hn(le,S,!0,y)&&B,B=hn(le,S,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)le=y.g=_[Y],B=hn(le,S,!1,y)&&B}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)cr(_[S]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},ct.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function hn(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var le=y[Y];if(le&&!le.da&&le.capture==_){var Ue=le.listener,Rt=le.ha||le.src;le.fa&&as(c.i,le),B=Ue.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function $t(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Iu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class mf extends J{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){J.call(this),this.h=c,this.g={}}j(cs,J);var hs=[];function fs(c){De(c.g,function(y,_){this.g.hasOwnProperty(_)&&oa(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Un=m.JSON.stringify,ua=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function xo(){}xo.prototype.h=null;function Mo(c){return c.h||(c.h=c.i())}function Po(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){ie.call(this,"d")}j(Ci,ie);function Vo(){ie.call(this,"c")}j(Vo,ie);var Wn={},ko=null;function hr(){return ko=ko||new ct}Wn.La="serverreachability";function ca(c){ie.call(this,Wn.La,c)}j(ca,ie);function fr(c){const y=hr();Ye(y,new ca(y))}Wn.STAT_EVENT="statevent";function Cu(c,y){ie.call(this,Wn.STAT_EVENT,c),this.stat=y}j(Cu,ie);function rt(c){const y=hr();Ye(y,new Cu(y,c))}Wn.Ma="timingevent";function wt(c,y){ie.call(this,Wn.Ma,c),this.size=y}j(wt,ie);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Lo(c,y,_,S,B,Y){c.info(function(){if(c.g)if(Y)for(var le="",Ue=Y.split("&"),Rt=0;Rt<Ue.length;Rt++){var je=Ue[Rt].split("=");if(1<je.length){var Pt=je[0];je=je[1];var bt=Pt.split("_");le=2<=bt.length&&bt[1]=="type"?le+(Pt+"="+je+"&"):le+(Pt+"=redacted&")}}else le=null;else le=Y;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+_+`
`+le})}function pf(c,y,_,S,B,Y,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+le})}function dr(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,_)+(S?" "+S:"")})}function Du(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return Un(_)}catch{return y}}var mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jn;function Zn(){}j(Zn,xo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Jn=new Zn;function en(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Uo={},ha={};function jn(c,y,_){c.L=1,c.v=vs(fn(y)),c.m=_,c.P=!0,Ni(c,null)}function Ni(c,y){c.F=Date.now(),ps(c),c.A=fn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Fo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new dt,c.g=Gu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new mf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(hs[0]=B.toString()),B=hs);for(var Y=0;Y<B.length;Y++){var le=Ru(_,B[Y],S||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),fr(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const bt=In(this.g);var y=this.g.Ba();const Ui=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||bt!=4||y==7||(y==8||0>=Ui?fr(3):fr(2)),pr(this);var _=this.g.Z();this.X=_;t:if(Nu(this)){var S=Lu(this.g);c="";var B=S.length,Y=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),ei(this);var le="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Y&&y==B-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,pf(this.i,this.u,this.A,this.l,this.R,bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Rt=this.g;if((Ue=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ue)){var je=Ue;break t}}je=null}if(_=je)dr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,_);else{this.o=!1,this.s=3,rt(12),jt(this),ei(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<le.length;)if(Bt=Ou(this,le),Bt==ha){bt==4&&(this.s=4,rt(14),_=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Uo){this.s=4,rt(15),dr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else dr(this.i,this.l,Bt,null),gs(this,Bt);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||le.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)dr(this.i,this.l,le,"[Invalid Chunked Response]"),jt(this),ei(this);else if(0<le.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Is(Pt),Pt.M=!0,rt(11))}}else dr(this.i,this.l,le,null),gs(this,le);bt==4&&jt(this),this.o&&!this.J&&(bt==4?Hu(this.j,this):(this.o=!1,ps(this)))}else Ef(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),jt(this),ei(this)}}}catch{}finally{}};function Nu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ou(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ha:(_=Number(y.substring(_,S)),isNaN(_)?Uo:(S+=1,S+_>y.length?ha:(y=y.slice(S,S+_),c.C=S+_,y)))}en.prototype.cancel=function(){this.J=!0,jt(this)};function ps(c){c.S=Date.now()+c.I,xu(c,c.I)}function xu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(w(c.ba,c),y)}function pr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Du(this.i,this.A),this.L!=2&&(fr(),rt(17)),jt(this),this.s=2,ei(this)):xu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Hu(c.j,c)}function jt(c){pr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||jo(_.h,c))){if(!c.K&&jo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Ta(_);else break e;Qo(_),rt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(w(_.Za,_),6e3));if(1>=da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Li(_,11)}else if((c.K||_.g==c)&&Aa(_),!se(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let je=B[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Pt=je[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const bt=je[4];bt!=null&&(_.Aa=bt,_.j.info("SVER="+_.Aa));const Ui=je[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(S=1.5*Ui,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Bt=c.g;if(Bt){const oi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var Y=S.h;Y.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ma(Y,Y.h),Y.h=null))}if(S.D){const Wo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(S.ya=Wo,Qe(S.I,S.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=c;if(S.qa=Fu(S,S.J?S.ia:null,S.W),le.K){tn(S.h,le);var Ue=le,Rt=S.L;Rt&&(Ue.I=Rt),Ue.B&&(pr(Ue),ps(Ue)),S.g=le}else Bu(S);0<_.i.length&&Sa(_)}else je[0]!="stop"&&je[0]!="close"||Li(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Li(_,7):$o(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}fr(4)}catch{}}var Mu=class{constructor(c,y){this.g=c,this.map=y}};function Oi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function da(c){return c.h?1:c.g?c.g.size:0}function jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ma(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Oi.prototype.cancel=function(){if(this.i=Bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function gf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function pa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function zo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=pa(c),S=gf(c),B=S.length,Y=0;Y<B;Y++)y.call(void 0,S[Y],_&&_[Y],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),B=null;if(0<=S){var Y=c[_].substring(0,S);B=c[_].substring(S+1)}else Y=c[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,gr(this,c.s),this.l=c.l;var y=c.i,_=new Mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),xi(this,_),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),gr(this,y[4]),this.l=wn(y[5]||"",!0),xi(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}vt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,Ho,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,Ho,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Es(_,_.charAt(0)=="/"?_f:qo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Es(_,ga)),c.join("")};function fn(c){return new vt(c)}function _s(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function gr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function xi(c,y,_){y instanceof Mi?(c.i=y,Vu(c.i,c.h)):(_||(y=Es(y,vf)),c.i=new Mi(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function vs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,qo=/[#\?:]/g,_f=/[#\?]/g,vf=/[#\?@]/g,ga=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&yf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Mi.prototype,i.add=function(c,y){Rn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Pi(c,y){Rn(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return Rn(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(_,S){_.forEach(function(B){c.call(y,B,S,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const B=c[S];for(let Y=0;Y<B.length;Y++)_.push(y[S])}return _},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=ti(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,_){Pi(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Y=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var B=Y;le[S]!==""&&(B+="="+encodeURIComponent(String(le[S]))),c.push(B)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Vu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(Pi(this,S),Fo(this,B,_))},c)),c.j=y}function Ts(c,y){const _=new An;if(m.Image){const S=new Image;S.onload=L(bn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=L(bn,_,"TestLoadImage: error",!1,y,S),S.onabort=L(bn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=L(bn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Bn(c,y){const _=new An,S=new AbortController,B=setTimeout(()=>{S.abort(),bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(B),Y.ok?bn(_,"TestPingServer: ok",!0,y):bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),bn(_,"TestPingServer: error",!1,y)})}function bn(c,y,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Ss(){this.g=new ds}function ni(c,y,_){const S=_||"";try{zo(c,function(B,Y){let le=B;g(B)&&(le=Un(B)),y.push(S+Y+"="+encodeURIComponent(le))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function yr(c){this.l=c.Ub||null,this.j=c.eb||!1}j(yr,xo),yr.prototype.g=function(){return new ki(this.l,this.j)},yr.prototype.i=function(c){return function(){return c}}({});function ki(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(ki,ct),i=ki.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return De(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Yo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Fe,ct);var ya=/^https?$/i,As=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jn.g(),this.v=this.o?Mo(this.o):Mo(Jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ku(this,Y);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())_.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of _)this.g.setRequestHeader(Y,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ku(this,Y)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,_a(c),si(c)}function _a(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},i.bb=function(){va(this)};function va(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)$t(c.Ea,0,c);else if(Ye(c,"readystatechange"),In(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=le===0){var B=String(c.D).match(ys)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ya.test(B?B.toLowerCase():"")}_=S}if(_)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Y=2<In(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",_a(c)}}finally{si(c)}}}}function si(c,y){if(c.g){ws(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{_.onreadystatechange=S}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ua(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ef(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(se(c[S]))continue;var _=M(c[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}P(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ea(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ea.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){rt(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Fu(this,null,this.W),Sa(this)};function $o(c){if(Uu(c),c.G==3){var y=c.U++,_=fn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),bs(c,_),y=new en(c,c.j,y),y.L=2,y.v=vs(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}qu(c)}function Ta(c){c.g&&(Is(c),c.g.cancel(),c.g=null)}function Uu(c){Ta(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Sa(c){if(!fa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ne||N(),oe||(ne(),oe=!0),ge.add(y,c),c.B=0}}function Tf(c,y){return da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(w(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=ju(this,B,y),_=fn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),bs(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Yo(Y)))+"&"+y:this.m&&Mt(_,this.m,Y)),ma(this.h,B),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),B.T=!0,jn(B,_,null)):jn(B,_,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||fa(this.h)||Ko(this))};function Ko(c,y){var _;y?_=y.l:_=c.U++;const S=fn(c.I);Qe(S,"SID",c.K),Qe(S,"RID",_),Qe(S,"AID",c.T),bs(c,S),c.m&&c.o&&Mt(S,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),jn(_,S,y)}function bs(c,y){c.H&&De(c.H,function(_,S){Qe(y,S,_)}),c.l&&zo({},function(_,S){Qe(y,S,_)})}function ju(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const le=["count="+_];Y==-1?0<_?(Y=B[0].g,le.push("ofs="+Y)):Y=0:le.push("ofs="+Y);let Ue=!0;for(let Rt=0;Rt<_;Rt++){let je=B[Rt].g;const Pt=B[Rt].map;if(je-=Y,0>je)Y=Math.max(0,B[Rt].g-100),Ue=!1;else try{ni(Pt,le,"req"+je+"_")}catch{S&&S(Pt)}}if(Ue){S=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ne||N(),oe||(ne(),oe=!0),ge.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(w(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ta(this),zu(this))};function Is(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),bs(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=vs(fn(y)),_.m=null,_.P=!0,Ni(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ta(this),Qo(this),rt(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){Aa(c),Is(c),c.g=null;var S=2}else if(jo(c.h,y))_=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;S=hr(),Ye(S,new wt(S,_)),Sa(c)}else Bu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&Tf(c,y)||S==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Li(c,5);break;case 4:Li(c,10);break;case 3:Li(c,6);break;default:Li(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Li(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const B=!S;S=new vt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(S,"https"),vs(S),B?Ts(S.toString(),_):Bn(S.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),qu(c),Uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function qu(c){if(c.G=0,c.ka=[],c.l){const y=Bo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Fu(c,y,_){var S=_ instanceof vt?fn(_):new vt(_);if(S.g!="")y&&(S.g=y+"."+S.g),gr(S,S.s);else{var B=m.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new vt(null);S&&_s(Y,S),y&&(Y.g=y),B&&gr(Y,B),_&&(Y.l=_),S=Y}return _=c.D,y=c.ya,_&&y&&Qe(S,_,y),Qe(S,"VER",c.la),bs(c,S),S}function Gu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new yr({eb:_})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ct.call(this),this.g=new Ea(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}j(nn,ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$o(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Un(c),c=_);y.i.push(new Mu(y.Ya++,c)),y.G==3&&Sa(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,nn.aa.N.call(this)};function $u(c){Ci.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}j($u,Ci);function Ku(){Vo.call(this),this.status=1}j(Ku,Vo);function ai(c){this.g=c}j(ai,Yu),ai.prototype.ua=function(){Ye(this.g,"a")},ai.prototype.ta=function(c){Ye(this.g,new $u(c))},ai.prototype.sa=function(c){Ye(this.g,new Ku)},ai.prototype.ra=function(){Ye(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Z0=function(){return new wa},J0=function(){return hr()},W0=Wn,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,ah=mr,Di.COMPLETE="complete",X0=Di,Po.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",ct.prototype.listen=ct.prototype.K,ql=Po,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Q0=Fe}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const AE="@firebase/firestore",wE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Bh("@firebase/firestore");function eo(){return Ws.logLevel}function ue(i,...e){if(Ws.logLevel<=Ve.DEBUG){const n=e.map(Op);Ws.debug(`Firestore (${So}): ${i}`,...n)}}function rr(i,...e){if(Ws.logLevel<=Ve.ERROR){const n=e.map(Op);Ws.error(`Firestore (${So}): ${i}`,...n)}}function fo(i,...e){if(Ws.logLevel<=Ve.WARN){const n=e.map(Op);Ws.warn(`Firestore (${So}): ${i}`,...n)}}function Op(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,eS(i,s,n)}function eS(i,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw rr(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||eS(e,o,s)}function be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Q2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class X2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new tS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class J2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Z2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new J2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new RE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new RE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Km(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?ke(o,u):Cm(o)?1:-1}return ke(i.length,e.length)}const nD=55296,iD=57343;function Cm(i){const e=i.charCodeAt(0);return e>=nD&&e<=iD}function mo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class ot extends di{construct(e,n,s){return new ot(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const rD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends di{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return rD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bE}static keyField(){return new Gt([bE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ot.fromString(e))}static fromName(e){return new ye(ot.fromString(e).popFirst(5))}static empty(){return new ye(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(i,e,n){if(!n)throw new me(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function aD(i,e,n,s){if(e===!0&&s===!0)throw new me(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function IE(i){if(!ye.isDocumentKey(i))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function nS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Mp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te(12329,{type:typeof i})}function Js(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mp(i);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(i,e){const n={typeString:i};return e&&(n.value=e),n}function yu(i,e){if(!nS(i))throw new me(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new me(re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=-62135596800,DE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*DE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<CE)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-CE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:At("string",it._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new it(0,0))}static max(){return new Re(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function oD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Xr(o,ye.empty(),e)}function lD(i){return new Xr(i.readTime,i.key,ru)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Re.min(),ye.empty(),ru)}static max(){return new Xr(Re.max(),ye.empty(),ru)}}function uD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==cD)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function fD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Yh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=-1;function $h(i){return i==null}function bh(i){return i===0&&1/i==-1/0}function dD(i){return typeof i=="number"&&Number.isInteger(i)&&!bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="";function mD(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=NE(e)),e=pD(i.get(n),e);return NE(e)}function pD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case iS:n+="";break;default:n+=u}}return n}function NE(i){return i+iS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function is(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function rS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xE(this.data.getIterator())}getIteratorFrom(e){return new xE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class xE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new En([])}unionWith(e){let n=new Ot(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sS("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=gD.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Jr(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS="server_timestamp",oS="__type__",lS="__previous_value__",uS="__local_write_time__";function Vp(i){return(i?.mapValue?.fields||{})[oS]?.stringValue===aS}function Kh(i){const e=i.mapValue.fields[lS];return Vp(e)?Kh(e):e}function su(i){const e=Wr(i.mapValue.fields[uS].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ih="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="__type__",_D="__max__",Jc={mapValue:{}},hS="__vector__",Ch="value";function Zr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Vp(i)?4:ED(i)?9007199254740991:vD(i)?10:11:Te(28295,{value:i})}function Si(i,e){if(i===e)return!0;const n=Zr(i);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return su(i).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),m=Wr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(OE(f)!==OE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Si(f[p],m[p])))return!1;return!0}(i,e);default:return Te(52216,{left:i})}}function ou(i,e){return(i.values||[]).find(n=>Si(n,e))!==void 0}function po(i,e){if(i===e)return 0;const n=Zr(i),s=Zr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return ME(i.timestampValue,e.timestampValue);case 4:return ME(su(i),su(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Jr(u),p=Jr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=ke(gt(u.latitude),gt(f.latitude));return m!==0?m:ke(gt(u.longitude),gt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return PE(i.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ch]?.arrayValue,E=p[Ch]?.arrayValue,A=ke(g?.values?.length||0,E?.values?.length||0);return A!==0?A:PE(g,E)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const w=Km(p[A],E[A]);if(w!==0)return w;const L=po(m[p[A]],g[E[A]]);if(L!==0)return L}return ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function ME(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=Wr(i),s=Wr(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function PE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function go(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Jr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"}(i.mapValue):Te(61005,{value:i})}function oh(i){switch(Zr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(i);return e?16+oh(e):16;case 5:return 2*i.stringValue.length;case 6:return Jr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+oh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return is(s.fields,(u,f)=>{o+=u.length+oh(f)}),o}(i.mapValue);default:throw Te(13486,{value:i})}}function Xm(i){return!!i&&"integerValue"in i}function kp(i){return!!i&&"arrayValue"in i}function VE(i){return!!i&&"nullValue"in i}function kE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lh(i){return!!i&&"mapValue"in i}function vD(i){return(i?.mapValue?.fields||{})[cS]?.stringValue===hS}function Xl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return is(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Xl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(i.arrayValue.values[n]);return e}return{...i}}function ED(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){is(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new un(Xl(this.value))}}function fS(i){const e=[];return is(i.fields,(n,s)=>{const o=new Gt([n]);if(lh(s)){const u=fS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Re.min(),Re.min(),Re.min(),un.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Re.min(),Re.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Re.min(),Re.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function LE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Si(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function TD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{}class Dt extends dS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AD(e,n,s):n==="array-contains"?new bD(e,s):n==="in"?new ID(e,s):n==="not-in"?new CD(e,s):n==="array-contains-any"?new DD(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wD(e,s):new RD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends dS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ai(e,n)}matches(e){return mS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mS(i){return i.op==="and"}function pS(i){return SD(i)&&mS(i)}function SD(i){for(const e of i.filters)if(e instanceof Ai)return!1;return!0}function Wm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+go(i.value);if(pS(i))return i.filters.map(e=>Wm(e)).join(",");{const e=i.filters.map(n=>Wm(n)).join(",");return`${i.op}(${e})`}}function gS(i,e){return i instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Si(s.value,o.value)}(i,e):i instanceof Ai?function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&gS(f,o.filters[m]),!0):!1}(i,e):void Te(19439)}function yS(i){return i instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(i):i instanceof Ai?function(n){return n.op.toString()+" {"+n.getFilters().map(yS).join(" ,")+"}"}(i):"Filter"}class AD extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class wD extends Dt{constructor(e,n){super(e,"in",n),this.keys=_S("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RD extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=_S("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _S(i,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class bD extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kp(n)&&ou(n.arrayValue,this.value)}}class ID extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class CD extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class DD extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function jE(i,e=null,n=[],s=[],o=null,u=null,f=null){return new ND(i,e,n,s,o,u,f)}function Lp(i){const e=be(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Wm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.Te=n}return e.Te}function Up(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!TD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!gS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!UE(i.startAt,e.startAt)&&UE(i.endAt,e.endAt)}function Jm(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function OD(i,e,n,s,o,u,f,m){return new Qh(i,e,n,s,o,u,f,m)}function jp(i){return new Qh(i)}function BE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function xD(i){return i.collectionGroup!==null}function Wl(i){const e=be(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Nh(u,s))}),n.has(Gt.keyField().canonicalString())||e.Ie.push(new Nh(Gt.keyField(),s))}return e.Ie}function gi(i){const e=be(i);return e.Ee||(e.Ee=MD(e,Wl(i))),e.Ee}function MD(i,e){if(i.limitType==="F")return jE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)});const n=i.endAt?new Dh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Dh(i.startAt.position,i.startAt.inclusive):null;return jE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Zm(i,e,n){return new Qh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Xh(i,e){return Up(gi(i),gi(e))&&i.limitType===e.limitType}function vS(i){return`${Lp(gi(i))}|lt:${i.limitType}`}function to(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>yS(o)).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(gi(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=LE(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Wl(s),o)||s.endAt&&!function(f,m,p){const g=LE(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Wl(s),o))}(i,e)}function PD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ES(i){return(e,n)=>{let s=!1;for(const o of Wl(i)){const u=VD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VD(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):Te(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return rS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=new ut(ye.comparator);function sr(){return kD}const TS=new ut(ye.comparator);function Fl(...i){let e=TS;for(const n of i)e=e.insert(n.key,n);return e}function SS(i){let e=TS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Gs(){return Jl()}function AS(){return Jl()}function Jl(){return new ra(i=>i.toString(),(i,e)=>i.isEqual(e))}const LD=new ut(ye.comparator),UD=new Ot(ye.comparator);function Le(...i){let e=UD;for(const n of i)e=e.add(n);return e}const jD=new Ot(ke);function BD(){return jD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function wS(i){return{integerValue:""+i}}function zD(i,e){return dD(e)?wS(e):Bp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function HD(i,e,n){return i instanceof Oh?function(o,u){const f={fields:{[oS]:{stringValue:aS},[uS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Vp(u)&&(u=Kh(u)),u&&(f.fields[lS]=u),{mapValue:f}}(n,e):i instanceof lu?bS(i,e):i instanceof uu?IS(i,e):function(o,u){const f=RS(o,u),m=zE(f)+zE(o.Ae);return Xm(f)&&Xm(o.Ae)?wS(m):Bp(o.serializer,m)}(i,e)}function qD(i,e,n){return i instanceof lu?bS(i,e):i instanceof uu?IS(i,e):n}function RS(i,e){return i instanceof xh?function(s){return Xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Oh extends Jh{}class lu extends Jh{constructor(e){super(),this.elements=e}}function bS(i,e){const n=CS(e);for(const s of i.elements)n.some(o=>Si(o,s))||n.push(s);return{arrayValue:{values:n}}}class uu extends Jh{constructor(e){super(),this.elements=e}}function IS(i,e){let n=CS(e);for(const s of i.elements)n=n.filter(o=>!Si(o,s));return{arrayValue:{values:n}}}class xh extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zE(i){return gt(i.integerValue||i.doubleValue)}function CS(i){return kp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function FD(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?mo(s.elements,o.elements,Si):s instanceof xh&&o instanceof xh?Si(s.Ae,o.Ae):s instanceof Oh&&o instanceof Oh}(i.transform,e.transform)}class GD{constructor(e,n){this.version=e,this.transformResults=n}}class yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yi}static exists(e){return new yi(void 0,e)}static updateTime(e){return new yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function DS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new OS(i.key,yi.none()):new _u(i.key,i.data,yi.none());{const n=i.data,s=un.empty();let o=new Ot(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new rs(i.key,s,new En(o.toArray()),yi.none())}}function YD(i,e,n){i instanceof _u?function(o,u,f){const m=o.value.clone(),p=qE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof rs?function(o,u,f){if(!uh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=qE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(NS(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Zl(i,e,n,s){return i instanceof _u?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=u.value.clone(),E=FE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof rs?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=FE(u.fieldTransforms,p,f),E=f.data;return E.setAll(NS(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(u,f,m){return uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function $D(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=RS(s.transform,o||null);u!=null&&(n===null&&(n=un.empty()),n.set(s.field,u))}return n||null}function HE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>FD(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _u extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rs extends Zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function NS(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function qE(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,qD(f,m,n[o]))}return s}function FE(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,HD(u,f,e))}return s}class OS extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KD extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&YD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=AS();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=DS(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,s)=>HE(n,s))&&mo(this.baseMutations,e.baseMutations,(n,s)=>HE(n,s))}}class zp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return LD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new zp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function JD(i){switch(i){case re.OK:return Te(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Te(15467,{code:i})}}function xS(i){if(i===void 0)return rr("GRPC error has no .code"),re.UNKNOWN;switch(i){case St.OK:return re.OK;case St.CANCELLED:return re.CANCELLED;case St.UNKNOWN:return re.UNKNOWN;case St.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case St.INTERNAL:return re.INTERNAL;case St.UNAVAILABLE:return re.UNAVAILABLE;case St.UNAUTHENTICATED:return re.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case St.NOT_FOUND:return re.NOT_FOUND;case St.ALREADY_EXISTS:return re.ALREADY_EXISTS;case St.PERMISSION_DENIED:return re.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case St.ABORTED:return re.ABORTED;case St.OUT_OF_RANGE:return re.OUT_OF_RANGE;case St.UNIMPLEMENTED:return re.UNIMPLEMENTED;case St.DATA_LOSS:return re.DATA_LOSS;default:return Te(39323,{code:i})}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new $r([4294967295,4294967295],0);function GE(i){const e=ZD().encode(i),n=new K0;return n.update(e),new Uint8Array(n.digest())}function YE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $r([n,s],0),new $r([o,u],0)]}class Hp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$r.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply($r.fromNumber(s)));return o.compare(eN)===1&&(o=new $r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[s,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Hp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=GE(e),[s,o]=YE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ef(Re.min(),o,new ut(ke),sr(),Le())}}class vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class MS{constructor(e,n){this.targetId=e,this.Ce=n}}class PS{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $E{constructor(){this.ve=0,this.Fe=KE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=KE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tN{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ut(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Jt.newNoDocument(f,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(p){if(p instanceof sS)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Hp(f,o,u)}catch(p){return fo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new ef(e,n,this.Ye,this.je,s);return this.je=sr(),this.Je=Zc(),this.He=Zc(),this.Ye=new ut(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new $E,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ot(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ot(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $E),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ut(ye.comparator)}function KE(){return new ut(ye.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},iN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rN={and:"AND",or:"OR"};class sN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(i,e){return i.useProto3Json||$h(e)?e:{value:e}}function Mh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aN(i,e){return Mh(i,e.toTimestamp())}function _i(i){return Ge(!!i,49232),Re.fromTimestamp(function(n){const s=Wr(n);return new it(s.seconds,s.nanos)}(i))}function qp(i,e){return tp(i,e).canonicalString()}function tp(i,e){const n=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function kS(i){const e=ot.fromString(i);return Ge(zS(e),10190,{key:e.toString()}),e}function np(i,e){return qp(i.databaseId,e.path)}function Dm(i,e){const n=kS(e);if(n.get(1)!==i.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(US(n))}function LS(i,e){return qp(i.databaseId,e)}function oN(i){const e=kS(i);return e.length===4?ot.emptyPath():US(e)}function ip(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function US(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function QE(i,e,n){return{name:np(i,e),fields:n.value.mapValue.fields}}function lN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?re.UNKNOWN:xS(g.code);return new me(E,g.message||"")}(f);n=new PS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),u=_i(s.document.updateTime),f=s.document.createTime?_i(s.document.createTime):Re.min(),m=new un({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ch(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),u=s.readTime?_i(s.readTime):Re.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ch([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new WD(o,u),m=s.targetId;n=new MS(m,f)}}return n}function uN(i,e){let n;if(e instanceof _u)n={update:QE(i,e.key,e.value)};else if(e instanceof OS)n={delete:np(i,e.key)};else if(e instanceof rs)n={update:QE(i,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof KD))return Te(16599,{Vt:e.type});n={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(i,e.precondition)),n}function cN(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?_i(o.updateTime):_i(u);return f.isEqual(Re.min())&&(f=_i(u)),new GD(f,o.transformResults||[])}(n,e))):[]}function hN(i,e){return{documents:[LS(i,e.path)]}}function fN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=LS(i,o);const u=function(g){if(g.length!==0)return BS(Ai.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:no(w.field),direction:pN(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ep(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function dN(i){let e=oN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const w=jS(A);return w instanceof Ai&&pS(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(w=>function(j){return new Nh(io(j.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,$h(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(A){const w=!!A.before,L=A.values||[];return new Dh(L,w)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const w=!A.before,L=A.values||[];return new Dh(L,w)}(n.endAt)),OD(e,o,f,u,m,"F",p,g)}function mN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jS(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=io(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=io(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=io(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=io(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(i):i.fieldFilter!==void 0?function(n){return Dt.create(io(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ai.create(n.compositeFilter.filters.map(s=>jS(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(i):Te(30097,{filter:i})}function pN(i){return nN[i]}function gN(i){return iN[i]}function yN(i){return rN[i]}function no(i){return{fieldPath:i.canonicalString()}}function io(i){return Gt.fromServerFormat(i.fieldPath)}function BS(i){return i instanceof Dt?function(n){if(n.op==="=="){if(kE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:gN(n.op),value:n.value}}}(i):i instanceof Ai?function(n){const s=n.getFilters().map(o=>BS(o));return s.length===1?s[0]:{compositeFilter:{op:yN(n.op),filters:s}}}(i):Te(54877,{filter:i})}function _N(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,s,o,u=Re.min(),f=Re.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.yt=e}}function EN(i){const e=dN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Cn=new SN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Xr.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class SN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(ot.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HS=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(HS,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="LruGarbageCollector",AN=1048576;function JE([i,e],[n,s]){const o=ke(i,n);return o===0?ke(e,s):o}class wN{constructor(e){this.Ir=e,this.buffer=new Ot(JE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(WE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ue(WE,"Ignoring IndexedDB error during garbage collection: ",n):await Ao(n)}await this.Vr(3e5)})}}class bN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Yh.ce);const s=new wN(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(XE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),eo()<=Ve.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function IN(i,e){return new bN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Zl(s.mutation,o,En.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Gs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=sr();const f=Jl(),m=function(){return Jl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof rs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Zl(E.mutation,g,E.mutation.getFieldMask(),it.now())):f.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>m.set(g,new DN(E,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new ut((f,m)=>f-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||En.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=AS();E.forEach(w=>{if(!u.has(w)){const L=DS(n.get(w),s.get(w));L!==null&&A.set(w,L),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(Gs());let m=ru,p=u;return f.next(g=>te.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:SS(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(A,w){return new Qh(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,w)=>{f=f.insert(A,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))});let m=Fl();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Zl(E.mutation,g,En.empty(),it.now()),Wh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_i(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:_i(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.overlays=new ut(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Gs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new XD(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(){this.Qr=new Ot(Ut.$r),this.Ur=new Ot(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ye(new ot([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new ot([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new QD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Pp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(ke);return n.forEach(o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new ye(u),0);let m=new Ot(ke);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.ri=e,this.docs=function(){return new ut(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||uD(lD(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kN(this)}getSize(e){return te.resolve(this.size)}}class kN extends CN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.persistence=e,this.si=new ra(n=>Lp(n),Up),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Fp,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Yh(0),this.li=!1,this.li=!0,this.hi=new MN,this.referenceDelegate=e(this),this.Pi=new LN(this),this.indexManager=new TN,this.remoteDocumentCache=function(o){return new VN(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new vN(n),this.Ii=new ON(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new PN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new UN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return te.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class UN extends hD{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Ri=new Fp,this.Vi=null}static mi(e){return new Gp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,s=>{const o=ye.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Re.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new ra(s=>mD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=IN(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return te.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Re.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Yp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return F1()?8:fD(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new jN;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(eo()<=Ve.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(eo()<=Ve.DEBUG&&ue("QueryEngine","Query:",to(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(eo()<=Ve.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):te.resolve())}ys(e,n){if(BE(n))return te.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return BE(n)||o.isEqual(Re.min())?te.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(eo()<=Ve.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),to(n)),this.vs(e,f,n,oD(o,ru)).next(m=>m))})}Ds(e,n){let s=new Ot(ES(e));return n.forEach((o,u)=>{Wh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return eo()<=Ve.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",to(n)),this.ps.getDocumentsMatchingQuery(e,n,Xr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="LocalStore",zN=3e8;class HN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(ke),this.xs=new ra(u=>Lp(u),Up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function qN(i,e,n,s){return new HN(i,e,n,s)}async function FS(i,e){const n=be(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Le();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function FN(i,e){const n=be(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,w=A.keys();let L=te.resolve();return w.forEach(j=>{L=L.next(()=>E.getEntry(p,j)).next($=>{const q=g.docVersions.get(j);Ge(q!==null,48541),$.version.compareTo(q)<0&&(A.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function GS(i){const e=be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function GN(i,e){const n=be(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,A)=>{const w=o.get(A);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,A)));let L=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?L=L.withResumeToken(Yt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(A,L),function($,q,K){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=zN?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(w,L,E)&&m.push(n.Pi.updateTargetData(u,L))});let p=sr(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(YN(u,f,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Re.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function YN(i,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue($p,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:f,qs:o}})}function $N(i,e){const n=be(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function KN(i,e){const n=be(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Fr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function rp(i,e,n){const s=be(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;ue($p,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function ZE(i,e,n){const s=be(i);let o=Re.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=be(p),w=A.xs.get(E);return w!==void 0?te.resolve(A.Ms.get(w)):A.Pi.getTargetData(g,E)}(s,f,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Re.min(),n?u:Le())).next(m=>(QN(s,PD(e),m),{documents:m,Qs:u})))}function QN(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class eT{constructor(){this.activeTargetIds=BD()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.Mo=new eT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new eT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="ConnectivityMonitor";class nT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(tT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(tT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function sp(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",JN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=sp(),m=this.zo(e,n.toUriEncodedString());ue(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Eo(g);return this.Jo(e,m,p,s,E).then(A=>(ue(Nm,`Received RPC '${e}' ${f}: `,A),A),A=>{throw fo(Nm,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=JN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class tO extends ZN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=sp();return new Promise((m,p)=>{const g=new Q0;g.setWithCredentials(!0),g.listenOnce(X0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ah.NO_ERROR:const A=g.getResponseJson();ue(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case ah.TIMEOUT:ue(Xt,`RPC '${e}' ${f} timed out`),p(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const w=g.getStatus();if(ue(Xt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const j=L?.error;if(j&&j.status&&j.message){const $=function(K){const se=K.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(se)>=0?se:re.UNKNOWN}(j.status);p(new me($,j.message))}else p(new me(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new me(re.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(Xt,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=sp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Z0(),m=J0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);this.I_(A);let w=!1,L=!1;const j=new eO({Yo:q=>{L?ue(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(ue(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ue(Xt,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),$=(q,K,se)=>{q.listen(K,ae=>{try{se(ae)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return $(A,ql.EventType.OPEN,()=>{L||(ue(Xt,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),$(A,ql.EventType.CLOSE,()=>{L||(L=!0,ue(Xt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(A))}),$(A,ql.EventType.ERROR,q=>{L||(L=!0,fo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),j.a_(new me(re.UNAVAILABLE,"The operation could not be completed")))}),$(A,ql.EventType.MESSAGE,q=>{if(!L){const K=q.data[0];Ge(!!K,16349);const se=K,ae=se?.error||se[0]?.error;if(ae){ue(Xt,`RPC '${e}' stream ${o} received error:`,ae);const Ae=ae.status;let he=function(C){const b=St[C];if(b!==void 0)return xS(b)}(Ae),De=ae.message;he===void 0&&(he=re.INTERNAL,De="Unknown error status: "+Ae+" with message "+ae.message),L=!0,j.a_(new me(he,De)),A.close()}else ue(Xt,`RPC '${e}' stream ${o} received:`,K),j.u_(K)}}),$(m,W0.STAT_EVENT,q=>{q.stat===$m.PROXY?ue(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===$m.NOPROXY&&ue(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return new sN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="PersistentStream";class $S{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new me(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(iT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(iT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nO extends $S{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=lN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?_i(f.readTime):Re.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Jm(p)?{documents:hN(u,p)}:{query:fN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=VS(u,f.resumeToken);const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Re.min())>0){m.readTime=Mh(u,f.snapshotVersion.toTimestamp());const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=mN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.q_(n)}}class iO extends $S{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cN(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ip(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>uN(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class sO extends rO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,tp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(re.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,tp(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(re.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(rr(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class oO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{sa(this)&&(ue(Zs,"Restarting streams for network reachability change."),await async function(p){const g=be(p);g.Ea.add(4),await Eu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await nf(g)}(this))})}),this.Ra=new aO(s,o)}}async function nf(i){if(sa(i))for(const e of i.da)await e(!0)}async function Eu(i){for(const e of i.da)await e(!1)}function KS(i,e){const n=be(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wp(n)?Xp(n):Ro(n).O_()&&Qp(n,e))}function Kp(i,e){const n=be(i),s=Ro(n);n.Ia.delete(e),s.O_()&&QS(n,e),n.Ia.size===0&&(s.O_()?s.L_():sa(n)&&n.Ra.set("Unknown"))}function Qp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(i).Y_(e)}function QS(i,e){i.Va.Ue(e),Ro(i).Z_(e)}function Xp(i){i.Va=new tN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Ro(i).start(),i.Ra.ua()}function Wp(i){return sa(i)&&!Ro(i).x_()&&i.Ia.size>0}function sa(i){return be(i).Ea.size===0}function XS(i){i.Va=void 0}async function lO(i){i.Ra.set("Online")}async function uO(i){i.Ia.forEach((e,n)=>{Qp(i,e)})}async function cO(i,e){XS(i),Wp(i)?(i.Ra.ha(e),Xp(i)):i.Ra.set("Unknown")}async function hO(i,e,n){if(i.Ra.set("Online"),e instanceof PS&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){ue(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Vh(i,s)}else if(e instanceof ch?i.Va.Ze(e):e instanceof MS?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await GS(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),QS(u,p);const A=new Fr(E.target,p,g,E.sequenceNumber);Qp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(Zs,"Failed to raise snapshot:",s),await Vh(i,s)}}async function Vh(i,e,n){if(!wo(e))throw e;i.Ea.add(1),await Eu(i),i.Ra.set("Offline"),n||(n=()=>GS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Zs,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await nf(i)})}function WS(i,e){return e().catch(n=>Vh(i,n,e))}async function rf(i){const e=be(i),n=es(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pp;for(;fO(e);)try{const o=await $N(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,dO(e,o)}catch(o){await Vh(e,o)}JS(e)&&ZS(e)}function fO(i){return sa(i)&&i.Ta.length<10}function dO(i,e){i.Ta.push(e);const n=es(i);n.O_()&&n.X_&&n.ea(e.mutations)}function JS(i){return sa(i)&&!es(i).x_()&&i.Ta.length>0}function ZS(i){es(i).start()}async function mO(i){es(i).ra()}async function pO(i){const e=es(i);for(const n of i.Ta)e.ea(n.mutations)}async function gO(i,e,n){const s=i.Ta.shift(),o=zp.from(s,e,n);await WS(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await rf(i)}async function yO(i,e){e&&es(i).X_&&await async function(s,o){if(function(f){return JD(f)&&f!==re.ABORTED}(o.code)){const u=s.Ta.shift();es(s).B_(),await WS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(i,e),JS(i)&&ZS(i)}async function rT(i,e){const n=be(i);n.asyncQueue.verifyOperationInProgress(),ue(Zs,"RemoteStore received new credentials");const s=sa(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await nf(n)}async function _O(i,e){const n=be(i);e?(n.Ea.delete(2),await nf(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Ro(i){return i.ma||(i.ma=function(n,s,o){const u=be(n);return u.sa(),new nO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:lO.bind(null,i),t_:uO.bind(null,i),r_:cO.bind(null,i),H_:hO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),Wp(i)?Xp(i):i.Ra.set("Unknown")):(await i.ma.stop(),XS(i))})),i.ma}function es(i){return i.fa||(i.fa=function(n,s,o){const u=be(n);return u.sa(),new iO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:mO.bind(null,i),r_:yO.bind(null,i),ta:pO.bind(null,i),na:gO.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await rf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Zs,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Jp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(i,e){if(rr("AsyncQueue",`${e}: ${i}`),wo(i))return new me(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.ga=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new _o(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class EO{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=aT(),u.forEach((f,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function aT(){return new ra(i=>vS(i),Xh)}async function TO(i,e){const n=be(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new vO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Zp(f,`Initialization of query '${to(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&eg(n)}async function SO(i,e){const n=be(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function AO(i,e){const n=be(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&eg(n)}function wO(i,e,n){const s=be(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function eg(i){i.Ca.forEach(e=>{e.next()})}var ap,oT;(oT=ap||(ap={})).Ma="default",oT.Cache="cache";class RO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=ES(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new sT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const w=o.get(E),L=Wh(this.query,A)?A:null,j=!!w&&this.mutatedKeys.has(w.key),$=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let q=!1;w&&L?w.data.isEqual(L.data)?j!==$&&(s.track({type:3,doc:L}),q=!0):this.su(w,L)||(s.track({type:2,doc:L}),q=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!w&&L?(s.track({type:0,doc:L}),q=!0):w&&!L&&(s.track({type:1,doc:w}),q=!0,(p||g)&&(m=!0)),q&&(L?(f=f.add(L),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,A)=>function(L,j){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:q})}};return $(L)-$(j)}(E.type,A.type)||this.eu(E.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new tA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new eA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tg="SyncEngine";class IO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CO{constructor(e){this.key=e,this.hu=!1}}class DO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra(m=>vS(m),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(ye.comparator),this.Au=new Map,this.Ru=new Fp,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NO(i,e,n=!0){const s=oA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await nA(s,e,n,!0),o}async function OO(i,e){const n=oA(i);await nA(n,e,!0,!1)}async function nA(i,e,n,s){const o=await KN(i.localStore,gi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xO(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&KS(i.remoteStore,o),m}async function xO(i,e,n,s,o){i.pu=(A,w,L)=>async function($,q,K,se){let ae=q.view.ru(K);ae.Cs&&(ae=await ZE($.localStore,q.query,!1).then(({documents:P})=>q.view.ru(P,ae)));const Ae=se&&se.targetChanges.get(q.targetId),he=se&&se.targetMismatches.get(q.targetId)!=null,De=q.view.applyChanges(ae,$.isPrimaryClient,Ae,he);return uT($,q.targetId,De.au),De.snapshot}(i,A,w,L);const u=await ZE(i.localStore,e,!0),f=new bO(e,u.Qs),m=f.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);uT(i,n,g.au);const E=new IO(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function MO(i,e,n){const s=be(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Xh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kp(s.remoteStore,o.targetId),op(s,o.targetId)}).catch(Ao)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function PO(i,e){const n=be(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(n.remoteStore,s.targetId))}async function VO(i,e,n){const s=HO(i);try{const o=await function(f,m){const p=be(f),g=it.now(),E=m.reduce((L,j)=>L.add(j.key),Le());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",L=>{let j=sr(),$=Le();return p.Ns.getEntries(L,E).next(q=>{j=q,j.forEach((K,se)=>{se.isValidDocument()||($=$.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(L,j)).next(q=>{A=q;const K=[];for(const se of m){const ae=$D(se,A.get(se.key).overlayedDocument);ae!=null&&K.push(new rs(se.key,ae,fS(ae.value.mapValue),yi.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,K,m)}).next(q=>{w=q;const K=q.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(L,q.batchId,K)})}).then(()=>({batchId:w.batchId,changes:SS(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(ke)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await Tu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=Zp(o,"Failed to persist write");n.reject(u)}}async function iA(i,e){const n=be(i);try{const s=await GN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))}),await Tu(n,s,e)}catch(s){await Ao(s)}}function lT(i,e,n){const s=be(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=be(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const w of A.Sa)w.va(m)&&(g=!0)}),g&&eg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kO(i,e,n){const s=be(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(ye.comparator);f=f.insert(u,Jt.newNoDocument(u,Re.min()));const m=Le().add(u),p=new ef(Re.min(),new Map,new ut(ke),f,m);await iA(s,p),s.du=s.du.remove(u),s.Au.delete(e),ng(s)}else await rp(s.localStore,e,!1).then(()=>op(s,e,n)).catch(Ao)}async function LO(i,e){const n=be(i),s=e.batch.batchId;try{const o=await FN(n.localStore,e);sA(n,s,null),rA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,o)}catch(o){await Ao(o)}}async function UO(i,e,n){const s=be(i);try{const o=await function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ge(A!==null,37113),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);sA(s,e,n),rA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,o)}catch(o){await Ao(o)}}function rA(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function sA(i,e,n){const s=be(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function op(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||aA(i,s)})}function aA(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Kp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),ng(i))}function uT(i,e,n){for(const s of n)s instanceof eA?(i.Ru.addReference(s.key,e),jO(i,s)):s instanceof tA?(ue(tg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||aA(i,s.key)):Te(19791,{wu:s})}function jO(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(tg,"New document in limbo: "+n),i.Eu.add(s),ng(i))}function ng(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ye(ot.fromString(e)),s=i.fu.next();i.Au.set(s,new CO(n)),i.du=i.du.insert(n,s),KS(i.remoteStore,new Fr(gi(jp(n.path)),s,"TargetPurposeLimboResolution",Yh.ce))}}async function Tu(i,e,n){const s=be(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{f.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Yp.As(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(p,g){const E=be(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>te.forEach(g,w=>te.forEach(w.Es,L=>E.persistence.referenceDelegate.addReference(A,w.targetId,L)).next(()=>te.forEach(w.ds,L=>E.persistence.referenceDelegate.removeReference(A,w.targetId,L)))))}catch(A){if(!wo(A))throw A;ue($p,"Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const L=E.Ms.get(w),j=L.snapshotVersion,$=L.withLastLimboFreeSnapshotVersion(j);E.Ms=E.Ms.insert(w,$)}}}(s.localStore,u))}async function BO(i,e){const n=be(i);if(!n.currentUser.isEqual(e)){ue(tg,"User change. New user:",e.toKey());const s=await FS(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new me(re.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function zO(i,e){const n=be(i),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function oA(i){const e=be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Pu.H_=AO.bind(null,e.eventManager),e.Pu.yu=wO.bind(null,e.eventManager),e}function HO(i){const e=be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UO.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return qN(this.persistence,new BN,e.initialUser,this.serializer)}Cu(e){return new qS(Gp.mi,this.serializer)}Du(e){return new XN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class qO extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new qS(s=>Ph.mi(s,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await _O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EO}()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),s=function(u){return new tO(u)}(e.databaseInfo);return function(u,f,m,p){return new sO(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new oO(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>lT(this.syncEngine,n,0),function(){return nT.v()?new nT:new WN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new DO(o,u,f,m,p,g);return E&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=be(n);ue(Zs,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class GO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Zp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xm(i,e){i.asyncQueue.verifyOperationInProgress(),ue(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await FS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function cT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await YO(i);ue(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>rT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>rT(e.remoteStore,o)),i._onlineComponents=e}async function YO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(ts,"Using user provided OfflineComponentProvider");try{await xm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await xm(i,new kh)}}else ue(ts,"Using default OfflineComponentProvider"),await xm(i,new qO(void 0));return i._offlineComponents}async function lA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(ts,"Using user provided OnlineComponentProvider"),await cT(i,i._uninitializedComponentsProvider._online)):(ue(ts,"Using default OnlineComponentProvider"),await cT(i,new lp))),i._onlineComponents}function $O(i){return lA(i).then(e=>e.syncEngine)}async function KO(i){const e=await lA(i),n=e.eventManager;return n.onListen=NO.bind(null,e.syncEngine),n.onUnlisten=MO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PO.bind(null,e.syncEngine),n}function QO(i,e,n={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new FO({next:w=>{E.Nu(),f.enqueueAndForget(()=>SO(u,A));const L=w.docs.has(m);!L&&w.fromCache?g.reject(new me(re.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&w.fromCache&&p&&p.source==="server"?g.reject(new me(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new RO(jp(m.path),E,{includeMetadataChanges:!0,qa:!0});return TO(u,A)}(await KO(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firestore.googleapis.com",fT=!0;class dT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=fT}else this.host=e.host,this.ssl=e.ssl??fT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=HS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AN)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ig{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Q2;switch(s.type){case"firstParty":return new Z2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=hT.get(n);s&&(ue("ComponentProvider","Removing Datastore"),hT.delete(n),s.terminate())}(this),Promise.resolve()}}function XO(i,e,n,s={}){i=Js(i,ig);const o=Eo(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(MT(`https://${m}`),PT("Firestore",!0)),u.host!==cA&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Qr(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=k1(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(A)}i._authCredentials=new X2(new tS(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new rg(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(yu(n,Nt._jsonSchema))return new Nt(e,s||null,new ye(ot.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:At("string",Nt._jsonSchemaVersion),referencePath:At("string")};class cu extends rg{constructor(e,n,s){super(e,n,jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ye(e))}withConverter(e){return new cu(this.firestore,e,this._path)}}function $n(i,e,...n){if(i=yt(i),arguments.length===1&&(e=xp.newId()),sD("doc","path",e),i instanceof ig){const s=ot.fromString(e,...n);return IE(s),new Nt(i,null,new ye(s))}{if(!(i instanceof Nt||i instanceof cu))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...n));return IE(s),new Nt(i.firestore,i instanceof cu?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="AsyncQueue";class pT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YS(this,"async_queue_retry"),this._c=()=>{const s=Om();s&&ue(mT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Kr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wo(e))throw e;ue(mT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,rr("INTERNAL UNHANDLED ERROR: ",gT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Jp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:gT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class sf extends ig{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new pT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pT(e),this._firestoreClient=void 0,await e}}}function WO(i,e){const n=typeof i=="object"?i:yp(),s=typeof i=="string"?i:Ih,o=na(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=P1("firestore");u&&XO(o,...u)}return o}function hA(i){if(i._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||JO(i),i._firestoreClient}function JO(i){const e=i._freezeSettings(),n=function(o,u,f,m){return new yD(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,uA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new GO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Yt.fromBase64String(e))}catch(n){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:At("string",kn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vi._jsonSchemaVersion}}static fromJSON(e){if(yu(e,vi._jsonSchema))return new vi(e.latitude,e.longitude)}}vi._jsonSchemaVersion="firestore/geoPoint/1.0",vi._jsonSchema={type:At("string",vi._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,Ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ei(e.vectorValues);throw new me(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ei._jsonSchemaVersion="firestore/vectorValue/1.0",Ei._jsonSchema={type:At("string",Ei._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO=/^__.*__$/;class ex{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class fA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:i})}}class ag{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ag({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dA(this.Ac)&&ZO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tf(e)}Cc(e,n,s,o=!1){return new ag({Ac:e,methodName:n,Dc:s,path:Gt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mA(i){const e=i._freezeSettings(),n=tf(i._databaseId);return new tx(i._databaseId,!!e.ignoreUndefinedProperties,n)}function nx(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);og("Data must be an object, but it was:",f,s);const m=pA(s,f);let p,g;if(u.merge)p=new En(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const w=up(e,A,n);if(!f.contains(w))throw new me(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);yA(E,w)||E.push(w)}p=new En(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new ex(new un(m),p,g)}class of extends sg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof of}}function ix(i,e,n,s){const o=i.Cc(1,e,n);og("Data must be an object, but it was:",o,s);const u=[],f=un.empty();is(s,(p,g)=>{const E=lg(e,p,n);g=yt(g);const A=o.yc(E);if(g instanceof of)u.push(E);else{const w=lf(g,A);w!=null&&(u.push(E),f.set(E,w))}});const m=new En(u);return new fA(f,m,o.fieldTransforms)}function rx(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[up(e,s,n)],p=[o];if(u.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(up(e,u[w])),p.push(u[w+1]);const g=[],E=un.empty();for(let w=m.length-1;w>=0;--w)if(!yA(g,m[w])){const L=m[w];let j=p[w];j=yt(j);const $=f.yc(L);if(j instanceof of)g.push(L);else{const q=lf(j,$);q!=null&&(g.push(L),E.set(L,q))}}const A=new En(g);return new fA(E,A,f.fieldTransforms)}function lf(i,e){if(gA(i=yt(i)))return og("Unsupported field value:",e,i),pA(i,e);if(i instanceof sg)return function(s,o){if(!dA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=lf(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Mh(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Mh(o.serializer,u)}}if(s instanceof vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:VS(o.serializer,s._byteString)};if(s instanceof Nt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ei)return function(f,m){return{mapValue:{fields:{[cS]:{stringValue:hS},[Ch]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Bp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Mp(s)}`)}(i,e)}function pA(i,e){const n={};return rS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(i,(s,o)=>{const u=lf(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function gA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof vi||i instanceof kn||i instanceof Nt||i instanceof sg||i instanceof Ei)}function og(i,e,n){if(!gA(n)||!nS(n)){const s=Mp(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function up(i,e,n){if((e=yt(e))instanceof af)return e._internalPath;if(typeof e=="string")return lg(i,e);throw Lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const sx=new RegExp("[~\\*/\\[\\]]");function lg(i,e,n){if(e.search(sx)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Lh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(re.INVALID_ARGUMENT,m+i+p)}function yA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ax(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ax extends _A{data(){return super.data()}}function vA(i,e){return typeof e=="string"?lg(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}class ox{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return is(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[Ch].arrayValue?.values?.map(s=>gt(s.doubleValue));return new Ei(n)}convertGeoPoint(e){return new vi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ot.fromString(e);Ge(zS(s),9688,{name:e});const o=new au(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends _A{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:At("string",Ys._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class hh extends Ys{data(e={}){return super.data(e)}}class eu{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hh(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:ux(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ux(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(i){i=Js(i,Nt);const e=Js(i.firestore,sf);return QO(hA(e),i._key).then(n=>fx(e,i,n))}eu._jsonSchemaVersion="firestore/querySnapshot/1.0",eu._jsonSchema={type:At("string",eu._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class cx extends ox{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function hx(i,e,n){i=Js(i,Nt);const s=Js(i.firestore,sf),o=lx(i.converter,e);return EA(s,[nx(mA(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,yi.none())])}function uf(i,e,n,...s){i=Js(i,Nt);const o=Js(i.firestore,sf),u=mA(o);let f;return f=typeof(e=yt(e))=="string"||e instanceof af?rx(u,"updateDoc",i._key,e,n,s):ix(u,"updateDoc",i._key,e),EA(o,[f.toMutation(i._key,yi.exists(!0))])}function EA(i,e){return function(s,o){const u=new Kr;return s.asyncQueue.enqueueAndForget(async()=>VO(await $O(s),o,u)),u.promise}(hA(i),e)}function fx(i,e,n){const s=n.docs.get(e._key),o=new cx(i);return new Ys(i,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){So=o})(To),Ti(new Gn("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new sf(new W2(s.getProvider("auth-internal")),new eD(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ln(AE,wE,e),Ln(AE,wE,"esm2020")})();const dx={apiKey:"AIzaSyAsMG_4s0N7Dbpw9P1bv9jjm1Qll36BDyQ",authDomain:"firstproject-207f5.firebaseapp.com",projectId:"firstproject-207f5",storageBucket:"firstproject-207f5.firebasestorage.app",messagingSenderId:"283821068320",appId:"1:283821068320:web:5826a58342bcc1f65d2c45",measurementId:"G-3VY41RFF2B"},ug=zT(dx);II(ug);const et=$2(ug),Kn=WO(ug);/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var yT="popstate";function mx(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return cp("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:hu(o)}return gx(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function wi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function px(){return Math.random().toString(36).substring(2,10)}function _T(i,e){return{usr:i.state,key:i.key,idx:e}}function cp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||px()}}function hu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function gx(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=E(),K=q==null?null:q-g;g=q,p&&p({action:m,location:$.location,delta:K})}function w(q,K){m="PUSH";let se=cp($.location,q,K);g=E()+1;let ae=_T(se,g),Ae=$.createHref(se);try{f.pushState(ae,"",Ae)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(Ae)}u&&p&&p({action:m,location:$.location,delta:1})}function L(q,K){m="REPLACE";let se=cp($.location,q,K);g=E();let ae=_T(se,g),Ae=$.createHref(se);f.replaceState(ae,"",Ae),u&&p&&p({action:m,location:$.location,delta:0})}function j(q){return yx(q)}let $={get action(){return m},get location(){return i(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yT,A),p=q,()=>{o.removeEventListener(yT,A),p=null}},createHref(q){return e(o,q)},createURL:j,encodeLocation(q){let K=j(q);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:w,replace:L,go(q){return f.go(q)}};return $}function yx(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:hu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function TA(i,e,n="/"){return _x(i,e,n,!1)}function _x(i,e,n,s){let o=typeof e=="string"?bo(e):e,u=ar(o.pathname||"/",n);if(u==null)return null;let f=SA(i);vx(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Nx(u);m=Cx(f[p],g,s)}return m}function SA(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=tr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),SA(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:bx(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of AA(u.path))o(u,f,m)}),e}function AA(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=AA(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function vx(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Ix(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ex=/^:[\w-]+$/,Tx=3,Sx=2,Ax=1,wx=10,Rx=-2,vT=i=>i==="*";function bx(i,e){let n=i.split("/"),s=n.length;return n.some(vT)&&(s+=Rx),e&&(s+=Sx),n.filter(o=>!vT(o)).reduce((o,u)=>o+(Ex.test(u)?Tx:u===""?Ax:wx),s)}function Ix(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function Cx(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=Uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:tr([u,A.pathname]),pathnameBase:Px(tr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=tr([u,A.pathnameBase]))}return f}function Uh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=Dx(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},w)=>{if(E==="*"){let j=m[w]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const L=m[w];return A&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function Dx(i,e=!1,n=!0){wi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Nx(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function Ox(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?bo(i):i;return{pathname:n?n.startsWith("/")?n:xx(n,e):e,search:Vx(s),hash:kx(o)}}function xx(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Mm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Mx(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wA(i){let e=Mx(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function RA(i,e,n,s=!1){let o;typeof i=="string"?o=bo(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Mm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Mm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Mm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=Ox(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var tr=i=>i.join("/").replace(/\/\/+/g,"/"),Px=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Vx=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kx=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function Lx(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var bA=["POST","PUT","PATCH","DELETE"];new Set(bA);var Ux=["GET",...bA];new Set(Ux);var Io=x.createContext(null);Io.displayName="DataRouter";var cf=x.createContext(null);cf.displayName="DataRouterState";x.createContext(!1);var IA=x.createContext({isTransitioning:!1});IA.displayName="ViewTransition";var jx=x.createContext(new Map);jx.displayName="Fetchers";var Bx=x.createContext(null);Bx.displayName="Await";var Ri=x.createContext(null);Ri.displayName="Navigation";var Su=x.createContext(null);Su.displayName="Location";var ur=x.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var cg=x.createContext(null);cg.displayName="RouteError";function zx(i,{relative:e}={}){lt(Au(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=x.useContext(Ri),{hash:o,pathname:u,search:f}=wu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:tr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Au(){return x.useContext(Su)!=null}function aa(){return lt(Au(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Su).location}var CA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DA(i){x.useContext(Ri).static||x.useLayoutEffect(i)}function Hx(){let{isDataRoute:i}=x.useContext(ur);return i?tM():qx()}function qx(){lt(Au(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(Io),{basename:e,navigator:n}=x.useContext(Ri),{matches:s}=x.useContext(ur),{pathname:o}=aa(),u=JSON.stringify(wA(s)),f=x.useRef(!1);return DA(()=>{f.current=!0}),x.useCallback((p,g={})=>{if(wi(f.current,CA),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=RA(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:tr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}x.createContext(null);function wu(i,{relative:e}={}){let{matches:n}=x.useContext(ur),{pathname:s}=aa(),o=JSON.stringify(wA(n));return x.useMemo(()=>RA(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function Fx(i,e){return NA(i,e)}function NA(i,e,n,s){lt(Au(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(Ri),{matches:u}=x.useContext(ur),f=u[u.length-1],m=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",E=f&&f.route;{let K=E&&E.path||"";OA(p,!E||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=aa(),w;if(e){let K=typeof e=="string"?bo(e):e;lt(g==="/"||K.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${K.pathname}" was given in the \`location\` prop.`),w=K}else w=A;let L=w.pathname||"/",j=L;if(g!=="/"){let K=g.replace(/^\//,"").split("/");j="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let $=TA(i,{pathname:j});wi(E||$!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),wi($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=Qx($&&$.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:tr([g,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:tr([g,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s);return e&&q?x.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},q):q}function Gx(){let i=eM(),e=Lx(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:o},n):null,f)}var Yx=x.createElement(Gx,null),$x=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?x.createElement(ur.Provider,{value:this.props.routeContext},x.createElement(cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Kx({routeContext:i,match:e,children:n}){let s=x.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(ur.Provider,{value:i},n)}function Qx(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||w){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,w=!1,L=null,j=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,L=g.route.errorElement||Yx,f&&(m<0&&E===0?(OA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):m===E&&(w=!0,j=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),q=()=>{let K;return A?K=L:w?K=j:g.route.Component?K=x.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,x.createElement(Kx,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?x.createElement($x,{location:n.location,revalidation:n.revalidation,component:L,error:A,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function hg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xx(i){let e=x.useContext(Io);return lt(e,hg(i)),e}function Wx(i){let e=x.useContext(cf);return lt(e,hg(i)),e}function Jx(i){let e=x.useContext(ur);return lt(e,hg(i)),e}function fg(i){let e=Jx(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Zx(){return fg("useRouteId")}function eM(){let i=x.useContext(cg),e=Wx("useRouteError"),n=fg("useRouteError");return i!==void 0?i:e.errors?.[n]}function tM(){let{router:i}=Xx("useNavigate"),e=fg("useNavigate"),n=x.useRef(!1);return DA(()=>{n.current=!0}),x.useCallback(async(o,u={})=>{wi(n.current,CA),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var ET={};function OA(i,e,n){!e&&!ET[i]&&(ET[i]=!0,wi(!1,n))}x.memo(nM);function nM({routes:i,future:e,state:n}){return NA(i,void 0,n,e)}function ro(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iM({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Au(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:w="default"}=n,L=x.useMemo(()=>{let j=ar(p,f);return j==null?null:{location:{pathname:j,search:g,hash:E,state:A,key:w},navigationType:s}},[f,p,g,E,A,w,s]);return wi(L!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:x.createElement(Ri.Provider,{value:m},x.createElement(Su.Provider,{children:e,value:L}))}function rM({children:i,location:e}){return Fx(hp(i),e)}function hp(i,e=[]){let n=[];return x.Children.forEach(i,(s,o)=>{if(!x.isValidElement(s))return;let u=[...e,o];if(s.type===x.Fragment){n.push.apply(n,hp(s.props.children,u));return}lt(s.type===ro,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=hp(s.props.children,u)),n.push(f)}),n}var fh="get",dh="application/x-www-form-urlencoded";function hf(i){return i!=null&&typeof i.tagName=="string"}function sM(i){return hf(i)&&i.tagName.toLowerCase()==="button"}function aM(i){return hf(i)&&i.tagName.toLowerCase()==="form"}function oM(i){return hf(i)&&i.tagName.toLowerCase()==="input"}function lM(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uM(i,e){return i.button===0&&(!e||e==="_self")&&!lM(i)}var th=null;function cM(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var hM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(i){return i!=null&&!hM.has(i)?(wi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):i}function fM(i,e){let n,s,o,u,f;if(aM(i)){let m=i.getAttribute("action");s=m?ar(m,e):null,n=i.getAttribute("method")||fh,o=Pm(i.getAttribute("enctype"))||dh,u=new FormData(i)}else if(sM(i)||oM(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||fh,o=Pm(i.getAttribute("formenctype"))||Pm(m.getAttribute("enctype"))||dh,u=new FormData(m,i),!cM()){let{name:g,type:E,value:A}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,A)}}else{if(hf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,s=null,o=dh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function dM(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function mM(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pM(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function gM(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mM(u,n);return f.links?f.links():[]}return[]}));return EM(s.flat(1).filter(pM).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function TT(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function yM(i,e,{includeHydrateFallback:n}={}){return _M(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _M(i){return[...new Set(i)]}function vM(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function EM(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(vM(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function xA(){let i=x.useContext(Io);return dg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TM(){let i=x.useContext(cf);return dg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var mg=x.createContext(void 0);mg.displayName="FrameworkContext";function MA(){let i=x.useContext(mg);return dg(i,"You must render this element inside a <HydratedRouter> element"),i}function SM(i,e){let n=x.useContext(mg),[s,o]=x.useState(!1),[u,f]=x.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,w=x.useRef(null);x.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=K=>{K.forEach(se=>{f(se.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[i]),x.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let L=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:jl(m,L),onBlur:jl(p,j),onMouseEnter:jl(g,L),onMouseLeave:jl(E,j),onTouchStart:jl(A,L)}]:[!1,w,{}]}function jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function AM({page:i,...e}){let{router:n}=xA(),s=x.useMemo(()=>TA(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?x.createElement(RM,{page:i,matches:s,...e}):null}function wM(i){let{manifest:e,routeModules:n}=MA(),[s,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return gM(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function RM({page:i,matches:e,...n}){let s=aa(),{manifest:o,routeModules:u}=MA(),{basename:f}=xA(),{loaderData:m,matches:p}=TM(),g=x.useMemo(()=>TT(i,e,p,o,s,"data"),[i,e,p,o,s]),E=x.useMemo(()=>TT(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=x.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let j=new Set,$=!1;if(e.forEach(K=>{let se=o.routes[K.route.id];!se||!se.hasLoader||(!g.some(ae=>ae.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||se.hasClientLoader?$=!0:j.add(K.route.id))}),j.size===0)return[];let q=dM(i,f,"data");return $&&j.size>0&&q.searchParams.set("_routes",e.filter(K=>j.has(K.route.id)).map(K=>K.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,i,u]),w=x.useMemo(()=>yM(E,o),[E,o]),L=wM(E);return x.createElement(x.Fragment,null,A.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),w.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),L.map(({key:j,link:$})=>x.createElement("link",{key:j,...$})))}function bM(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var PA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{PA&&(window.__reactRouterVersion="7.7.1")}catch{}function IM({basename:i,children:e,window:n}){let s=x.useRef();s.current==null&&(s.current=mx({window:n,v5Compat:!0}));let o=s.current,[u,f]=x.useState({action:o.action,location:o.location}),m=x.useCallback(p=>{x.startTransition(()=>f(p))},[f]);return x.useLayoutEffect(()=>o.listen(m),[o,m]),x.createElement(iM,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ea=x.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...w},L){let{basename:j}=x.useContext(Ri),$=typeof g=="string"&&VA.test(g),q,K=!1;if(typeof g=="string"&&$&&(q=g,PA))try{let b=new URL(window.location.href),O=g.startsWith("//")?new URL(b.protocol+g):new URL(g),M=ar(O.pathname,j);O.origin===b.origin&&M!=null?g=M+O.search+O.hash:K=!0}catch{wi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=zx(g,{relative:o}),[ae,Ae,he]=SM(s,w),De=OM(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function P(b){e&&e(b),b.defaultPrevented||De(b)}let C=x.createElement("a",{...w,...he,href:q||se,onClick:K||u?e:P,ref:bM(L,Ae),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ae&&!$?x.createElement(x.Fragment,null,C,x.createElement(AM,{page:se})):C});ea.displayName="Link";var CM=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=wu(f,{relative:g.relative}),w=aa(),L=x.useContext(cf),{navigator:j,basename:$}=x.useContext(Ri),q=L!=null&&kM(A)&&m===!0,K=j.encodeLocation?j.encodeLocation(A).pathname:A.pathname,se=w.pathname,ae=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(se=se.toLowerCase(),ae=ae?ae.toLowerCase():null,K=K.toLowerCase()),ae&&$&&(ae=ar(ae,$)||ae);const Ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let he=se===K||!o&&se.startsWith(K)&&se.charAt(Ae)==="/",De=ae!=null&&(ae===K||!o&&ae.startsWith(K)&&ae.charAt(K.length)==="/"),P={isActive:he,isPending:De,isTransitioning:q},C=he?e:void 0,b;typeof s=="function"?b=s(P):b=[s,he?"active":null,De?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(P):u;return x.createElement(ea,{...g,"aria-current":C,className:b,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(P):p)});CM.displayName="NavLink";var DM=x.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=fh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...w},L)=>{let j=PM(),$=VM(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&VA.test(m),se=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let Ae=ae.nativeEvent.submitter,he=Ae?.getAttribute("formmethod")||f;j(Ae||ae.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return x.createElement("form",{ref:L,method:q,action:$,onSubmit:s?p:se,...w,"data-discover":!K&&i==="render"?"true":void 0})});DM.displayName="Form";function NM(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kA(i){let e=x.useContext(Io);return lt(e,NM(i)),e}function OM(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Hx(),p=aa(),g=wu(i,{relative:u});return x.useCallback(E=>{if(uM(E,e)){E.preventDefault();let A=n!==void 0?n:hu(p)===hu(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var xM=0,MM=()=>`__${String(++xM)}__`;function PM(){let{router:i}=kA("useSubmit"),{basename:e}=x.useContext(Ri),n=Zx();return x.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=fM(s,e);if(o.navigate===!1){let E=o.fetcherKey||MM();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function VM(i,{relative:e}={}){let{basename:n}=x.useContext(Ri),s=x.useContext(ur);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...wu(i||".",{relative:e})},f=aa();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:tr([n,u.pathname])),hu(u)}function kM(i,{relative:e}={}){let n=x.useContext(IA);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kA("useViewTransitionState"),o=wu(i,{relative:e});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uh(o.pathname,f)!=null||Uh(o.pathname,u)!=null}function LM(){return R.jsx("div",{style:{position:"sticky",width:"100%",height:"0",top:"0",left:"0",zIndex:"-2"},children:R.jsx("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"110dvh",background:"linear-gradient(to bottom, #1a1a1a, #2c2c2c)"}})})}const Za=document.getElementsByTagName("html")[0],Bl=i=>parseFloat(i.replace("px",""));let mh;function UM(i){mh=i}let LA=!1;async function jM(i){if(et.currentUser)try{uf($n(Kn,"users",et.currentUser.uid),{balance:i})}catch(e){console.log(e.message)}}async function BM(i){if(et.currentUser)try{uf($n(Kn,"users",et.currentUser.uid),{overallStatistics:i})}catch(e){console.log(e.message)}}let pg,fp,dp,ST=window.localStorage.getItem("userSettings"),UA=ST!=null?JSON.parse(ST):{theme:"Dark",fontSize:"Medium"};const zM=i=>UA=i,HM=["Money funded","Money withdrawed","Money bet","Money won","Average bet","Average win","Games","Favorite game","Wins","Win percentage","Wheel games","Roulette games"],qM=["$","$","$","$","$","$","","","","%","",""];async function FM(){function i(){const e=Date.now(),n=Date.parse(fp),s=(e-n)/1e3/60/60/24;dp=parseInt(s)}if(!et.currentUser){LA=!0,mh&&mh(!0);return}try{const n=(await vo($n(Kn,"users",et.currentUser.uid))).data();pg=n.username,fp=n.registerDate,i(),mh(!0)}catch(e){console.log(e.message)}}const GM={Wheel:"Wheel consists of 40 parts: 18 red, 18 black, 3 yellow and 1 green",Roulette:"Roulette consists of 30 parts: 14 red, 14 black and 2 purple"},YM={Wheel:{id:"wheelCard",background:"linear-gradient(to right bottom, #4C9AFF, #9137BB)",blurBackground:"linear-gradient(to right bottom, #4C9AFF00, var(--wheelBlurColor))",image:"/JTP/shared-assets/images/Wheel.png",imageId:"wheelImage",navigateTo:"/wheel"},Roulette:{id:"rouletteCard",background:"linear-gradient(to right bottom, #50B85F, #3B9C96)",blurBackground:"linear-gradient(to right bottom, #50B85F00, var(--rouletteBlurColor))",image:"/JTP/shared-assets/images/Roulette.png",imageId:"rouletteImage",navigateTo:"/roulette"}};let AT=[1,5,10,20,50];const $M=["Red","Black","Yellow","Green"],ao={Red:2,Black:2,Yellow:5,Green:20},KM=["Red","Black","Purple"],oo={Red:2,Black:2,Purple:10},wT={Red:"FF4B4B",Black:"181818",Yellow:"DEC84A",Green:"56D86A",Purple:"B356D8"};function QM(){let i=window.localStorage.getItem("WHEEL_HISTORY_ARRAY");return i!=null?JSON.parse(i):[]}const XM=40;function WM(){let i=window.localStorage.getItem("WHEEL_LAST_GAMES_ARRAY");return i!=null?JSON.parse(i):[]}const JM=24;function ZM(){let i=window.localStorage.getItem("ROULETTE_HISTORY_ARRAY");return i!=null?JSON.parse(i):[]}const eP=40;function tP(){let i=window.localStorage.getItem("ROULETTE_LAST_GAMES_ARRAY");return i!=null?JSON.parse(i):[]}const nP=24;async function iP(){try{return(await vo($n(Kn,"users",et.currentUser.uid))).data().wheelStatistics}catch(i){console.log(i.message)}}async function rP(i){try{uf($n(Kn,"users",et.currentUser.uid),{wheelStatistics:i})}catch(e){console.log(e.message)}}const sP=["Total spins","Total wins","Total money bet","Total money won","Win percentage","Money profit","Red choosed","Red won","Black choosed","Black won","Yellow choosed","Yellow won","Green choosed","Green won"],aP=["","","$","$","%","$","","","","","","","",""];async function oP(){try{return(await vo($n(Kn,"users",et.currentUser.uid))).data().rouletteStatistics}catch(i){console.log(i.message)}}async function lP(i){try{uf($n(Kn,"users",et.currentUser.uid),{rouletteStatistics:i})}catch(e){console.log(e.message)}}const uP=["Total spins","Total wins","Total money bet","Total money won","Win percentage","Money profit","Red choosed","Red won","Black choosed","Black won","Purple choosed","Purple won"],cP=["","","$","$","%","$","","","","","",""],mp=["Profile","Statistics","Account","Appearance","Language"],hP={signOut:{title:"You want sign out?",subtitle:"You will need to login again after signing out from account",confirmBackground:"#aa4444",confirmText:"Sign out",confirmIcon:"/JTP/shared-assets/images/ArrowRight.svg"},deleteAccount:{title:"Deleting account",subtitle:"This action cannot be undone: all your data will be lost",confirmBackground:"#cc2222",confirmText:"Delete account",confirmIcon:"/JTP/shared-assets/images/RemoveCircleIcon.svg"}};function fP({alertInfo:i,setAlertInfo:e}){if(i.alertType=="")return;function n(){switch(i.alertType){case"deleteAccount":return R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"formField",children:[R.jsx("h6",{className:"formFieldHint",children:"Email"}),R.jsx("input",{id:"inputEmail",className:"formFieldInput",type:"email"})]}),R.jsxs("div",{className:"formField",children:[R.jsx("h6",{className:"formFieldHint",children:"Password"}),R.jsx("input",{id:"inputPassword",className:"formFieldInput",type:"password"})]})]});default:return}}async function s(){const m=document.getElementById("inputEmail").value,p=document.getElementById("inputPassword").value;try{await DC(et.currentUser,ia.credential(m,p))?i.funcConfirm("success"):i.funcConfirm("invalid")}catch(g){console.log(g.message)}}const o=()=>{i.funcConfirm("canceled"),e({alertType:"",funcConfirm:void 0})};function u(){switch(i.alertType){case"signOut":i.funcConfirm("success");break;case"deleteAccount":s();break}}const f=hP[i.alertType];return R.jsx("div",{style:{position:"sticky",width:"100%",height:"0",top:"0",left:"0",zIndex:"10"},children:R.jsx("div",{id:"alertContainer",children:R.jsxs("div",{id:"alertWindow",children:[R.jsx("h4",{id:"alertTitle",children:f.title}),R.jsx("h6",{id:"alertSubtitle",children:f.subtitle}),n(),R.jsx("img",{src:"/JTP/shared-assets/images/CloseLarge.svg",id:"alertClose",style:{width:"2rem"},onClick:o}),R.jsxs("div",{id:"alertConfirm",className:"iconButton large",style:{background:f.confirmBackground},onClick:u,children:[R.jsx("h6",{children:f.confirmText}),R.jsx("img",{src:f.confirmIcon})]})]})})})}function dP({page:i}){const e=GM[i];function n(){if(e!=null)return R.jsx("img",{id:"headerInfoImage",src:"/JTP/shared-assets/images/InfoIcon.svg"})}function s(){if(e!=null)return R.jsx("div",{id:"headerInfoPopup",children:R.jsx("h6",{children:e})})}return R.jsxs("div",{id:"headerInfoContainer",children:[R.jsx("h1",{children:i}),n(),s()]})}function mP({page:i,balance:e}){return et.currentUser!=null?R.jsxs("div",{id:"headerAccountContainer",className:`signedIn ${i}`,children:[R.jsx("img",{id:"headerAccountImage",src:"/JTP/shared-assets/images/Avatar.png"}),R.jsxs("h5",{id:"headerAccountBalance",children:[e," ",e!=="Loading..."&&"$"]}),R.jsx("img",{id:"headerAccountArrow"}),i!=="Profile"&&R.jsx(ea,{to:"/profile",style:{position:"absolute",left:"0",width:"100%",height:"100%"}})]}):R.jsxs("div",{id:"headerAccountContainer",className:"notSignedIn",children:[R.jsx("img",{id:"headerAccountImage",src:"/JTP/shared-assets/images/Avatar.png"}),R.jsx("h5",{id:"headerAccountBalance",className:"gradientText",children:"Login"}),R.jsx("img",{id:"headerAccountArrow",width:"20px"}),R.jsx(ea,{to:"/register",style:{position:"absolute",left:"0",width:"100%",height:"100%"}})]})}function pP({page:i,balance:e}){return R.jsxs("header",{id:"header",children:[R.jsxs("div",{style:{position:"relative",cursor:i=="Main page"?"default":"pointer",height:"100%"},children:[R.jsx("img",{src:"/JTP/shared-assets/images/Logo.svg",style:{width:"100%",height:"100%"}}),i!=="Main page"&&R.jsx(ea,{to:"",style:{position:"absolute",left:"0",width:"100%",height:"100%"}})]}),R.jsx(dP,{page:i}),R.jsx(mP,{page:i,balance:e})]})}function RT({game:i}){const e=YM[i];return R.jsxs("div",{id:e.id,className:"gameCard",style:{background:e.background},children:[R.jsx("h2",{className:"gameCardTitle",children:i}),R.jsx("img",{id:e.imageId,className:"gameCardImage",src:e.image}),R.jsx("div",{className:"gameCardBlur",style:{background:e.blurBackground}}),R.jsx(ea,{to:e.navigateTo,style:{position:"absolute",top:"0",width:"100%",height:"100%"}})]})}function gP(){const i=x.useContext(ss);return x.useEffect(()=>{i.setPage("Main page")},[]),R.jsx("main",{children:R.jsxs("section",{id:"gamesSection",children:[R.jsx("h1",{children:"Games"}),R.jsxs("div",{id:"gamesContainer",children:[R.jsx(RT,{game:"Wheel"}),R.jsx(RT,{game:"Roulette"})]})]})})}function yP({wheelAngle:i}){return R.jsxs("div",{id:"wheelMainContainer",children:[R.jsx("img",{id:"wheelMainImage",src:"/JTP/shared-assets/images/Wheel.png",style:{rotate:`${i}deg`}}),R.jsx("img",{id:"wheelArrowImage",src:"/JTP/shared-assets/images/WheelArrow.svg"}),R.jsx("div",{id:"wheelMainBlur"})]})}function jA({spinInfo:i,setSpinInfo:e,isDisabled:n}){function s(o){const u=parseFloat(o.target.value);u>.5?e(f=>({...f,bet:u})):e(f=>({...f,bet:.5})),o.target.value=""}return R.jsxs("div",{className:"sideSection",children:[R.jsx("h2",{children:"Bet"}),R.jsx("div",{className:"sideSectionFlexContainer",children:AT.map((o,u)=>R.jsx(_P,{bet:o,isActive:i.bet==o,isDisabled:n,setSpinInfo:e},`keyBet${u}`))}),R.jsx("input",{className:!AT.includes(i.bet)&&i.bet!=0?"active":null,type:"number",disabled:n,placeholder:`Your bet - ${i.bet} $`,onBlur:s})]})}function _P({bet:i,isActive:e,isDisabled:n,setSpinInfo:s}){return R.jsxs("button",{className:e?"betButton active":"betButton",onClick:()=>s(o=>({...o,bet:i})),disabled:n||e,children:[i," $"]})}function BA({spinInfo:i,setSpinInfo:e,isDisabled:n,colorValues:s,koafValues:o}){return R.jsxs("div",{className:"sideSection",children:[R.jsx("h2",{children:"Color"}),R.jsx("div",{className:"sideSectionFlexContainer",children:s.map((u,f)=>R.jsx(vP,{color:u,koaf:o[u],isActive:i.color==u,isDisabled:n,setSpinInfo:e},`keyColor${f}`))})]})}function vP({color:i,koaf:e,isActive:n,isDisabled:s,setSpinInfo:o}){return R.jsx("button",{id:`button${i}`,className:n?"colorButton active":"colorButton",onClick:()=>o(u=>({...u,color:i})),disabled:s||n,children:`${i} x${e}`})}function zA({historyArray:i}){const e=x.useRef();function n(){return i.length==0?R.jsx("h6",{style:{width:"100%",height:"100%",lineHeight:"40px",textAlign:"center",color:"gray"},children:"It seems here is nothing..."}):i.map((p,g)=>R.jsx("div",{className:`historyElement ${p}`},`keyHistory${g}`))}let s=0,o=!1;const u=p=>{o=!0,e.current.classList.add("dragging"),s=p.screenX};function f(p){if(o){const g=p.screenX-s;e.current.scrollLeft-=g}s=p.screenX}const m=()=>{o=!1,e.current.classList.remove("dragging")};return R.jsx("div",{className:"sideSection",id:"historySection",children:R.jsx("div",{autoFocus:"true",ref:e,className:"sideSectionFlexContainer",id:"historyFlexContainer",onDragStart:p=>p.preventDefault(),onMouseDown:u,onMouseMove:f,onMouseUp:m,onMouseLeave:m,children:n()})})}function HA({page:i,balance:e,spinInfo:n,koafValues:s,isDisabled:o,StartEvent:u}){function f(){return n.bet!=0&&n.color!=""?`Possible win - ${n.bet*s[n.color]} $`:"Choose bet and color"}return R.jsx("div",{id:"spinSection",children:R.jsxs("button",{id:"spinButton",className:i,disabled:o||n.bet>e||n.bet==0||n.color=="",onClick:u,children:["Spin ",n.bet," $",R.jsx("h2",{children:f()})]})})}function EP({balance:i,spinInfo:e,setSpinInfo:n,isDisabled:s,StartEvent:o,historyArray:u}){return R.jsxs("div",{className:"sideContainer",children:[R.jsx(jA,{spinInfo:e,setSpinInfo:n,isDisabled:s}),R.jsx(BA,{spinInfo:e,setSpinInfo:n,isDisabled:s,colorValues:$M,koafValues:ao}),R.jsx(zA,{historyArray:u}),R.jsx(HA,{page:"Wheel",balance:i,spinInfo:e,koafValues:ao,isDisabled:s,StartEvent:o})]})}function qA(){return R.jsxs("div",{id:"resultContainer",children:[R.jsx("h1",{id:"resultColor"}),R.jsx("h2",{id:"resultProfit"})]})}function TP({balance:i,setBalance:e,spinInfo:n,setSpinInfo:s,isDisabled:o,setIsDisabled:u,historyArray:f,setHistoryArray:m,setLastGamesArray:p,setStatistics:g,setOverallStatistics:E}){const[A,w]=x.useState(0),L=x.useRef(0),j=x.useRef(0),[$,q]=x.useState(!1);x.useEffect(()=>{$&&(ae(),q(!1))},[$]);function K(){L.current=Math.random()<.5?1:-1,j.current=4+Math.random()*6,u(!0),e(b=>b-n.bet),P("start"),se()}function se(){w(b=>(b+j.current*L.current)%360),j.current>3?j.current-=Math.random()*.025:j.current>2?j.current-=Math.random()*.02:j.current>1?j.current-=Math.random()*.015:j.current>.5?j.current-=Math.random()*.01:j.current-=Math.random()*.004,j.current<=0?(w(b=>b>=0?b:b+360),j.current=0,L.current=0,q(!0)):setTimeout(se,10)}function ae(){console.log(`Final angle is ${A}`);const b=Ae(),O=n.color==b,M=O?"5C9E5E":"9E5C5C",k=O?n.bet*(ao[n.color]-1):n.bet;O&&e(I=>I+k+n.bet),he(M,b,O,k),De(M,n.color,b,n.bet,O?n.bet*ao[n.color]:0),P("finish",O,b,n.bet*ao[n.color]),u(!1)}function Ae(){let b,O=1/0;for(let X=0;X<=360;X+=9){const ne=Math.abs(A-X);ne<O&&(O=ne,b=X%360)}b-=225,b<0&&(b+=360),console.log(`Nearest degree is ${b}`);let M;const k=0,I=[45,180,225],fe=[9,27,63,81,99,117,135,153,171,189,207,243,261,279,297,315,333,351],xe=[18,36,54,72,90,108,126,144,162,198,216,234,252,270,288,306,324,342];return b==k?M="Green":I.includes(b)?M="Yellow":fe.includes(b)?M="Black":xe.includes(b)&&(M="Red"),console.log(`Final color is ${M}`),M}function he(b,O,M,k){const I=document.getElementById("resultContainer"),fe=document.getElementById("resultColor"),xe=document.getElementById("resultProfit");I.style.display="flex",I.style.background=`radial-gradient(#${b} 5%, #${b}77)`,fe.textContent=`${O} x${ao[O]}`,xe.textContent=M?`+ ${k} $`:`- ${k} $`,setTimeout(()=>I.style.display="none",5e3)}function De(b,O,M,k,I){m(fe=>{const xe=[M,...fe];return xe.length>XM&&xe.pop(),xe}),p(fe=>{const xe=[{bgColor:b,userColor:O,finalColor:M,betBefore:k,betAfter:I},...fe];return xe.length>JM&&xe.pop(),xe})}function P(b,O,M,k){b=="start"?(g(I=>{let fe=[...I];return fe[0]+=1,fe[2]+=n.bet,n.color=="Red"&&(fe[6]+=1),n.color=="Black"&&(fe[8]+=1),n.color=="Yellow"&&(fe[10]+=1),n.color=="Green"&&(fe[12]+=1),fe}),E(I=>{let fe=[...I];return fe[2]+=n.bet,fe[4]=Math.round((I[2]+n.bet)/(I[6]+1)*100)/100,fe[6]+=1,I[10]+1>=I[11]&&(fe[7]="Wheel"),fe[10]+=1,fe})):b=="finish"&&(g(I=>{let fe=[...I];return O&&(fe[1]+=1),O&&(fe[3]+=k),fe[4]=Math.round((I[1]+(O?1:0))/I[0]*1e3)/10,fe[5]=I[3]+(O?k:0)-I[2],O&&M=="Red"&&(fe[7]+=1),O&&M=="Black"&&(fe[9]+=1),O&&M=="Yellow"&&(fe[11]+=1),O&&M=="Green"&&(fe[13]+=1),fe}),E(I=>{let fe=[...I];return O&&(fe[3]+=k),fe[5]=Math.round((I[3]+(O?k:0))/I[6]*100)/100,O&&(fe[8]+=1),fe[9]=Math.round((I[8]+(O?1:0))/I[6]*1e3)/10,fe}))}const C=x.useMemo(()=>R.jsx(EP,{balance:i,spinInfo:n,setSpinInfo:s,isDisabled:o,StartEvent:K,historyArray:f}),[i,n,o,f]);return R.jsxs("div",{className:"mainGameWindow",style:{background:"linear-gradient(to right, #4C9AFF, #9137BB)"},children:[R.jsx(yP,{wheelAngle:A}),C,R.jsx(qA,{})]})}function FA({lastGamesArray:i}){function e(){return i.length==0?R.jsx("h6",{style:{position:"absolute",width:"100%",height:"100px",textAlign:"center",lineHeight:"100px",color:"gray"},children:"It seems here is nothing..."}):i.map((n,s)=>R.jsxs("div",{className:"lastGameCard",style:{background:`#${n.bgColor}`},children:[R.jsxs("div",{children:[R.jsxs("h6",{style:{width:"100%",height:"2.5rem",textAlign:"center",lineHeight:"2.5rem"},children:[n.betBefore," $"]}),R.jsx("div",{className:"lastGameCardColorInfo",style:{background:`#${wT[n.userColor]}`}})]}),R.jsx("img",{src:"/JTP/shared-assets/images/ArrowRight.svg",style:{width:"32px",padding:"4px"}}),R.jsxs("div",{children:[R.jsxs("h5",{style:{width:"100%",height:"2.5rem",textAlign:"center",lineHeight:"2.5rem"},children:[n.betAfter," $"]}),R.jsx("div",{className:"lastGameCardColorInfo",style:{background:`#${wT[n.finalColor]}`}})]})]},`keyLastGame${s}`))}return R.jsxs("section",{id:"lastGamesSection",children:[R.jsx("h1",{children:"Last games"}),R.jsx("div",{id:"lastGamesContainer",children:e()})]})}function GA({statistics:i,statisticsTexts:e,statisticsChars:n}){function s(){return i.length==0?R.jsx("h6",{style:{width:"100%",height:"100%",lineHeight:"40px",textAlign:"center",color:"gray"},children:"It seems here is nothing..."}):i.map((o,u)=>R.jsxs("div",{className:"statisticsBlock",children:[R.jsx("h5",{style:{height:"2rem",lineHeight:"2rem"},children:e[u]}),R.jsxs("h5",{style:{height:"2rem",lineHeight:"2rem"},children:[o," ",n[u]]})]},`keyStatistics${u}`))}return R.jsxs("div",{id:"statisticsSection",children:[R.jsx("h1",{children:"Statistics"}),R.jsx("div",{id:"statisticsContainer",children:s()})]})}function SP(){const i=x.useContext(ss);x.useEffect(()=>{i.setPage("Wheel")},[]);const[e,n]=x.useState({bet:0,color:""}),[s,o]=x.useState(!1),[u,f]=x.useState(QM());x.useEffect(()=>{window.localStorage.setItem("WHEEL_HISTORY_ARRAY",JSON.stringify(u))},[u]);const[m,p]=x.useState(WM());x.useEffect(()=>{window.localStorage.setItem("WHEEL_LAST_GAMES_ARRAY",JSON.stringify(m))},[m]);const g=x.useRef(!1),[E,A]=x.useState([]);x.useEffect(()=>{g.current&&rP(E)},[E]);async function w(){const $=await iP();A($),g.current=!0}i.auth.currentUser&&!g.current&&w();const L=x.memo(()=>R.jsx(FA,{lastGamesArray:m})),j=x.memo(()=>R.jsx(GA,{statistics:E,statisticsTexts:sP,statisticsChars:aP}));return R.jsxs("main",{children:[R.jsx(TP,{balance:i.balance,setBalance:i.setBalance,spinInfo:e,setSpinInfo:n,isDisabled:s,setIsDisabled:o,historyArray:u,setHistoryArray:f,setLastGamesArray:p,setStatistics:A,setOverallStatistics:i.setOverallStatistics}),R.jsx(L,{}),R.jsx(j,{})]})}function AP({reference:i,left1:e,left2:n}){return R.jsx("div",{id:"subContainer",children:R.jsxs("div",{ref:i,id:"mainContainer",children:[R.jsx("img",{className:"mainImage",src:"/JTP/shared-assets/images/Roulette.png",style:{left:e}}),R.jsx("img",{className:"mainImage",src:"/JTP/shared-assets/images/Roulette.png",style:{left:n}}),R.jsx("img",{id:"arrowImage",src:"/JTP/shared-assets/images/RouletteArrowImage.png"})]})})}function wP({balance:i,spinInfo:e,setSpinInfo:n,isDisabled:s,StartEvent:o,historyArray:u}){return R.jsxs("div",{className:"sideContainer",children:[R.jsx(jA,{spinInfo:e,setSpinInfo:n,isDisabled:s}),R.jsx(BA,{spinInfo:e,setSpinInfo:n,isDisabled:s,colorValues:KM,koafValues:oo}),R.jsx(zA,{historyArray:u}),R.jsx(HA,{page:"Roulette",balance:i,spinInfo:e,koafValues:oo,isDisabled:s,StartEvent:o})]})}function RP({balance:i,setBalance:e,spinInfo:n,setSpinInfo:s,isDisabled:o,setIsDisabled:u,historyArray:f,setHistoryArray:m,setLastGamesArray:p,setStatistics:g,setOverallStatistics:E}){const A=x.useRef();x.useEffect(()=>{A.current&&ae()},[A.current]);const w=x.useRef(0),L=x.useRef(0),j=x.useRef(2400),[$,q]=x.useState(L.current+w.current),[K,se]=x.useState(j.current+w.current);window.addEventListener("resize",()=>{A.current&&ae()});function ae(){const ne=Ae()-600;w.current=ne,q(L.current+w.current),se(j.current+w.current)}function Ae(){return window.getComputedStyle(A.current).width.replace("px","")/2}const[he,De]=x.useState(!1);x.useEffect(()=>{he&&(O(),De(!1))},[he]);const P=x.useRef(0);function C(){P.current=20+Math.random()*10,u(!0),e(ne=>ne-n.bet),xe("start"),b()}function b(){k(P.current);const ne=L.current+w.current,oe=j.current+w.current;ne<-200&&oe<-200&&(ne<oe?(L.current+=2400,q(L.current+w.current)):(j.current+=2400,se(j.current+w.current)));let ge;P.current>15?ge=.1:P.current>10?ge=.08:P.current>5?ge=.06:P.current>2?ge=.04:ge=.03,P.current-=Math.random()*ge,P.current<=0?(P.current=0,De(!0)):setTimeout(b,10)}function O(){const ne=Ae();let oe=$<ne&&K<ne?$<K?K:$:$<ne?$:K;console.log(`Final left is ${oe}`);const ge=M(oe),N=n.color==ge,Q=N?"5C9E5E":"9E5C5C",J=N?n.bet*(oo[n.color]-1):n.bet;N&&e(ie=>ie+J+n.bet),I(Q,ge,N,J),fe(Q,n.color,ge,n.bet,N?n.bet*oo[n.color]:0),xe("finish",N,ge,n.bet*oo[n.color]),u(!1)}function M(ne){ne=Math.abs(-Ae()+ne);let oe,ge=1/0;for(let de=40;de<=2360;de+=80){const Ie=Math.abs(ne-de);Ie<ge&&(ge=Ie,oe=de)}console.log(`Nearest position is ${oe}`);let N;const Q=[1160,2360],J=[120,280,440,600,760,920,1080,1240,1400,1560,1720,1880,2040,2200],ie=[40,200,360,520,680,840,1e3,1320,1480,1640,1800,1960,2120,2280];return Q.includes(oe)?N="Purple":J.includes(oe)?N="Black":ie.includes(oe)&&(N="Red"),console.log(`Final color is ${N}`),N}function k(ne){L.current-=ne,j.current-=ne,q(L.current+w.current),se(j.current+w.current)}function I(ne,oe,ge,N){const Q=document.getElementById("resultContainer"),J=document.getElementById("resultColor"),ie=document.getElementById("resultProfit");Q.style.display="flex",Q.style.background=`radial-gradient(#${ne} 5%, #${ne}77)`,J.textContent=`${oe} x${oo[oe]}`,ie.textContent=ge?`+ ${N} $`:`- ${N} $`,setTimeout(()=>Q.style.display="none",5e3)}function fe(ne,oe,ge,N,Q){m(J=>{const ie=[ge,...J];return ie.length>eP&&ie.pop(),ie}),p(J=>{const ie=[{bgColor:ne,userColor:oe,finalColor:ge,betBefore:N,betAfter:Q},...J];return ie.length>nP&&ie.pop(),ie})}function xe(ne,oe,ge,N){ne=="start"?(g(Q=>{let J=[...Q];return J[0]+=1,J[2]+=n.bet,n.color=="Red"&&(J[6]+=1),n.color=="Black"&&(J[8]+=1),n.color=="Purple"&&(J[10]+=1),J}),E(Q=>{let J=[...Q];return J[2]+=n.bet,J[4]=Math.round((Q[2]+n.bet)/(Q[6]+1)*100)/100,J[6]+=1,J[11]+1>J[10]&&(J[7]="Roulette"),J[11]+=1,J})):ne=="finish"&&(g(Q=>{let J=[...Q];return oe&&(J[1]+=1),oe&&(J[3]+=N),J[4]=Math.round((Q[1]+(oe?1:0))/Q[0]*1e3)/10,J[5]=Q[3]+(oe?N:0)-Q[2],oe&&ge=="Red"&&(J[7]+=1),oe&&ge=="Black"&&(J[9]+=1),oe&&ge=="Purple"&&(J[11]+=1),J}),E(Q=>{let J=[...Q];return oe&&(J[3]+=N),J[5]=Math.round((Q[3]+(oe?N:0))/Q[6]*100)/100,oe&&(J[8]+=1),J[9]=Math.round((Q[8]+(oe?1:0))/Q[6]*1e3)/10,J}))}const X=x.useMemo(()=>R.jsx(wP,{balance:i,spinInfo:n,setSpinInfo:s,isDisabled:o,StartEvent:C,historyArray:f}),[i,n,o,f]);return R.jsxs("div",{className:"mainGameWindow",style:{background:"linear-gradient(to right, #50B85F, #3B9C96)"},children:[R.jsx(AP,{reference:A,left1:$,left2:K}),X,R.jsx(qA,{})]})}function bP(){const i=x.useContext(ss);x.useEffect(()=>{i.setPage("Roulette")},[]);const[e,n]=x.useState({bet:0,color:""}),[s,o]=x.useState(!1),[u,f]=x.useState(ZM());x.useEffect(()=>{window.localStorage.setItem("ROULETTE_HISTORY_ARRAY",JSON.stringify(u))},[u]);const[m,p]=x.useState(tP());x.useEffect(()=>{window.localStorage.setItem("ROULETTE_LAST_GAMES_ARRAY",JSON.stringify(m))},[m]);const g=x.useRef(!1),[E,A]=x.useState([]);x.useEffect(()=>{g.current&&lP(E)},[E]);async function w(){const $=await oP();A($),g.current=!0}i.auth.currentUser&&!g.current&&w();const L=x.memo(()=>R.jsx(FA,{lastGamesArray:m})),j=x.memo(()=>R.jsx(GA,{statistics:E,statisticsTexts:uP,statisticsChars:cP}));return R.jsxs("main",{children:[R.jsx(RP,{balance:i.balance,setBalance:i.setBalance,spinInfo:e,setSpinInfo:n,isDisabled:s,setIsDisabled:o,historyArray:u,setHistoryArray:f,setLastGamesArray:p,setStatistics:A,setOverallStatistics:i.setOverallStatistics}),R.jsx(L,{}),R.jsx(j,{})]})}function IP(){const[i,e]=x.useState(!0),[n,s]=x.useState(""),[o,u]=x.useState(""),[f,m]=x.useState(""),p=x.useRef(),[g,E]=x.useState("");x.useEffect(()=>{A()},[g]);function A(){if(g!==""){const se=p.current;se.style.display="block",se.style.animation="none",se.offsetWidth,se.style.animation="",se.style.animation="formAlertAnim 5s forwards";const ae=()=>{se.style.display="none",se.removeEventListener("animationend",ae)};se.addEventListener("animationend",ae)}}const w=x.memo(()=>R.jsxs("div",{style:{position:"relative",cursor:"pointer"},children:[R.jsx("img",{src:"/JTP/shared-assets/images/Logo.svg",width:"180px"}),R.jsx(ea,{to:"/",style:{position:"absolute",left:"0",width:"100%",height:"100%"}})]})),L=x.useMemo(()=>R.jsx(Vm,{hint:"Email",type:"email",value:n,setValue:s}),[n]),j=x.useMemo(()=>R.jsx(Vm,{hint:"Password",type:"password",value:o,setValue:u}),[o]),$=x.useMemo(()=>R.jsx(Vm,{hint:"Username",value:f,setValue:m}),[f]),q=x.useMemo(()=>R.jsx(DP,{isRegister:i,setIsRegister:e}),[i]),K=x.useMemo(()=>R.jsx(NP,{email:n,setAlert:E,animateAlert:A}),[i]);return R.jsxs("div",{id:"formContainer",children:[R.jsx(w,{}),L,j,i&&$,R.jsx(CP,{setAlert:E,animateAlert:A,isRegister:i,_email:n,_password:o,_username:f}),q,!i&&K,R.jsx(OP,{reference:p,alert:g})]})}function Vm({hint:i,type:e,value:n,setValue:s}){return R.jsxs("div",{className:"formField",children:[R.jsx("h6",{className:"formFieldHint",children:i}),R.jsx("input",{className:"formFieldInput",type:e,value:n,onChange:o=>s(o.target.value)})]})}function CP({setAlert:i,animateAlert:e,isRegister:n,_email:s,_password:o,_username:u}){function f(){let E=g(s,o);E!=""?(i(E),e()):(E=n?m(s,o,u):p(s,o),E!=""&&(i(E),e()))}async function m(E,A,w,L="Invalid email or password. Try again later"){try{const $=(await OC(et,E,A)).user;window.localStorage.setItem("username",w);try{await fE($),L="Confirm your email before you login"}catch(q){console.log(q.message)}Gm(et)}catch(j){console.log(j.message)}return L}async function p(E,A,w="Invalid email or password. Try again later"){try{const j=(await xC(et,E,A)).user;if(j.emailVerified)try{const q=(await vo($n(Kn,"users",j.uid))).data();if(q)window.localStorage.setItem("username",q.username),w="",window.location.pathname="/JTP/";else try{await hx($n(Kn,"users",j.uid),{username:window.localStorage.getItem("username"),registerDate:new Date().toUTCString(),balance:0,overallStatistics:[0,0,0,0,0,0,0,"None",0,0,0,0],wheelStatistics:[0,0,0,0,0,0,0,0,0,0,0,0,0,0],rouletteStatistics:[0,0,0,0,0,0,0,0,0,0,0,0]}),w="",window.location.pathname="/JTP/"}catch(K){console.log(K.message)}}catch($){console.log($.message)}else{try{await fE(j),w="Confirm your email before you login"}catch($){console.log($.message)}Gm(et)}}catch(L){console.log(L.message)}return w}function g(E,A){const w=new Set(A);return console.log(A.length),A.length<8?"Short password":w.size<=A.length/3?"Too many repeating symbols":E==""?"Email field is empty":""}return R.jsx("div",{id:"formButtonContainer",children:R.jsxs("button",{id:"formButton",onClick:f,children:[R.jsx("h5",{className:"gradientText",children:n?"Register":"Login"}),R.jsx("img",{style:{width:"1.5rem"}})]})})}function DP({isRegister:i,setIsRegister:e}){return R.jsx("div",{id:"formButtonSwitchContainer",children:R.jsx("button",{id:"formButtonSwitch",className:"buttonWithUnderline",onClick:()=>e(!i),children:i?"Already have an account? Login":"Don't have an account? Register"})})}function NP({email:i,setAlert:e,animateAlert:n}){function s(){o()}async function o(u="Invalid email or password. Try again later"){if(i=="")u="Email field is empty";else try{await NC(et,i),u="Reset password email sent"}catch(f){console.log(f.message)}e(u),n()}return R.jsx("div",{id:"formButtonResetContainer",children:R.jsx("button",{id:"formButtonReset",className:"buttonWithUnderline",onClick:s,children:"Reset password"})})}function OP({reference:i,alert:e}){return R.jsx("div",{ref:i,id:"formAlert",children:R.jsx("h6",{children:e})})}function xP(){const i=x.useContext(ss);return x.useEffect(()=>{i.setPage("Register")},[]),R.jsxs("div",{id:"registerMainDiv",children:[R.jsx(IP,{}),R.jsx("div",{className:"bgCircle little",style:{left:"25dvw",top:"65dvh"}}),R.jsx("div",{className:"bgCircle little",style:{left:"85dvw",top:"40dvh"}}),R.jsx("div",{className:"bgCircle medium",style:{left:"70dvw",top:"5dvh"}}),R.jsx("div",{className:"bgCircle medium",style:{left:"55dvw",top:"75dvh"}}),R.jsx("div",{className:"bgCircle large",style:{left:"5dvw",top:"10dvh"}})]})}function MP({section:i,chooseSection:e}){function n(){return mp.map((s,o)=>R.jsx(PP,{isActive:i==s?"active":"",text:s,index:o,chooseSection:e},`keySidebar${o}`))}return R.jsx("div",{id:"profileSidebarContainer",children:n()})}function PP({isActive:i,text:e,index:n,chooseSection:s}){return R.jsx("div",{className:`sidebarElement ${i}`,onClick:()=>s(e,n),children:R.jsx("h6",{children:e})})}function VP({reference:i}){const[e,n]=x.useState(UA);x.useEffect(()=>{window.localStorage.setItem("userSettings",JSON.stringify(e)),zM(e)},[e]);const s=x.useContext(ss),o=x.useRef(),u=x.useRef(),f=x.useRef(0);window.onclick=w=>{function L(){o.current&&(o.current.style.display="none"),u.current&&(u.current.style.display="none"),f.current=0}(!w.target.classList.contains("dropdownChevron")||f.current>1)&&L()};const m=x.memo(()=>R.jsx(kP,{setBalance:s.setBalance})),p=x.memo(()=>R.jsx(LP,{})),g=x.memo(()=>R.jsx(UP,{setAlertInfo:s.setAlertInfo})),E=x.memo(()=>R.jsx(jP,{dropdownTheme:o,dropdownFontSize:u,dropdownsCount:f,settings:e,setSettings:n})),A=x.memo(()=>R.jsx(BP,{}));return R.jsxs("div",{style:{minWidth:"300px",width:"800px",flexShrink:"1"},children:[R.jsxs("div",{ref:i,style:{position:"sticky",width:"100%",height:"0",left:"0",top:"0"},children:[R.jsx("div",{className:"bgCircle little",style:{left:"10%",top:"60dvh"}}),R.jsx("div",{className:"bgCircle medium",style:{left:"60%",top:"30dvh"}}),R.jsx("div",{className:"bgCircle medium",style:{left:"10%",top:"100dvh"}}),R.jsx("div",{className:"bgCircle large",style:{left:"0%",top:"5dvh"}}),R.jsx("div",{className:"bgCircle large",style:{left:"65%",top:"75dvh"}})]}),R.jsxs("div",{id:"profileMainWindow",children:[R.jsx(m,{}),R.jsx(p,{}),R.jsx(g,{}),R.jsx(E,{}),R.jsx(A,{})]})]})}function kP({setBalance:i}){const e=new Date(fp);return R.jsxs("div",{ref:x.useContext(Co).sections[0],className:"profileSection",children:[R.jsx("h2",{children:"Profile"}),R.jsxs("div",{style:{marginTop:"1rem",display:"flex",gap:"1rem",alignItems:"center"},children:[R.jsx("img",{src:"/JTP/shared-assets/images/Avatar.png",style:{width:"8rem",height:"8rem"}}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[R.jsx("h3",{style:{fontSize:"1.5em"},children:pg}),R.jsx("button",{id:"addFunds",onClick:()=>i(n=>n+100),children:R.jsx("h6",{children:"Add funds"})})]})]}),R.jsxs("h6",{style:{marginTop:"1rem",color:"#CDCDCD"},children:["Registered ",`${e.getMonth()+1}/${e.getDate()}/${e.getFullYear()}`,","," ",dp>0?`${dp} days ago`:"Today"]})]})}function LP(){function i(){return x.useContext(ss).overallStatistics.map((n,s)=>R.jsxs("div",{style:{minWidth:"15rem",height:"1rem",display:"flex",justifyContent:"space-between"},children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:HM[s]}),R.jsxs("h4",{children:[n," ",qM[s]]})]},`keyOverallStatistics${s}`))}return R.jsxs("div",{ref:x.useContext(Co).sections[1],className:"profileSection",children:[R.jsx("h2",{children:"Statistics"}),R.jsx("div",{style:{marginTop:"1rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(15rem, 1fr))",gridTemplateRows:"repeat(auto-fit, minmax(1rem, 1fr))",gap:"1.5rem"},children:i()})]})}function UP({setAlertInfo:i}){function e(){i({alertType:"signOut",funcConfirm:s=>{s=="success"&&(Gm(et),window.location.pathname="/")}})}function n(){i({alertType:"deleteAccount",funcConfirm:s=>{s=="success"?(kC(et.currentUser),window.location.pathname="/"):s=="invalid"&&console.log("Invalid email or password")}})}return R.jsxs("div",{ref:x.useContext(Co).sections[2],className:"profileSection",children:[R.jsx("h2",{children:"Account"}),R.jsxs("div",{style:{marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("div",{className:"grayInfoField",children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:"Email"}),R.jsxs("div",{className:"grayInfoFieldRight",children:[R.jsx("h6",{children:et.currentUser.email}),R.jsx("img",{className:"editPencil",src:"/JTP/shared-assets/images/EditPencilIcon.png",style:{width:"1.5rem"}})]})]}),R.jsxs("div",{className:"grayInfoField",children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:"Password"}),R.jsxs("div",{className:"grayInfoFieldRight",children:[R.jsx("h6",{children:"********"}),R.jsx("img",{className:"editPencil",src:"/JTP/shared-assets/images/EditPencilIcon.png",style:{width:"1.5rem"}})]})]}),R.jsxs("div",{className:"grayInfoField",children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:"Username"}),R.jsxs("div",{className:"grayInfoFieldRight",children:[R.jsx("h6",{children:pg}),R.jsx("img",{className:"editPencil",src:"/JTP/shared-assets/images/EditPencilIcon.png",style:{width:"1.5rem"}})]})]}),R.jsxs("div",{style:{width:"100%",display:"flex",gap:"1rem"},children:[R.jsxs("div",{className:"grayInfoField",style:{width:"calc(50% - 1rem)"},children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:"Sign out"}),R.jsx("button",{className:"iconButton medium",style:{background:"#aa4444",marginRight:"-0.8rem"},onClick:e,children:R.jsx("img",{src:"/JTP/shared-assets/images/ArrowRight.svg",style:{width:"1.5rem"}})})]}),R.jsxs("div",{className:"grayInfoField",style:{width:"calc(50% - 1rem)"},children:[R.jsx("h6",{style:{color:"#dd1a1a"},children:"Delete account"}),R.jsx("button",{className:"iconButton medium",style:{background:"#cc2222",marginRight:"-0.8rem"},onClick:n,children:R.jsx("img",{src:"/JTP/shared-assets/images/RemoveCircleIcon.svg",style:{width:"1.5rem"}})})]})]})]})]})}function jP({dropdownTheme:i,dropdownFontSize:e,dropdownsCount:n,settings:s,setSettings:o}){const u=()=>{i.current&&(i.current.style.display="block",n.current+=1)},f=()=>{e.current&&(e.current.style.display="block",n.current+=1)};return R.jsxs("div",{ref:x.useContext(Co).sections[3],className:"profileSection",style:{zIndex:"1"},children:[R.jsx("h2",{children:"Apeearance"}),R.jsxs("div",{style:{marginTop:"1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("div",{className:"grayInfoField",children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:"Theme"}),R.jsxs("div",{className:"grayInfoFieldRight",children:[R.jsx("h6",{children:s.theme}),R.jsx("img",{className:"dropdownChevron",src:"/JTP/shared-assets/images/ChevronDown.svg",style:{width:"1.5rem"},onClick:u}),R.jsxs("div",{ref:i,className:"dropdownMenu",children:[R.jsx("div",{className:"dropdownElement",onClick:()=>o(m=>({...m,theme:"Dark"})),children:R.jsx("h6",{children:"Dark"})}),R.jsx("div",{className:"dropdownElement",onClick:()=>o(m=>({...m,theme:"Light"})),children:R.jsx("h6",{children:"Light"})})]})]})]}),R.jsxs("div",{className:"grayInfoField",children:[R.jsx("h6",{style:{color:"#BDBDBD"},children:"Font size"}),R.jsxs("div",{className:"grayInfoFieldRight",children:[R.jsx("h6",{children:s.fontSize}),R.jsx("img",{className:"dropdownChevron",src:"/JTP/shared-assets/images/ChevronDown.svg",style:{width:"1.5rem"},onClick:f}),R.jsxs("div",{ref:e,className:"dropdownMenu",children:[R.jsx("div",{className:"dropdownElement",onClick:()=>o(m=>({...m,fontSize:"Little"})),children:R.jsx("h6",{children:"Little"})}),R.jsx("div",{className:"dropdownElement",onClick:()=>o(m=>({...m,fontSize:"Medium"})),children:R.jsx("h6",{children:"Medium"})}),R.jsx("div",{className:"dropdownElement",onClick:()=>o(m=>({...m,fontSize:"Large"})),children:R.jsx("h6",{children:"Large"})})]})]})]})]})]})}function BP(){return R.jsx("div",{ref:x.useContext(Co).sections[4],className:"profileSection",style:{minHeight:"1000px"},children:R.jsx("h2",{children:"Language"})})}const Co=x.createContext(),bT=200;function zP(){const i=x.useContext(ss);x.useEffect(()=>{i.setPage("Profile")},[]);const[e,n]=x.useState("Profile"),s=[x.useRef(),x.useRef(),x.useRef(),x.useRef(),x.useRef()],o=x.useRef([0,0,0,0,0]),u=x.useRef([0,0,0,0,0]);x.useEffect(f,[]),window.addEventListener("resize",f);function f(){const q=window.getComputedStyle(document.getElementsByTagName("header")[0]);s.forEach((K,se)=>{const ae=window.getComputedStyle(K.current);o.current[se]=Bl(ae.height)+Bl(ae.paddingTop)*2,se==1&&(u.current[se]=Bl(q.height)+Bl(q.paddingTop)+o.current[se-1]+20),se>1&&(u.current[se]=u.current[se-1]+o.current[se-1]+20)})}window.addEventListener("scroll",()=>{w(),j()});let m,p,g;function E(q,K){m=Za.scrollTop,p=K==0?88:u.current[K],g=p-m>=0?25:-25,A(),n(q)}function A(){m+=g,Za.scrollTop=m,g>=0&&m<p||g<0&&m>p?setTimeout(A,10):Za.scrollTop=p}function w(){const q=Za.scrollTop;for(let K=1;K<5;K++)if(q<u.current[K]-bT){n(mp[K-1]);break}q>=u.current[4]-bT&&n(mp[4])}const L=x.useRef();function j(){if(!L.current)return;const q=Bl(window.getComputedStyle(Za).height),K=Za.scrollTop;L.current.style.top=`${-500/q*K}px`}const $=x.useMemo(()=>R.jsx(MP,{section:e,chooseSection:E}),[e]);return R.jsx(Co.Provider,{value:{sections:s},children:R.jsxs("main",{id:"profileMainContainer",children:[$,R.jsx(VP,{reference:L}),R.jsx("div",{id:"sideDivHelper"})]})})}const ss=x.createContext();function HP(){const[i,e]=x.useState(!1);UM(e);const[n,s]=x.useState("Main page"),[o,u]=x.useState({alertType:"",funcConfirm:void 0}),f=x.useRef(!1),[m,p]=x.useState(et.currentUser?"Loading...":0);x.useEffect(()=>{f.current&&jM(m)},[m]);async function g(){const j=await vo($n(Kn,"users",et.currentUser.uid));j.data()&&p(j.data().balance),f.current=!0}et.currentUser&&!f.current&&g();const E=x.useRef(!1),[A,w]=x.useState([]);x.useEffect(()=>{E.current&&BM(A)},[A]);async function L(){const j=await vo($n(Kn,"users",et.currentUser.uid));j.data()&&w(j.data().overallStatistics),E.current=!0}if(et.currentUser&&!E.current&&L(),i||LA)return R.jsx(IM,{basename:"/JTP",children:R.jsxs(ss.Provider,{value:{auth:et,setPage:s,balance:m,setBalance:p,overallStatistics:A,setOverallStatistics:w,setAlertInfo:u},children:[n!=="Register"&&R.jsx(LM,{}),R.jsx(fP,{alertInfo:o,setAlertInfo:u}),n!=="Register"&&R.jsx(pP,{page:n,balance:m}),R.jsxs(rM,{children:[R.jsx(ro,{index:!0,element:R.jsx(gP,{})}),R.jsx(ro,{path:"/wheel",element:R.jsx(SP,{})}),R.jsx(ro,{path:"/roulette",element:R.jsx(bP,{})}),R.jsx(ro,{path:"/register",element:R.jsx(xP,{})}),R.jsx(ro,{path:"/profile",element:R.jsx(zP,{})})]})]})})}const qP=document.getElementById("root");let km;VC(et,i=>{i?.emailVerified?console.log(`Signed in with uid ${i.uid}`):console.log("No signed in user"),FM(),km||(km=R1.createRoot(qP)),km.render(R.jsx(x.StrictMode,{children:R.jsx(HP,{})}))});
