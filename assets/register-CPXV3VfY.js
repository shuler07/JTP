import{r as d,j as e,b as w,d as p,s as y,e as C,f as E,a as u,o as b,c as S}from"./firebase-s2V9xmUb.js";function F(){const[t,n]=d.useState(!0),[o,l]=d.useState(""),[r,v]=d.useState(""),[f,h]=d.useState(""),a=d.useRef(),[s,i]=d.useState("");d.useEffect(()=>{m()},[s]);function m(){if(s!==""){const c=a.current;c.style.display="block",c.style.animation="none",c.offsetWidth,c.style.animation="",c.style.animation="formAlertAnim 5s forwards";const j=()=>{c.style.display="none",c.removeEventListener("animationend",j)};c.addEventListener("animationend",j)}}function x(){window.location.href.endsWith("index.html")||(window.location.href="index.html")}return e.jsxs("div",{id:"formContainer",children:[e.jsx("img",{src:"/shared-assets/images/Logo180px.png",onClick:x,style:{cursor:"pointer"}}),e.jsx(g,{hint:"Email",type:"email",value:o,setValue:l}),e.jsx(g,{hint:"Password",type:"password",value:r,setValue:v}),t&&e.jsx(g,{hint:"Username",value:f,setValue:h}),e.jsx(R,{setAlert:i,animateAlert:m,isRegister:t,_email:o,_password:r,_username:f}),e.jsx(B,{isRegister:t,setIsRegister:n}),!t&&e.jsx(N,{email:o,setAlert:i,animateAlert:m}),e.jsx(k,{reference:a,alert:s})]})}function g({hint:t,type:n,value:o,setValue:l}){return e.jsxs("div",{className:"formField",children:[e.jsx("h6",{className:"formFieldHint",children:t}),e.jsx("input",{className:"formFieldInput",type:n,value:o,onChange:r=>l(r.target.value)})]})}function R({setAlert:t,animateAlert:n,isRegister:o,_email:l,_password:r,_username:v}){function f(){h(l,r,t,n)&&(o?w(u,l,r).then(a=>{const s=a.user;p(s).then(i=>{console.log("Email verification sent"),t("Confirm your email before you login"),n()}).catch(i=>{console.log(i.message)}),y(u)}).catch(a=>{console.log(a.message)}):C(u,l,r).then(a=>{const s=a.user;s.emailVerified||(p(s).then(i=>{console.log("Email verification sent"),t("Confirm your email before you login"),n()}).catch(i=>{console.log(i.message)}),y(u))}))}function h(a,s,i,m){const x=new Set(s);return s.length<8?(i("Short password"),m(),!1):x.size<=s.length/3?(i("Too many repeating symbols"),m(),!1):a==""?(i("Email field is empty"),m(),!1):!0}return e.jsx("div",{id:"formButtonContainer",children:e.jsx("button",{id:"formButton",onClick:f,children:e.jsx("h5",{className:"gradientText",children:o?"Register":"Login"})})})}function B({isRegister:t,setIsRegister:n}){return e.jsx("div",{id:"formButtonSwitchContainer",children:e.jsx("button",{id:"formButtonSwitch",className:"buttonWithUnderline",onClick:()=>n(!t),children:t?"Already have an account? Login":"Don't have an account? Register"})})}function N({email:t,setAlert:n,animateAlert:o}){function l(){if(t==""){n("Email field is empty"),o();return}E(u,t).then(r=>{n("Reset password email sent"),o()}).catch(r=>{console.log(r.message)})}return e.jsx("div",{id:"formButtonResetContainer",children:e.jsx("button",{id:"formButtonReset",className:"buttonWithUnderline",onClick:l,children:"Reset password"})})}function k({reference:t,alert:n}){return e.jsx("div",{ref:t,id:"formAlert",children:e.jsx("h6",{children:n})})}function T(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{}),e.jsx("div",{className:"bgCircle little",style:{left:"25dvw",top:"65dvh"}}),e.jsx("div",{className:"bgCircle little",style:{left:"85dvw",top:"40dvh"}}),e.jsx("div",{className:"bgCircle medium",style:{left:"70dvw",top:"5dvh"}}),e.jsx("div",{className:"bgCircle medium",style:{left:"55dvw",top:"60dvh"}}),e.jsx("div",{className:"bgCircle large",style:{left:"5dvw",top:"10dvh"}})]})}b(u,t=>{t?window.location.href="index.html":S.createRoot(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(T,{})}))});
